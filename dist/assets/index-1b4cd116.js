import{r as t,j as e,R as Qe}from"./react-ee2054f5.js";import{r as We,c as Ve}from"./react-dom-20ffc32d.js";import{Q as p,k as ze}from"./react-toastify-1463c61d.js";import{a as M}from"./@preact-73db6312.js";import{a as k}from"./axios-28bc18a3.js";import{A as ce,a as re,B as Ke,b as we,c as _e,d as de,e as Ae,F as be,f as se,I as ye,g as Ce,h as Se,i as Xe,j as Ze,k as $e,l as es,m as ss,n as ts,o as K,H as _,p as X,q as as,r as ke,s as Ie,R as os,t as ns,u as is,v as ls,w as cs,x as me,y as rs,z as ds,C as Te,D as ms,E as us,G as hs,J as ps,K as xs,L as gs,M as vs,N as Be,O as Ee,V as Oe,P as js,Q as fs,S as Ns,T as ws,U as As,W as bs,X as De,Y as Ue,Z as ie,_ as ys,$ as Cs,a0 as Ss,a1 as ks,a2 as Is,a3 as Ts,a4 as Bs,a5 as Es}from"./react-icons-760c6ccf.js";import{a as H,b as Re,O as Fe,d as q,e as Os,f as E}from"./react-router-26e78089.js";import{m as r,A as U}from"./framer-motion-cca84040.js";import{L as R,B as Ds}from"./react-router-dom-0c1cdf0e.js";import{l as Q}from"./socket.io-client-651ff694.js";import{L as Us}from"./react-scroll-0c5bacee.js";import{C as ge}from"./react-transition-group-13013688.js";import{S as G,_ as Rs,a as Fs}from"./react-spinners-0b9c193c.js";import{B as Hs}from"./react-scroll-to-bottom-425d9138.js";import{e as Ps}from"./@emailjs-a704afdc.js";import"./@babel-2cccee12.js";import"./core-js-pure-6fdf7d8d.js";import"./scheduler-765c72db.js";import"./clsx-1229b3e0.js";import"./use-sync-external-store-232771d3.js";import"./@remix-run-8989dd9f.js";import"./engine.io-client-86cec14e.js";import"./engine.io-parser-b13552ae.js";import"./@socket.io-3e1df240.js";import"./socket.io-parser-44417fca.js";import"./lodash.throttle-8e7477ca.js";import"./prop-types-387d7a00.js";import"./dom-helpers-9a525042.js";import"./classnames-a743e635.js";import"./core-js-7bbb6560.js";import"./@emotion-0f7eaed6.js";import"./stylis-79144faa.js";import"./math-random-fc091eca.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function o(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=o(l);fetch(l.href,i)}})();const Ms="/assets/Illustration-7100943b.svg";const D=({children:s,overlayColor:a,placement:o="Centered",onOutsideClick:n,zIndex:l=100,left:i=0,right:u=0,top:v=0,bottom:x=0,relativeLayerRef:m})=>{const d=t.useRef(null),[g,c]=t.useState({opacity:0}),j=t.useMemo(()=>{const f={};if(f.zIndex=l,a&&(f.backgroundColor=a),!(m!=null&&m.current))switch(o){case"Centered":f.alignItems="center",f.justifyContent="center";break;case"Top left":f.alignItems="flex-start";break;case"Top center":f.alignItems="center";break;case"Top right":f.alignItems="flex-end";break;case"Bottom left":f.alignItems="flex-start",f.justifyContent="flex-end";break;case"Bottom center":f.alignItems="center",f.justifyContent="flex-end";break;case"Bottom right":f.alignItems="flex-end",f.justifyContent="flex-end";break}return f.opacity=1,f},[o,a,l,m==null?void 0:m.current]),N=t.useCallback(()=>{var S,C;const f=(S=m==null?void 0:m.current)==null?void 0:S.getBoundingClientRect(),w=(C=d==null?void 0:d.current)==null?void 0:C.getBoundingClientRect(),h={opacity:1};if(f&&w){const{x:y,y:T,width:A,height:I}=f,{width:F,height:B}=w;switch(h.position="absolute",o){case"Top left":h.top=T-B-v,h.left=y+i;break;case"Top right":h.top=T-B-v,h.left=y+A-F-u;break;case"Bottom left":h.top=T+I+x,h.left=y+i;break;case"Bottom right":h.top=T+I+x,h.left=y+A-F-u;break}c(h)}else h.maxWidth="90%",h.maxHeight="90%",c(h)},[i,u,v,x,o,m==null?void 0:m.current,d==null?void 0:d.current]);t.useEffect(()=>(N(),window.addEventListener("resize",N),window.addEventListener("scroll",N,!0),()=>{window.removeEventListener("resize",N),window.removeEventListener("scroll",N,!0)}),[N]);const b=t.useCallback(f=>{n&&f.target.classList.contains("portalPopupOverlay")&&n(),f.stopPropagation()},[n]);return e.jsx(Ls,{children:e.jsx("div",{className:"portalPopupOverlay",style:j,onClick:b,children:e.jsx("div",{ref:d,style:g,children:s})})})},Ls=({children:s,containerId:a="portals"})=>{let o=document.getElementById(a);return o||(o=document.createElement("div"),o.setAttribute("id",a),document.body.appendChild(o)),We.createPortal(s,o)},Js="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALoAAAC6CAYAAAAZDlfxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL0SURBVHgB7d3NSlRxGMDhd7RVg/ixsysw8QK6BVcSNDtpkeVF9bWpVgNhKy+kKLqAoFUqg+48pxMT5oAHxvH8T+fjecDmgPKDhlfcvK9GAAAAAFC9QfRAPhotn16s7mVZtl/8h19tHL89jlv6tftst3i33kyDcdD2Rh7xouh82BhOjgbj8WV03L3ogZPzlc8R2cPB9Nv6UfHxIG5rOlyb155b3RhMG4+L9+Zb8bodHbcU/bB27bmKn2JdaqxHD/Rj0LPsefHvz+LjR/F8EIvQAAAAAAAAAAAAgGo0/vCiawcPGv9H89d0/x0abF69sRrdaNSobfvojia620iq+YPu4KG7DQAAAAAAAAAAAPop6XqlQwON1I15pV3TdWigkboxpzr30R0aaKRulEo76A4NNFI3AAAAAAAAAAAAaJ/S1ch8NFo+OV/5UjyuWvDXaEHjbH042RmMx5c3fV3pmu7pxepe8bIVFvw12tHY+juzNyod9CzL9mdyd6ehkbSR5/nTss+VDvogz16HBX+NVjUuXwYAAAAAAAAAAADNV7oaacFfo0uN8t+PbsFfo0ONef8QgAV/jVY3ygfdgr9GXxoAAAAAAAAAAADUy+GFhsOLsOCv0ZGGwwsNhxdhOV+jDw0AAAAAAAAAAADq5fBCw+FFWPDX6EjD4YWGw4uwnK/RhwYAAAAAAAAAAAD1cnih0fvDi8Ow4K/RrsZh2ZeVDvpgsPRuJnd3GhpJG3nE+7LPlQ762v2zT8XL97Ccr9GOxteN4eQoAAAAAAAAAAAAaL4q1itLORLQSN2Y17x/CGAxjgQ0UjfmlHbQZzkS0EjdKJV20B0JaKRuAAAAAAAAAAAA0D5JVyOr4NCgu4061bmPvhiHBt1t1Kj5gz7LoUF3G0k1f9AdGnS3AQAAAAAAAAAAQD81fr2yCg4eqm+0Tdv20Rfj4KH6Rsv0Y9Ajzq49O3iYDUyiB3ox6OvDyU4e8SSP/KODh6vG0Z/3ZG042Q4AAAAAWMhvT6xoO0VWWBsAAAAASUVORK5CYII=";const qs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFGSURBVHgBnZRPTsJQEMa/78EB2MmWE4imFXfiETyB7qwIqCew3MAAAnGjnsS61JioN2HrpuO8Sk2BtrR8SZO++fPLtDPzCJXnddtieEWihm0leJ5NRk/0Or0zkI8L4yu2kBC7hBbD8LgK4lSAeWRA+DKbjAdlYF6ne0uYowgcmmtjXyj4VvAANL4NKAOzOVEuJLBFmdg5Gw/9MtAkLMpdyCSDikKzYGvAItA8WCowD7oJZlVFlsJQNBkWcN7pNf9mlO1/X4ZSK1zqnj4kGwprhJCbTf+4mgdLfJa/FNPt21osFKtzawrA1pTXuIrjHp7o6uy4rlsvAov18f4WOK2WzjJ9x3V1e01TzT+Vfeegbki7z+2isDSoHuu6LQNax8Vl/1Pb1tTDl0DmKCGCtTh3ej/cY+yIbh1opSVlLxYRCR6mozt7/gUpEZpavdXhpQAAAABJRU5ErkJggg==",Ys="/assets/google-icon-68042e6e.svg",Gs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGOSURBVHgBlVTBTsJAEJ1ZK4m3+gXCF9iDehX+QL9APRgrouwn6BfYQKg1HtQ/0C8gXokHOHorX0C9kQIdZ1sq2uwqTNJtdvfNm5m3s4ugMSmlPY6nTQJ0EMEGwgEksRcEQVjEYnHhtF53BFpd3rB5OgCCiFH7/A9nMD188P2+kcCVsgyTpMtg4Ii1PGK+zsv2xrqoeJ4X5T7iV/g4kTyWfzorCzwvhHVRU1mNMwzoCZC2OfqbrlZFwgR9zsIxE/xjBBTNtVnETGt0G1US2ATEarZIfT0BOt/7BM+B335Ct355zI6PnFqExKovYwhboLTCpGbx5Egd0b3fqsAKdnZxNYJESGs+HxYB6ugont1yjREkk5uisFmZaFvGEJPkWmmiWgJEaZPHAx3MfAq0UJujjUwwM0FJSMyETUtYmSDtPiD+YKhrrNzMGkDaJK8zpL8gTED4Seq2aeyu0/bMrlhW2aHbaFSBhLqBId+FEJaw9J1QLU10svbe64U7u3vcB8iNxM/HUh98oBDnQaf18gUur6CDcUjk+wAAAABJRU5ErkJggg==",Qs="/assets/welcome-448c9cce.png",Ws=({closePopUp:s})=>{const a=H(),[o,n]=t.useState(""),[l,i]=t.useState(""),[u,v]=t.useState(!1),[x,m]=t.useState("off"),d=async c=>{c.preventDefault();let j=!1;const N=await k.get(`http://localhost:3002/getStudentByEmail/${o}/${l}`).catch(f=>{var w;((w=f.response)==null?void 0:w.status)===500&&(p.error(f.response.data.error),j=!0)});if(j)return;const b=N.data;if(N.status===201){p.error("Username or Password doesn't match!");return}if(N.status===202){p.error("User is not verified!");return}window.localStorage.setItem("logInStatus",!0),window.localStorage.setItem("currentUser",JSON.stringify(b)),p.success("Successfully Logged In"),setTimeout(()=>{window.localStorage.setItem("profileOption","General"),a("/profile/info"),s(),window.location.reload(!0)},500)},g=()=>{v(!u)};return e.jsx(r.div,{className:"login",children:e.jsxs("div",{className:"secondary-wrapper",children:[e.jsxs("form",{className:"log-in-form",onSubmit:d,children:[e.jsxs("div",{className:"log-in-field",children:[e.jsxs("div",{className:"field-holder-log",children:[e.jsx("input",{required:!0,type:"email",name:"email",placeholder:"email address",className:"log-in-email-holder",onChange:c=>{n(c.target.value)}}),e.jsx("img",{className:"email-icon",alt:"Email icon",src:qs})]}),e.jsxs("div",{className:"field-holder-log",children:[e.jsx("input",{required:!0,type:u?"text":"password",name:"password",placeholder:"password",className:"log-in-email-holder",onChange:c=>{i(c.target.value)}}),e.jsx("img",{className:"lock-icon",alt:"Lock icon",src:Gs}),e.jsx("div",{className:"toggle-show",onClick:g,children:u?e.jsx(ce,{}):e.jsx(re,{})})]})]}),e.jsxs("div",{className:"remember-section",children:[e.jsxs("div",{className:"remember-checkbox",children:[e.jsx("input",{type:"checkbox",className:"checkbox-icon",name:"remember",onChange:()=>{m(x==="off"?"on":"off")}}),e.jsx("label",{htmlFor:"remember",className:"check-box-text",children:"Remember me"})]}),e.jsx("a",{href:"/",target:"_self",className:"forgot-pass",children:"Forgot Password?"})]}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.04},whileTap:{scale:.9},className:"log-in-button",children:"Log in"}),e.jsxs("div",{className:"log-in-divider",children:[e.jsx("div",{className:"divider"}),e.jsx("div",{className:"continue",children:"or continue with"}),e.jsx("div",{className:"divider"})]}),e.jsxs("div",{className:"social-buttons",children:[e.jsxs(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"social-login-button",children:[e.jsx("img",{className:"google-icon",alt:"Google icon",src:Ys}),e.jsx("div",{className:"log-in-alt",children:"Google Account"})]}),e.jsxs(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"social-login-button",children:[e.jsx("div",{className:"apple-icon",children:e.jsx(Ke,{})}),e.jsx("div",{className:"log-in-alt",children:"Github Account"})]})]})]}),e.jsx("div",{className:"welcome-back",children:e.jsx("img",{className:"welcome-back-2",alt:"Welcome back",src:Qs})})]})})};const He=()=>(new Date().getTimezoneOffset()*60*1e3,new Date().toISOString()),W=s=>{const a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let n=a[s.getDay()]+" "+s.getDate()+" "+o[s.getMonth()]+", "+s.getFullYear();return+", "+s.getFullYear(),n},Pe=s=>{const a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=new Date;return(s.getDate()===n.getDate()&&s.getMonth()===n.getMonth()&&s.getFullYear()===n.getFullYear()?"Today, ":a[s.getDay()]+" "+s.getDate()+" "+o[s.getMonth()]+", "+s.getFullYear()+", ")+s.getHours()+":"+s.getMinutes()},Me=s=>{let a=!0;for(let o=0;o<s.length;o++)if(s[o]!==s[o].toUpperCase()){a=!1;break}return a},V=(s,a)=>s<a?-1:s>a?1:0;function Vs({closePopUp:s}){const[a,o]=t.useState(""),[n,l]=t.useState(""),[i,u]=t.useState(""),[v,x]=t.useState(""),[m,d]=t.useState(),[g,c]=t.useState(""),j=H(),[N,b]=t.useState(!1),f=()=>{b(!N)},w=async h=>{if(h.preventDefault(),i!=v){p.error("Passwords do not match!");return}const S={name:a+" "+n,password:i,student_id:m*1,email:g,join_date:He(),community:[],authenticated:0,avatar:"https://res.cloudinary.com/da8v9ysli/image/upload/v1701360245/qssdzsjfbxcglsnh6npw.png",publicId:"qssdzsjfbxcglsnh6npw"};let C=!1;const y=await k.post("http://localhost:3002/insertUser",S).catch(A=>{var I;((I=A.response)==null?void 0:I.status)===500&&(p.error(A.response.data.err),C=!0)});if(C)return;if(!y.data.acknowledged){p.error("Could not create user!");return}p.success("Account created successfully!"),setTimeout(()=>{s(),j(`/verify/${g}/auth`)},1e3)};return e.jsx("div",{className:"register",children:e.jsxs("div",{className:"secondary-wrapper",children:[e.jsx("div",{className:"sign-up-form",children:e.jsxs("form",{className:"sign-up-fields",onSubmit:w,children:[e.jsxs("div",{className:"div-2",children:[e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"first-name",className:"text-wrapper100",children:"First name"}),e.jsx("input",{required:!0,type:"text",name:"first-name",className:"div-4",onChange:h=>{o(h.target.value)}})]}),e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"last-name",className:"text-wrapper100",children:"Last name"}),e.jsx("input",{required:!0,type:"text",name:"last-name",className:"div-4",onChange:h=>{l(h.target.value)}})]})]}),e.jsxs("div",{className:"div-2",children:[e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"password",className:"text-wrapper100",children:"Password"}),e.jsx("input",{required:!0,type:N?"text":"password",name:"password",className:"div-4",onChange:h=>{u(h.target.value)}}),e.jsx("div",{className:"signup-showpass",onClick:f,children:N?e.jsx(ce,{}):e.jsx(re,{})})]}),e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"check-password",className:"text-wrapper100",children:"Repeat password"}),e.jsx("input",{required:!0,type:N?"text":"password",name:"check-password",className:"div-4",onChange:h=>{x(h.target.value)}})]})]}),e.jsx("div",{className:"div-2",children:e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"studentId",className:"text-wrapper100",children:"Student ID"}),e.jsx("input",{required:!0,type:"text",name:"studentId",className:"div-4",onChange:h=>{d(h.target.value)}})]})}),e.jsx("div",{className:"div-2",children:e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"email",className:"text-wrapper100",children:"Email"}),e.jsx("input",{required:!0,type:"email",name:"email",className:"div-4",onChange:h=>{c(h.target.value)}})]})}),e.jsxs("div",{className:"sign-up-checkbox",children:[e.jsx("input",{required:!0,type:"checkbox",className:"checkbox-sign",name:"remember"}),e.jsxs("label",{htmlFor:"remember",children:["I agree with the"," ",e.jsx(R,{style:{color:"#86c232"},children:"Terms and conditions"})]})]}),e.jsx(r.input,{type:"submit",whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#FFFFFF"},whileTap:{scale:.9},className:"create-your-acnt",value:"Create Your Account"})]})}),e.jsx("div",{className:"overlap-group",children:e.jsx("div",{className:"sing-up-today",children:e.jsx("p",{className:"sign-up-text",children:"Fill out the necessary fields to create an account right away!"})})})]})})}function Le({closePopUp:s,showLogin:a,authentication:o}){const[n,l]=t.useState(a),i=()=>{l(!0)},u=()=>{l(!1)};return e.jsx(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{x:1500,transition:{ease:"easeIn",duration:.3}},className:"log-in-holder",children:e.jsxs("div",{className:"holder-2",children:[e.jsx("div",{className:"lower-holder",children:n?e.jsx(Ws,{closePopUp:s}):e.jsx(Vs,{closePopUp:s})}),e.jsxs("div",{className:"upper-holder",children:[e.jsx("div",{className:"left-divider",alt:"Left divider",src:"left-divider.svg"}),e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"sign-up-green",onClick:u,children:"Sign Up"}),e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"text-wrapper99",onClick:i,children:"Log In"})]})]})})}function zs(){const[s,a]=t.useState(!1),[o,n]=t.useState(!0),l=H(),i=()=>{a(!0)},u=()=>{a(!1)};return t.useLayoutEffect(()=>{const v=window.localStorage.getItem("logInStatus");n(v==="false"||v===null)},[]),e.jsxs("div",{className:"section-hero",id:"hero",children:[e.jsx("div",{className:"overlap-hero-group",children:e.jsxs("div",{className:"hero-container",children:[e.jsxs("div",{className:"div-hero-content",children:[e.jsxs("div",{className:"hero-heading",children:[e.jsx("div",{className:"upper-title",children:"MIST"}),e.jsx("div",{className:"central-wrapper",children:" CENTRAL"}),e.jsx("div",{className:"lower-title",children:"RESOURCE HUB"}),e.jsx("div",{className:"subtitle",children:"Share your knowledge through"})]}),e.jsxs("div",{className:"button-wrapper",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"com-button",onClick:()=>{l("/allCommunities")},children:e.jsx("div",{className:"com-button-text",children:"Our communities"})}),o&&e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"join-button",onClick:i,children:e.jsx("div",{className:"join-button-text",children:"Join now"})})]})]}),e.jsxs("div",{className:"hero-img",children:[e.jsx("img",{className:"illustration",alt:"Illustration",src:Ms}),e.jsx("img",{className:"dot-shape",alt:"Dot shape",src:Js})]})]})}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:s&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:u,children:e.jsx(Le,{closePopUp:u,showLogin:!1})})})]})}const Z=({bgColor:s,topImage:a,firstLine:o,secondLine:n,description:l,featNo:i,textColor:u})=>e.jsxs("div",{style:{backgroundColor:`${s}`},className:"div-category-card",children:[e.jsx("div",{className:"icon-bg-circle",style:{backgroundColor:`${s}`}}),e.jsx("img",{className:"div-card-icon",alt:"Div card icon",src:a}),e.jsx("div",{className:"heading-link",children:e.jsxs("div",{className:"AI-chat-assistance",children:[o,e.jsx("br",{}),n]})}),e.jsx("div",{className:"p-card-text",children:e.jsx("p",{className:"cat-desc",children:l})}),e.jsx("div",{className:"span-card-badge",style:{backgroundColor:`${s}`,color:`${u}`},children:e.jsx("div",{className:"feat-no",children:i})})]});const Ks="/assets/feat1-832156bd.svg",_s="/assets/feat2-b5f40830.svg",Xs="/assets/feat3-b09f469b.svg",Zs="/assets/feat4-ff347d86.svg";function $s(){return e.jsx("div",{className:"section-features",id:"features",children:e.jsxs("div",{className:"feature-container",children:[e.jsxs("div",{className:"feat-overlap-group",children:[e.jsx("div",{className:"feature-upper-title",children:e.jsx("div",{className:"features",children:"FEATURES"})}),e.jsxs("div",{className:"feature-heading",children:[e.jsx("div",{className:"feat-left-text",children:"Share"}),e.jsx("div",{className:"feat-green",children:"Resources"}),e.jsx("div",{className:"feat-right-text",children:"online and interact with AI"})]}),e.jsx("div",{className:"feature-subtile",children:e.jsx("div",{className:"subsub",children:"Our platform offers the following features to its users"})})]}),e.jsxs("div",{className:"feature-list",children:[e.jsx(Z,{bgColor:"rgb(26,183,157,10%)",topImage:Ks,firstLine:"AI Chat",secondLine:"Assistance",description:"Get help and suggestions from your very own AI chat assistant.",featNo:"FEAT 1",textColor:"rgb(26,183,157)"}),e.jsx(Z,{bgColor:"rgb(238,73,98,10%)",topImage:_s,firstLine:"Resource Sharing",secondLine:"with peers",description:"Share different kinds of content with your community.",featNo:"FEAT 2",textColor:"rgb(238,73,98)"}),e.jsx(Z,{bgColor:"rgb(68,97,228,10%)",topImage:Xs,firstLine:"Interactive",secondLine:"Communities",description:"Connect with your own peer groups to share knowledge.",featNo:"FEAT 3",textColor:"rgb(68,97,228)"}),e.jsx(Z,{bgColor:"rgb(248,183,32,10%)",topImage:Zs,firstLine:"Personalized",secondLine:"Profiles",description:"Customize your profile and bookmark the materials as per your need.",featNo:"FEAT 4",textColor:"rgb(248,183,32)"})]})]})})}const et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFnSURBVHgBxVLBbYNAELzDCL5OBaEDSAVxKojzRDwMFSSuwLgCJxVAhIBnnAoiV2BSQSiBL0hAZhBIxMHy0yed7m53Z3bm7oS49pCXCoIgMDRNe5FSmm3b5lVVbT3PyycJ4jjeoHAxLkyS5AcpA7FvkmCfl2V5h1xBjDKAUbhDgY/CG6yurutBFEWLHuw5jmNh/8SzqqrWgFNGAlh8YCEAbzwrimJ0MqXsutV13a2z2Ww+RVAAaMKGBcAjpcLGnnHMHdQsAQx4Rj77RwDwGgl2O/ayeQckXfMM8AfWOc+2becDTh0pIMk7CJ5ppWmarogq4LmAHSrLYHE/xsjR7fviZIAwRHzJzmOrmCFeolMoAXZRRG/s7lNemqa0cOyBB8RD3glUGXxm7FfIZ1D3oCKw6plvEQzwnOwser9bSD5VFqJpDtyGH0wF6yf8SfH3U5mdPynvQfglzg9r8iv3tlxxYeBfvIqrj1+BbrqqnP9JPwAAAABJRU5ErkJggg==",st="/assets/Img-star-4082a613.svg",tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAYCAYAAAAYl8YPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEPSURBVHgB7VTREYIwDG09B2ADO4IjMAIj4AZsAE7ACDoCTmCdQJ0ANygb1ORMIUgp9c5P3t0jx0t4hDZUiD9ChpLW2gRCCsTYAR9Sypf4BWCSAq/WD9T3sUYle1ADC2BFUbNcGWvUYnekZaRldK8ojyjmjBQzUkzPSc+/ap1hX7thfhXF49IiU/5At4WvM3xT69EnnbGcQY46oxFQwKeYR0Kfp5h2cXpvJj5zhDABsxqIneMXNL6CLcWOovLUaODNoyF2eJmssR2GNBERYLuvfUm30HWk2XluY1zBPWa6+XCLhdZbKjy5v4Dl+T87Gu6QYWMHGHrQME37jGTANIWQA/GEcEeQBjawe1qsWBGPN4sVbGjOuQN1AAAAAElFTkSuQmCC",at="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFqSURBVHgBlVPRUYNAEOUIyeQvWIHYwdkBJfgbZhhjBSYVWEJiBegwwK8dJCVoB9gB+YMPwPd0URIuzLgzx+3e2327t7coa0SiKHIdx9GdHYbh4dzHHiOYTqe7yWSy71aSJG/nPiqO4zuAjzTqun5Gll+nNE332Fyl1KZt2y2WB/3As6qqHiC5LcEsU0NfGwo5LpdLBhUIdrHf0nc2m+0IOuL0gYUErZasnWjB/kpWasVqsF8PesAMAK+oskxZJ9I0jSek7oBASFqpxjIJzpmkgOoZCQCqHx5lJMA5G5lTz7LMGxDYtr0OgsDHi2xMBMAXUgGv447OwYUraATmYup/E0A4nbmQuaYeaAyXj5nQFwg8zMU3AfvhGBy2CLbGhM3DNT7Zj45g0YFgfSHIsYXDPTFWZPVmAviKzw25cfA5wvB7VyBo9Z6RI95NJ/8TH9iT+L4qKckX5gJZ+5lO7LIs3+fzOW0PK2cvvgCtQKRAuDRztAAAAABJRU5ErkJggg==",ue=({communityTag:s,communityBio:a,communityRating:o,communityName:n,resourceCount:l,memberCount:i,communityImage:u,hideShowRequest:v})=>{const[x,m]=t.useState(!1);t.useEffect(()=>{m(!v)},[]);const d=async()=>{if(window.localStorage.getItem("logInStatus")==="true"){const c=JSON.parse(localStorage.getItem("currentUser")),j={name:c.name,email:c.email,tag:s,id:c.student_id,date:new Date().toISOString(),avatar:c.avatar};let N=!1;const b=await k.post("http://localhost:3002/insertRequest",j).catch(w=>{var h;((h=w.response)==null?void 0:h.status)===500&&(N=!0,p.error("Request already sent!"))});if(N)return;if(b.status===201){p.warning("Already a member of this community!");return}b.data.acknowledged&&p.success("Request sent successfully!")}else p.error("Log in to join a community")};return e.jsx(r.div,{animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},layout:!0,className:"scroll-item",children:e.jsxs("div",{className:"com-card",children:[e.jsxs("div",{className:"com-card-overlap-group",children:[e.jsx("div",{className:"com-img",children:e.jsx("img",{className:"course-jpg",src:u})}),x&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"request-now",onClick:d,children:[e.jsx("img",{className:"res-img",alt:"Res img",src:tt}),e.jsx("div",{className:"req-wrapper",children:e.jsx("div",{className:"req-text-wrapper",children:"Join"})})]})]}),e.jsxs("div",{className:"com-card-desc",children:[e.jsx("div",{className:"com-tag",children:e.jsxs("div",{className:"com-tag-div",children:["#",s]})}),e.jsx("div",{className:"com-bio",children:e.jsx("p",{className:"com-bio-p",children:a})}),e.jsxs("div",{className:"rating-wrapper",children:[Array(o).fill(null).map((g,c)=>e.jsx("img",{className:"rating-stars",alt:"Rating stars",src:st},c)),e.jsxs("div",{className:"rating-text-wrapper",children:["(",o,".0/5 Rating)"]})]}),e.jsx("div",{className:"card-com-name",children:e.jsx("div",{className:"card-com-name-text",children:n})}),e.jsxs("div",{className:"com-stats",children:[e.jsxs("div",{className:"res-count",children:[e.jsx("img",{className:"res-img-1",alt:"Res img",src:at}),e.jsxs("div",{className:"res-text",children:[l," Resources"]}),e.jsx("div",{className:"card-divider",children:e.jsx("div",{className:"stats-divider",children:"|"})})]}),e.jsxs("div",{className:"res-count-2",children:[e.jsx("img",{className:"res-img",alt:"Res img",src:et}),e.jsxs("div",{className:"res-text",children:[i," Members"]})]})]})]})]})})};const ot="/assets/arrow-623c6f5c.svg",nt=()=>{const[s,a]=t.useState([]),o=H();return t.useEffect(()=>{k.get("http://localhost:3002/get_top_communities").then(n=>{const l=n.data;a(l)}).catch(n=>{console.log(n)})},[]),e.jsx("div",{className:"com-scroll",id:"communities",children:e.jsxs("div",{className:"scroll-container",children:[e.jsx("div",{className:"com-section-subtitle",children:e.jsx("div",{className:"popular-courses",children:"POPULAR COMMUNITIES"})}),e.jsx("div",{className:"com-section-title",children:e.jsx("p",{className:"pick-community",children:"Pick A Community To Get Started"})}),e.jsx("div",{className:"scroll-list",children:s.map((n,l)=>e.jsx(ue,{className:"scroll-item-instance",communityTag:n.tag,communityBio:n.description,communityRating:n.rating,communityName:n.name,resourceCount:n.resource,memberCount:n.members,communityImage:`${n.com_image}`},l))}),e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"discover-more",onClick:()=>{o("/allCommunities"),window.scrollTo(0,0)},children:[e.jsx("div",{className:"browse-more",children:"Browse more communities"}),e.jsx("img",{className:"arrow-icon",alt:"Arrow icon",src:ot})]})]})})};const it=()=>{const s=[{statNumber:385,description:"Total Members",bgColor:"#1ab79d1a",statNumberColor:"#1AB79D"},{statNumber:15,description:"Total Communities",bgColor:"#EE49621A",statNumberColor:"#EE4962"},{statNumber:1125,description:"Total Downloads",bgColor:"#8F57FF1A",statNumberColor:"#8F57FF"},{statNumber:564,description:"Total Uploads",bgColor:"#F8B7201A",statNumberColor:"#F8B720"}];return e.jsxs("div",{className:"section-stats",id:"stats",children:[e.jsx("div",{className:"stats-container",children:e.jsx("div",{className:"stat-list",children:s.map((a,o)=>e.jsx(lt,{bgColor:a.bgColor,statNumberColor:a.statNumberColor,statNumber:a.statNumber,description:a.description,className:"list-item-instance"},o))})}),e.jsx("div",{className:"stats-divider-right"}),e.jsx("div",{className:"thanks-for-support",children:"Thank You For All your Support"}),e.jsx("div",{className:"stats-divider-left"})]})},lt=({bgColor:s,statNumberColor:a,statNumber:o,description:n})=>e.jsx("div",{className:"stat-list-item",children:e.jsxs("div",{className:"div-stats-card",style:{backgroundColor:s},children:[e.jsx("div",{className:"stat-number",children:e.jsx("div",{className:"stat-number-text",style:{color:a},children:o})}),e.jsx("div",{className:"stat-desc",children:e.jsx("div",{className:"student-enrolled",children:n})})]})});function ct(){return Re().pathname,e.jsxs("div",{className:" overflow-hidden bg-cover container",children:[e.jsx(zs,{}),e.jsx($s,{}),e.jsx(nt,{}),e.jsx(it,{})]})}const te=()=>{const[s,a]=t.useState();t.useEffect(()=>{const n=localStorage.getItem("profileOption");a(n)},[]);const o=()=>{const n=({MenuIcon:l,menutext:i,linkTo:u})=>e.jsxs(R,{className:s===i?"menu-item-active":"menu-item",to:u,onClick:()=>{a(i),window.localStorage.setItem("profileOption",i)},children:[e.jsx("div",{className:"menu-icon",children:e.jsx(l,{})}),e.jsx("div",{className:"menu-text",children:i})]});return e.jsxs("div",{className:"menu-wrapper",children:[e.jsx(n,{MenuIcon:we,menutext:"General",linkTo:"/profile/info"}),e.jsx(n,{MenuIcon:_e,menutext:"Change Password",linkTo:"/profile/change-pass"}),e.jsx(n,{MenuIcon:de,menutext:"Edit Profile",linkTo:"/profile/edit"}),e.jsx(n,{MenuIcon:Ae,menutext:"Bookmarks",linkTo:"/profile/bookmark"}),e.jsx(n,{MenuIcon:be,menutext:"My Communities",linkTo:"/profile/my-commnunities"}),e.jsx(n,{MenuIcon:se,menutext:"My Uploads",linkTo:"/profile/my-uploads"}),e.jsx(n,{MenuIcon:ye,menutext:"Notifications",linkTo:"/profile/notification"}),e.jsx(n,{MenuIcon:Ce,menutext:"Inbox",linkTo:"/profile/inbox"}),e.jsx(n,{MenuIcon:Se,menutext:"Help and Privacy Policy",linkTo:"/profile/help"})]})};return e.jsxs("div",{className:"profile-container",children:[e.jsx("div",{className:"menu-holder",children:e.jsx(o,{})}),e.jsx("div",{className:" content-container ",children:e.jsx(Fe,{})})]})};const he=s=>{const a=new FileReader;return new Promise((o,n)=>{a.readAsDataURL(s),a.onload=()=>{o(a.result)},a.onerror=l=>{n(l)}})},rt=()=>{const[s,a]=t.useState(),[o,n]=t.useState(),[l,i]=t.useState(),[u,v]=t.useState(),[x,m]=t.useState(),[d,g]=t.useState(),[c,j]=t.useState(),[N,b]=t.useState(),[f,w]=t.useState(!1),h=t.useRef(null),S=async y=>{y.preventDefault();const T={name:s,department:l,bio:x,batch:u*1,email:o,phone:c,avatar:d},A=JSON.parse(window.localStorage.getItem("currentUser"));if(!(await k.patch(`http://localhost:3002/updateUser/${A.student_id}`,T)).data.acknowledged){p.error("Could not update user!");return}A.name=s,A.department=l,A.bio=x,A.batch=u,A.email=o,A.phone=c,window.localStorage.setItem("currentUser",JSON.stringify(A)),p.success("Profile updated successfully.")},C=async y=>{const T=y.target.files[0];if(T.size>2097152){p.error("Image size should be less than 2MB");return}const A=JSON.parse(window.localStorage.getItem("currentUser")),I=await he(T);let F=!1;w(!0);const B=await k.post("http://localhost:3002/uploadAvatar",{image:I,publicId:N,studentId:A.student_id}).catch(J=>{var pe,xe;((pe=J.response)==null?void 0:pe.status)===413?p.error(J.response.statusText):((xe=J.response)==null?void 0:xe.status)===500&&p.error("Could not upload avatar"),F=!0});if(F)return;const O=B.data;g(O.secure_url);const L=JSON.parse(window.localStorage.getItem("currentUser"));L.avatar=O.secure_url,L.publicId=O.public_id,window.localStorage.setItem("currentUser",JSON.stringify(L)),w(!1),p.success("Avatar updated successfully. Click SAVE to proceed.")};return t.useEffect(()=>{const y=JSON.parse(window.localStorage.getItem("currentUser"));a(y.name),i(y.department),m(y.bio),v(y.batch),n(y.email),j(y.phone),g(y.avatar),b(y.publicId)},[]),e.jsxs("div",{className:"edit-container",children:[f&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(G,{color:"#36d7b7",height:35,width:5})}),e.jsx("div",{className:"title-container",children:e.jsx("div",{className:"edit-title",children:"Edit Profile"})}),e.jsxs("div",{className:"shobkichu",children:[e.jsxs("form",{className:"form-container",onSubmit:S,children:[e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"name",children:"Name"}),e.jsx("input",{onChange:y=>{a(y.target.value)},className:"edit-input",type:"text",name:"name",value:s})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"email",children:"Email"}),e.jsx("input",{onChange:y=>{n(y.target.value)},className:"edit-input",type:"email",name:"email",value:o})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"department",children:"Department"}),e.jsx("input",{onChange:y=>{i(y.target.value)},className:"edit-input",type:"text",name:"department",value:l})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"batch",children:"Batch"}),e.jsx("input",{onChange:y=>{v(y.target.value)},className:"edit-input",type:"text",name:"batch",value:u,placeholder:"e.g. 2020"})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"bio",children:"Bio"}),e.jsx("input",{onChange:y=>{m(y.target.value)},className:"edit-input",type:"text",name:"bio",value:x})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"phone",children:"Phone"}),e.jsx("input",{onChange:y=>{j(y.target.value)},className:"edit-input",type:"text",name:"phone",value:c})]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"save-edit",children:"Save"})]}),e.jsxs("div",{className:"profile-pic-container",children:[e.jsx("img",{src:d,alt:"avatar",className:"prof-avatar"}),e.jsx(r.div,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"edit-pic-icon",onClick:()=>{h.current.click()},children:e.jsx(de,{})}),e.jsx("input",{onChange:C,ref:h,type:"file",accept:"image/*",name:"avatarUpload",id:"avatar-up",style:{display:"none"}})]})]})]})};function dt(){const s=H(),[a,o]=t.useState("menu"),[n,l]=t.useState(null),[i,u]=t.useState(Q("http://localhost:3002")),v=t.useRef(null),x=JSON.parse(localStorage.getItem("currentUser")),m=()=>{o("menu")},d=()=>{window.localStorage.setItem("logInStatus",!1),window.localStorage.removeItem("currentUser"),i.emit("logOut",x.student_id),p.success("Logged Out Successfully"),setTimeout(()=>{s("/"),window.location.reload(!0)},1e3)},g=b=>{const f=b.offsetHeight;l(f)};function c({DropIcon:b,dropText:f,goToMenu:w,RightIcon:h,linkTo:S}){return e.jsxs("li",{className:"dropdownItem",onClick:()=>{w&&(S?(s(w),window.localStorage.setItem("profileOption",f),window.scrollTo(0,0)):o(w))},children:[e.jsx(b,{}),e.jsxs("div",{children:[" ",f," "]}),h&&e.jsx(h,{})]})}const j=()=>e.jsxs("ul",{children:[e.jsx(c,{DropIcon:Xe,dropText:"My Profile",goToMenu:"prof",RightIcon:Ze}),e.jsx("div",{onClick:d,children:e.jsx(c,{DropIcon:$e,dropText:"Logout"})})]}),N=()=>e.jsxs("ul",{children:[e.jsx(r.div,{onClick:m,whileHover:{cursor:"pointer",color:"#ee4962"},children:e.jsx(es,{})}),e.jsx(c,{DropIcon:we,dropText:"General",linkTo:!0,goToMenu:"/profile/info"}),e.jsx(c,{DropIcon:de,dropText:"Edit Profile",linkTo:!0,goToMenu:"/profile/edit"}),e.jsx(c,{DropIcon:Ae,dropText:"Bookmarks",linkTo:!0,goToMenu:"/profile/bookmark"}),e.jsx(c,{DropIcon:be,dropText:"My Communities",linkTo:!0,goToMenu:"/profile/my-commnunities"}),e.jsx(c,{DropIcon:se,dropText:"My Uploads",linkTo:!0,goToMenu:"/profile/my-uploads"}),e.jsx(c,{DropIcon:ye,dropText:"Notifications",linkTo:!0,goToMenu:"/profile/notification"}),e.jsx(c,{DropIcon:Ce,dropText:"Inbox",linkTo:!0,goToMenu:"/profile/inbox"}),e.jsx(c,{DropIcon:ss,dropText:"Change Password",linkTo:!0,goToMenu:"/profile/change-pass"}),e.jsx(c,{DropIcon:Se,dropText:"Help",linkTo:!0,goToMenu:"/profile/help"})]});return t.useEffect(()=>{var b;o("menu"),l((b=v.current)==null?void 0:b.firstChild.offsetHeight),u(Q("http://localhost:3002"))},[]),e.jsxs("div",{className:"dropdown-container",style:{height:n},ref:v,children:[e.jsx(ge,{in:a==="menu",unmountOnExit:!0,timeout:500,classNames:"option-primary",onEnter:g,children:e.jsx("div",{className:"option",children:e.jsx(j,{})})}),e.jsx(ge,{in:a==="prof",unmountOnExit:!0,timeout:500,classNames:"option-secondary",onEnter:g,children:e.jsx("div",{className:"option",children:e.jsx(N,{})})})]})}const mt="/assets/logo-black-45250fb4.svg",ut=[{name:"Home",route:"hero"},{name:"Features",route:"features"},{name:"Communities",route:"communities"},{name:"Stats",route:"stats"},{name:"About",route:"about"}],ve=Q("http://localhost:3002",{transports:["websocket"]}),ht=()=>{const[s,a]=t.useState(!1),o=t.useRef(!1),[n,l]=t.useState(!1),[i,u]=t.useState(""),x=Re().pathname==="/",m=t.useCallback(()=>{a(!0)}),d=t.useCallback(()=>{a(!1)}),g=()=>{l(!n)},c=()=>{if(o.current){const j=JSON.parse(window.localStorage.getItem("currentUser"));u(j.avatar)}};return t.useLayoutEffect(()=>{const j=window.localStorage.getItem("logInStatus");o.current=j==="true",c()},[]),t.useEffect(()=>{ve.on("sendInvitationNotification",j=>{p.success(j),console.log(j)})},[ve]),e.jsxs("div",{className:"navbar",children:[e.jsxs("div",{className:"navbar-frame",children:[e.jsx(R,{to:"/",children:e.jsx("img",{alt:"logo",src:mt,className:"navbar-logo"})}),e.jsx("div",{className:"navbar-buttons",children:ut.map((j,N)=>e.jsx(Us,{disabled:!x,className:"navbar-label-wrapper",to:j.route,spy:!0,smooth:!0,offset:-130,duration:500,activeClass:"avtive-navbar-link",children:j.name},N))})]}),e.jsx("div",{className:"login-wrapper",children:o.current?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:i,alt:"avatar",onClick:g,className:"profile-avatar"}),e.jsx("div",{className:`dropdown-menu ${n?"active":"inactive"}`,children:n&&e.jsx(dt,{})})]}):e.jsx(r.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"log-in-button",onClick:m,children:"Log in"})}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:s&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:d,children:e.jsx(Le,{closePopUp:d,showLogin:!0,authentication:o.current})})})]})};const pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVFSURBVHgBtVhLSCtXGD5nEvNUE5Vca7TqwkWxrtRWrqgIUnp1JViLD5AK4lJau2+14LKLirt25epWrCulvVRRRLwIPja3Czc+qiiCWo0m5j39/slMbjLO5KG5H3xkPDmPb/7X+SNnT4QoihwfFtAE5oFGkCtfg2EwBAZBP+dcZE8Az3I+CTPgww7aslzvA+8hNJLFGiZkOpEsBjrw+EIWmO3L0Qu9uLq6KpStnzuBstVc8iHPQnFxMb2ca3V11ZjJ/LRvAnEUX0WggeUW5Or/4PJQqkkpD4U4estilntxBPKe2e12BxcXF6N6k3TN3Nvba8hAXCE4AjaDH8skeMB34BvwT/BUZ71hdHS06Pz8/HJiYiLKsgA/PDx0woJlOvwc/F3MHK/Bz/T229vbc7IsEpbjbUwpxH0D3orZ4195rea+c3NzVE/T5gQn1x4fHxfpbDQmZg69lxjT2ps8xmLhlCRSbVZ+f39vrKystGiIp/j6haXGCfgV+IlMN/iFas5P4KfqhS6Xy9LZ2Zl4Gz0SyNvb24XBwUEz08Y8Sy+uB9xksSRR4FHNo2I/qV5st9t5d3c3GUYQEwp5XCDijp+enhrKy8tN7DFesfcZqodfWXK2vgS/Br/UmNssf5+EtrY2Y21trYDamByLpBjWI/PaLi4uSjViJJOM7RGTszwdXqvPOTg4KCUNcomTwBWBAAm04Fnrnv2bacSNChR7mwnW+yPNfAqJpsQBr9cr5ufne/Hoh44wdUCSi2WT0vOjIJWRTtxT8ChkKA5lDcLk5KSkQxFjKCsrMyODrR6PRysGz5g2fpaZCqms6VYPwFbUP1JrRnd0WEkSHo1G+d3dneDz+bQ20ruqMkGzzvg/6oHLy0v6SKqFgvwHR3JwmFjY39/XcvE79nTohceJekA+WygtLVU0cBKotOLS4MbGhtadOMe08T2LuZ+YaKmXCeOvdNb+pR7Y3d2VziZjNTQ0SHqSxCCL2NramkFnsxOWO9Bej16azoYXpeednR1REUg1kP6gFBeXl5fzEAtabv6W5Q7faQ0uLS0ZqdTAxfEfWJKLoVzEXciQxSwQCIhTU1Nad/Fblj5jMwHtsakeRFkx42x6FOFiyWDEuIuNRiM1jBFMiszOzlpSbP4ckT/orZ+enrZZLBZJA3ufF7EYxD0soqulL6NWqzVyfX3Nx8bGbClE0g3wlmUOmktdzW9aX46MjNjJe6iBYafTGampqYl31zzh04hfXFZY0IY4KESwWldWVq6amppS/Y6lzKWGgErJjyz5qqPWjNr9N0zDpQq2trYMra2tJaFQ6IHFOh8qxH4WK9RiokCyJrnWChaYTKZ8h8NhnJ+fv0SXEWYfAOvr68aenh4XkpJuD29BQYEHl4UPSRtCXkhnJpYUXl1dLdzc3EiFOxKJGHCrmPH71V5fX++vqqrK6kdNOlC1GB4ediG0RLPZ7Acf4DnKktDR0VE8DhPLCZcFU8NKlpSsGAwGLSUlJcLCwsJ5rixJ4vr6+j7CfxmiOOMBZ9xhmLoYcjNZMy4wnsXUoMmDIZl+LJQWYCPW0dFROTQ05GTPxMDAgKOrq8uNpoTOCtAZiPcA4p/OjKAXVHRISCrIcl9Iok3IJjPcTZlsw1vayJJ4zsNGkf7+/uuZmZk7liHQqQvj4+MOJJ0DFYL2D8qkhCDL+RBefrhWSgwwqilQhoB70HB2dpaH+CB3KyItJBL10hgOhw0oR2JdXZ23sbHxAa4PtLS0hCoqKqKKINzpeUgC8/b2thW/e+1Yw+WDE8U9IBF9t7e3StZGE8UR/gePAZBtFH/mugAAAABJRU5ErkJggg==",xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKdSURBVHgBzVdRbhMxFHybTUMJaRAUwQ/lGykHoSdIL0APgDgA4gA9AblA6AEKFwDx314A+lUUEG1T2hKyzCzPiWtsr7ckUkcaObKdnbH9/GxnkoiiKDIUq2ALXAGbYGaawQn4C7wEz7MsK1K+m1V1gHCOog3eSelv4Qw8hZHfch0DOuI1Ff4fnKqRItmAjnodzGUx4CyMfLORecS5vvcWKG6b+AYTE7uy4YjnSxIX/eZ91fjXgK75Iqc9ZGJdtUo0rcY1iYt3wU1wQ+LYBw/AQwmb6IAnMwM6LbFofw1uSz28AV8F2jrQPGNQmhnoSLU4P7gLfgaPA305S0/A5zI3HDLB3HKSwQnj4FGgE6f7EzgEX0g12L+v/beVTwOGp+ARxW9FPtjTcuBp66rYM/Cx1jFGXqrwW6vOB2qvcglaUm3gi1Pviwku0Y7+3pP5qGNB26oyYHDsEafge63rS/Wa+7BCA3X2/YYKDR2hD+APbduRcJC6yLkOdU44syS7nrZ3Wm5KOhoNqYe7WsbO+tTR/3VQ8TEXe1r6Rrml5b6kY8oY4CnVTPwDR8fg41pzG9pbra9th5KOMhNeJhjoynxqTfDRxJbVx029XanGxBhoBzqY0TD4Plr1FBpoPePC3vcGZv8fSBgXjIELCcdBbM2ZnBj5Q/EHnskLsZg4b+JEmvJkEv9p6K75QIVjh1FP0mLiJ++JZQ7Q4/ihhLHo45g44nE8S0IwwbVsR/7ANe3JPBmFwBH7YsLGGOJlu22A8fBAlnslI7jtv5pr+iwTMhZQjLTDMsVH9hvhSirWe/t3WY6J8tvu2+DmPUwcI1WBmYKx8O5X52nmmOAs8Mp+W9JBMeaW8bUfpx4j5nnOOySfb7lcfZ5TiM9zZtbk5/kfAHfNPBPugpQAAAAASUVORK5CYII=",gt="/assets/Social Icons (1)-47f9ad4e.svg",vt="/assets/Social Icons-f1b92ca3.svg",jt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADgSURBVHgBpVTbEYIwELwP/6WElGAJlEAHpgQ6kBLsQEuwg9ABWgElYAfx0I0uDJFHdmYnuZDb7E4yiCTCe3+QrdDmXHlWdv6D5WJoPlFzQNt/3800Gx2OSqvs50/lQ7lXBhd1rDlTlkpHp9ZYy+Dq7QRjvriZ9gWRSnkLsb72KXeHTWbCKYsYzC9jN1cSc8oiJoLaRm8Lp1jK3qIeiGCvG8SKAQJ3/0M1OrBHKUtBEcqJNSNrgBgN1Q3Xa4QKOMgplpUtwI06vKv1sUioondWy1bgrXVJsSZcGUmF//PfeQEdbqZrU4KlDAAAAABJRU5ErkJggg==",ft="/assets/logo-white-f563c81e.png",Nt="/assets/linkedin-da7f2e25.svg";function wt(){const s=H(),[a,o]=t.useState(),n=l=>{l.preventDefault(),s(`/verify/${a}/auth`),o("")};return e.jsxs("div",{className:"section-footer",id:"about",children:[e.jsx("div",{className:"div-footer-top",children:e.jsxs("div",{className:"footer-container",children:[e.jsxs("div",{className:"div-footer-brand",children:[e.jsx("img",{className:"brand-logo",alt:"Brand logo",src:ft}),e.jsx("div",{className:"brand-description",children:"MIST Central Resource Hub gives you the unique opportunity to share your knowledge with your peers and be updated on everything happening on campus."}),e.jsx("div",{className:"footer-brand-info",children:"Address: Mirput Cantonment, Dhaka-1216"}),e.jsx("div",{className:"footer-brand-info",children:"Phone: +88015-58075365"}),e.jsx("div",{className:"footer-brand-info",children:"Email: mistdecoders@gmail.com"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("div",{className:"online-title",children:"Online Platform"}),e.jsx(R,{className:"online-title-item",children:"About"}),e.jsx(R,{to:"/allCommunities",className:"online-title-item",children:"Communities"}),e.jsx(R,{className:"online-title-item",children:"Developers"}),e.jsx(R,{className:"online-title-item",children:"Events"}),e.jsx(R,{className:"online-title-item",children:"Developer Profile"}),e.jsx(R,{className:"online-title-item",children:"View Guide"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("div",{className:"online-title",children:"Links"}),e.jsx(R,{className:"online-title-item",children:"Contact Us"}),e.jsx(R,{className:"online-title-item",children:"Gallery"}),e.jsx(R,{className:"online-title-item",children:"News & Articles"}),e.jsx(R,{className:"online-title-item",children:"FAQ's"}),e.jsx(R,{className:"online-title-item",children:"Thesis Gallery"}),e.jsx(R,{className:"online-title-item",children:"Coming Soon"})]}),e.jsxs("div",{className:"contact-us",children:[e.jsx("div",{className:"online-title",children:"Verification"}),e.jsx("div",{className:"brand-description",children:"Enter your email address to verify your account if you haven't already"}),e.jsxs("form",{className:"sub-form",onSubmit:n,children:[e.jsx("input",{required:!0,type:"email",placeholder:"your email address",onChange:l=>o(l.target.value),className:"sub-input",value:a}),e.jsxs(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"sub-button",type:"submit",children:[e.jsx("div",{className:"suscribe",children:"Verify"}),e.jsx("img",{className:"sub-arrow",alt:"Arrow",src:jt})]})]}),e.jsxs("div",{className:"social-links",children:[e.jsx("img",{src:pt,alt:"facebook"}),e.jsx("img",{src:xt,alt:"facebook"}),e.jsx("img",{src:Nt,alt:"facebook"}),e.jsx("img",{src:gt,alt:"facebook"}),e.jsx("img",{src:vt,alt:"facebook"})]})]})]})}),e.jsx("div",{className:"div-footer-bottom",children:e.jsxs("div",{className:"p-copyright",children:[e.jsx("div",{className:"copyright-2",children:"Copyright 2023 All Rights Reserved by"}),e.jsx(R,{to:"/",className:"link-codewithsadee",children:"RHUB@MIST"})]})})]})}const ae=Q("http://localhost:3002",{transports:["websocket"]});function At(){const[s,a]=t.useState(),[o,n]=t.useState(),[l,i]=t.useState(),[u,v]=t.useState(),[x,m]=t.useState(1),[d,g]=t.useState(34),[c,j]=t.useState([]),[N,b]=t.useState(),[f,w]=t.useState(new Date),h=H(),S=JSON.parse(localStorage.getItem("currentUser"));t.useEffect(()=>{const T=JSON.parse(window.localStorage.getItem("currentUser"));a(T.name),n(T.student_id),i(T.department),v(T.bio),m(T.batch),j(T.email),b(T.phone),w(new Date(T.join_date))},[]),t.useEffect(()=>{ae.emit("addOnlineUser",{student_id:S.student_id}),ae.on("sendInvitationNotification",T=>{p.success(T),console.log(T)})},[ae]);const C=({title:T,desc:A})=>e.jsxs("div",{className:"details-row",children:[e.jsxs("div",{className:"details-title",children:[T," :"]}),e.jsx("div",{className:"details-desc",children:A})]}),y=()=>{window.localStorage.setItem("profileOption","My Uploads"),h("/profile/my-uploads"),window.location.reload(!0)};return e.jsxs("div",{className:"general-info",children:[e.jsx("div",{className:"prof-username",children:s}),e.jsxs("div",{className:"bio-wrapper",children:[e.jsx("div",{className:"bio-text",children:"Bio"}),e.jsx("p",{className:"bio-text-2",children:u})]}),e.jsxs("div",{className:"member-since-wrapper",children:[e.jsx("div",{className:"join-date",children:W(f)}),e.jsx("div",{className:"join-date-2",children:"Member since"}),e.jsx("p",{className:"join-date-3",children:"You have joined RHUB on"})]}),e.jsxs("div",{className:"details-wrapper",children:[e.jsx(C,{title:"Name",desc:s}),e.jsx(C,{title:"Email",desc:c}),e.jsx(C,{title:"Student ID",desc:o}),e.jsx(C,{title:"Department",desc:l}),e.jsx(C,{title:"Batch",desc:x}),e.jsx(C,{title:"Phone",desc:N})]}),e.jsxs("div",{className:"up-count-wrapper",children:[e.jsx("div",{className:"upload-1",children:"My Uploads"}),e.jsx("div",{className:"upload-content",children:d}),e.jsx("div",{className:"last-on-nov",children:"Last on  Nov. 2021"}),e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"see-all-uploads",onClick:y,children:e.jsx("div",{className:"upload-1",children:"See all uploads"})})]})]})}function bt({closePopUp:s}){const[a,o]=t.useState(),[n,l]=t.useState(),[i,u]=t.useState(),[v,x]=t.useState("open"),[m,d]=t.useState(0),g=async c=>{c.preventDefault();const j=JSON.parse(window.localStorage.getItem("currentUser")),N=j.student_id;if(!Me(n)){p.error("Tag must be in all caps");return}const b={name:a,tag:n,description:i,privacy:v,members:1,resource:0,rating:0,admin:N,com_image:"https://res.cloudinary.com/da8v9ysli/image/upload/v1701360217/njekuneglxdpgb8njmai.jpg",imagePublicId:"njekuneglxdpgb8njmai"};let f=!1;const w=await k.post("http://localhost:3002/insertCommunity",b).catch(C=>{var y;((y=C.response)==null?void 0:y.status)===500&&(p.error(C.response.data.err),f=!0)});if(f)return;if(!w.data.acknowledged){p.error("Could not create community!");return}p.success("Successfully Created Community!!");const S={userId:N,tag:n};f=!1,await k.patch("http://localhost:3002/addComToUser",S).catch(C=>{var y;((y=C.response)==null?void 0:y.status)===500&&(p.error(C.response.data.err),f=!0)}),j.community.push(n),window.localStorage.setItem("currentUser",JSON.stringify(j)),!f&&setTimeout(()=>{s(),window.location.reload(!0)},500)};return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"com-create-container",children:[e.jsx("div",{className:"crt-header",children:"Create a New Community"}),e.jsxs("form",{className:"create-com-form",onSubmit:g,children:[e.jsxs("div",{className:"privacy-holder",children:[e.jsx("div",{className:"privacy-header",children:"Select a privacy type for your community"}),e.jsxs("div",{className:"privacy-radio",children:[e.jsxs("div",{children:[e.jsx("input",{checked:v==="private",type:"radio",id:"private",className:"privacy-radio-button",name:"privacy",value:"private",onChange:c=>{x(c.target.value)}}),e.jsx("label",{htmlFor:"private",className:"radio-text",children:"Private"})]}),e.jsxs("div",{children:[e.jsx("input",{checked:v==="open",type:"radio",id:"open",className:"privacy-radio-button",name:"privacy",value:"open",onChange:c=>{x(c.target.value)}}),e.jsx("label",{htmlFor:"open",className:"radio-text",children:"Open"})]})]})]}),e.jsxs("div",{className:"create-fields",children:[e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"name",className:"filed-label",children:"Name*"}),e.jsx("input",{required:!0,id:"name",type:"text",className:"name-tag-filed name-tag-only",onChange:c=>{o(c.target.value)}})]}),e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"tag",className:"filed-label",children:"Tag*"}),e.jsx("input",{required:!0,id:"tag",type:"text",placeholder:"ALL CAPS and no spaces",className:"name-tag-filed name-tag-only",onChange:c=>{l(c.target.value)}})]}),e.jsxs("div",{className:"create-field-2",children:[e.jsxs("label",{htmlFor:"desc",className:"filed-label",children:[e.jsx("div",{className:"ashol",children:"Description*"}),e.jsxs("div",{className:"word-count",children:[m,"/60"]})]}),e.jsx("textarea",{spellCheck:!0,maxLength:60,rows:2,required:!0,id:"desc",type:"textarea",className:"name-tag-filed desc-only",onChange:c=>{u(c.target.value),d(c.target.value.length)}})]})]}),e.jsxs("div",{className:"create-buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"create-button",onClick:()=>{s()},type:"button",children:"Cancel"}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"create-button",children:"Create"})]})]})]})}function Je({iconWidth:s,iconSize:a}){const o={width:s,fontSize:a};return e.jsx("div",{className:"loading-icon",style:o,children:e.jsx(ts,{})})}function yt(){const[s,a]=t.useState([]),[o,n]=t.useState(!1),[l,i]=t.useState("rating"),[u,v]=t.useState(-1),[x,m]=t.useState(""),[d,g]=t.useState(1),[c,j]=t.useState(0),[N,b]=t.useState(!1),f=()=>{if(window.localStorage.getItem("logInStatus")==="false"&&!o){p.error("Please login to create a community");return}n(!o)},w=async(h,S)=>{let C=`http://localhost:3002/get_all_communities/${h}/${S}/${c}`;x.length>0&&(C+=`?tag=${x}`),b(!0);const T=(await k.get(C)).data,A=T.total,I=Math.ceil(A/8);g(I),b(!1),a(T.communities)};return t.useEffect(()=>{w(l,u)},[l,u,c]),e.jsxs(r.div,{layout:!0,className:"community-container",children:[e.jsx("div",{className:"community-header",children:"Our Communities"}),e.jsxs("div",{className:"search-bar",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(K,{})}),e.jsx("input",{type:"search",className:"search-input-holder",placeholder:"Search communities by tag",onChange:h=>{m(h.target.value)}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",onClick:()=>{w(l,u)},children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:h=>{i(h.target.value)},children:[e.jsx("option",{value:"rating",className:"sort-dropdown-item",children:"Rating"}),e.jsx("option",{value:"members",className:"sort-dropdown-item",children:"Member Count"}),e.jsx("option",{value:"resource",className:"sort-dropdown-item",children:"Available Resources"}),e.jsx("option",{value:"name",className:"sort-dropdown-item",children:"Name"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{v(1)},children:e.jsx(_,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{v(-1)},children:e.jsx(X,{})})]}),e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"add-community",onClick:f,children:[e.jsx(as,{}),"Create a Community"]})]}),e.jsx(r.div,{animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},layout:!0,className:"cards-holder",children:N?e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(G,{color:"#36d7b7",height:35,width:5})}):s.length!==0?e.jsx(U,{mode:"wait",children:s.map((h,S)=>e.jsx(ue,{communityTag:h.tag,communityBio:h.description,communityRating:h.rating,communityName:h.name,resourceCount:h.resource,memberCount:h.members,communityImage:`${h.com_image}`},S))}):e.jsx("div",{style:{fontWeight:"600",fontFamily:"Poppins",position:"absolute",left:"40%"},children:"No communities found"})}),e.jsxs("div",{className:"select-page",children:[c>0&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{j(c-1),setTimeout(()=>{window.scrollTo(0,0)},300)},className:"prev-button",children:[e.jsx(ke,{})," Previous"]}),Array(d).fill(null).map((h,S)=>e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{j(S),setTimeout(()=>{window.scrollTo(0,0)},300)},className:"page-button",style:{backgroundColor:c===S?"#ee4962":"transparent",color:c===S?"#ffffff":"#000000"},children:S+1},S)),c<d-1&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{j(c+1),setTimeout(()=>{window.scrollTo(0,0)},300)},className:"prev-button",children:["Next ",e.jsx(Ie,{})]})]}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:o&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:f,children:e.jsx(bt,{closePopUp:f})})})]})}function Ct(){const[s,a]=t.useState([]),[o,n]=t.useState("rating"),[l,i]=t.useState(-1),[u,v]=t.useState(""),[x,m]=t.useState(1),[d,g]=t.useState(0),[c,j]=t.useState(!1),N=H(),b=async(w,h)=>{const S=JSON.parse(window.localStorage.getItem("currentUser")).community;let C=`http://localhost:3002/get_my_communities/${w}/${h}/${JSON.stringify(S)}/${d}`;u.length>0&&(C+=`?tag=${u}`),j(!0);const T=(await k.get(C)).data,A=T.pop().total,I=Math.ceil(A/3);m(I),a(T),j(!1)},f=w=>{p.success("Redirecting to selected community..."),window.localStorage.setItem("comActiveMenu","dashboard"),setTimeout(()=>{N(`/profile/com-holder/${w}/dashboard`)},500)};return t.useEffect(()=>{b(o,l)},[o,l,d]),e.jsxs("div",{className:"my-community-container",children:[e.jsx("div",{className:"community-header",children:"My Communities"}),e.jsxs("div",{className:"search-bar",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(K,{})}),e.jsx("input",{type:"search",className:"search-input-holder",placeholder:"Search communities by tag",onChange:w=>{v(w.target.value)}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",onClick:()=>{b(o,l)},children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:w=>{n(w.target.value)},children:[e.jsx("option",{value:"rating",className:"sort-dropdown-item",children:"Rating"}),e.jsx("option",{value:"members",className:"sort-dropdown-item",children:"Member Count"}),e.jsx("option",{value:"resource",className:"sort-dropdown-item",children:"Available Resources"}),e.jsx("option",{value:"name",className:"sort-dropdown-item",children:"Name"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{i(1)},children:e.jsx(_,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{i(-1)},children:e.jsx(X,{})})]})]}),e.jsx("div",{className:"cards-holder",children:c?e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(G,{color:"#36d7b7",height:35,width:5})}):s.length===0?e.jsx("div",{style:{fontWeight:"600",fontFamily:"Poppins",position:"absolute",left:"40%"},children:"No communities found"}):s.map((w,h)=>e.jsx(r.div,{whileHover:{scale:1.04,cursor:"pointer"},whileTap:{scale:.9},title:`Go to ${w.name}.`,onClick:()=>{f(w.tag)},children:e.jsx(ue,{communityTag:w.tag,communityBio:w.description,communityRating:w.rating,communityName:w.name,resourceCount:w.resource,memberCount:w.members,communityImage:`${w.com_image}`,hideShowRequest:!0})},h))}),e.jsxs("div",{className:"select-page",children:[d>0&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{g(d-1)},className:"prev-button",children:[e.jsx(ke,{})," Previous"]}),Array(x).fill(null).map((w,h)=>e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{g(h)},className:"page-button",style:{backgroundColor:d===h?"#ee4962":"transparent"},children:h+1},h)),d<x-1&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{g(d+1)},className:"prev-button",children:["Next ",e.jsx(Ie,{})]})]})]})}function St(){const[s,a]=t.useState(!1),[o,n]=t.useState("dashboard"),l=H(),i=q().tag,u=(v,x)=>{n(v),window.localStorage.setItem("comActiveMenu",v),l(x)};return t.useEffect(()=>{const v=window.localStorage.getItem("comActiveMenu");n(v)},[]),e.jsxs("div",{className:"com-holder",children:[e.jsx("div",{className:"com-menu",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:e.jsx("div",{className:"com-menu-icon",children:s?e.jsxs("div",{className:"com-menu-item",children:[e.jsx(os,{}),e.jsx("div",{title:"Dashoard",onClick:()=>{u("dashboard",`/profile/com-holder/${i}/dashboard`)},className:o==="dashboard"?"com-menu-item-icon-active":"com-menu-item-icon",children:e.jsx(ns,{})}),e.jsx("div",{title:"Chat",onClick:()=>{u("chat",`/profile/com-holder/${i}/chat`)},className:o==="chat"?"com-menu-item-icon-active":"com-menu-item-icon",children:e.jsx(is,{})}),e.jsx("div",{title:"Resources",onClick:()=>{u("resource",`/profile/com-holder/${i}/resource/list`)},className:o==="resource"?"com-menu-item-icon-active":"com-menu-item-icon",children:e.jsx(ls,{})})]}):e.jsx(cs,{})})}),e.jsx("div",{className:"inner-holder",children:e.jsx(Fe,{})})]})}const P=M({});function kt(){const s=q(),[a,o]=t.useState([]),[n,l]=t.useState([]),[i,u]=t.useState([]),[v,x]=t.useState(!1),[m,d]=t.useState(!1),[g,c]=t.useState(!1),j=t.useRef(null),N=()=>{x(!v)},b=(h,S)=>V(new Date(h.date),new Date(S.date))*-1,f=async()=>{let h=!1;const S=await k.get(`http://localhost:3002/get_communityByTag/${s.tag}`).catch(A=>{var I;((I=A.response)==null?void 0:I.status)===500&&(p.error("Could not load data"),h=!0)});if(h)return;const C=S.data;P.value=C,h=!1;const y=await k.get(`http://localhost:3002/getEvents/${s.tag}`).catch(A=>{var I;((I=A.response)==null?void 0:I.status)===500&&(p.error("Could not load data"),h=!0)});if(h)return;const T=y.data;T.sort(b),o([]),l([]),u([]),T.forEach(A=>{V(new Date(A.date),new Date)===-1?o(I=>[...I,A]):V(new Date(A.date),new Date)===0?l(I=>[...I,A]):V(new Date(A.date),new Date)===1&&u(I=>[...I,A])})},w=async h=>{const S=h.target.files[0];if(S.size>2097152){p.error("Image size should be less than 2MB");return}const C=await he(S);let y=!1;c(!0);const T=await k.post("http://localhost:3002/uploadComImage",{image:C,tag:P.value.tag,publicId:P.value.imagePublicId}).catch(I=>{var F,B;((F=I.response)==null?void 0:F.status)===413?p.error(I.response.statusText):((B=I.response)==null?void 0:B.status)===500&&p.error("Could not upload avatar"),y=!0});if(y)return;const A=T.data;P.value.com_image=A.secure_url,P.value.imagePublicId=A.public_id,c(!1),p.success("Image updated successfully.")};return t.useEffect(()=>{f()},[]),e.jsxs("div",{className:"dashboard-wrapper",children:[g&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(G,{color:"#36d7b7",height:35,width:5})}),e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:.3},className:"upper-part",children:[e.jsxs("div",{className:"title",children:[e.jsxs("div",{className:"com-name",children:[P.value.name," Dashboard "]}),e.jsx("div",{className:"com-desc",children:P.value.description}),e.jsxs("div",{className:"com-desc",children:[e.jsx("b",{children:"Admin:"})," ",P.value.admin]})]}),e.jsxs("div",{className:"com-logo",children:[e.jsx(r.img,{whileHover:{scale:1.1},whileTap:{scale:.5},src:P.value.com_image,alt:"com image",className:"com-image",onClick:()=>{j.current.click()}}),e.jsx("input",{onChange:w,ref:j,type:"file",accept:"image/*",name:"avatarUpload",id:"avatar-up",style:{display:"none"}}),e.jsxs("div",{className:"small-stats",children:[e.jsx("div",{className:"small-name",children:P.value.name}),e.jsxs("div",{className:"member-count",children:[P.value.members," members"]}),e.jsx(r.div,{style:{color:"#000000"},whileHover:{scale:1.05,color:"#ee4962"},whileTap:{scale:.9},className:"rate-us",onClick:()=>{d(!m)},children:"rate community"}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:m&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:()=>{d(!1)},children:e.jsx(Et,{com:P.value,colsePopUp:()=>{d(!m)}})})})]})]})]}),e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:.3},className:"lower-part",children:[e.jsx(oe,{eventArray:a,listTitle:"Past"}),e.jsx(oe,{eventArray:n,listTitle:"Ongoing"}),e.jsx(oe,{eventArray:i,listTitle:"Upcoming"}),e.jsx(r.div,{whileHover:{scale:1.05},whileTap:{scale:.9},className:"add-event",onClick:N,children:e.jsx(me,{})})]}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:v&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:N,children:e.jsx(Bt,{})})})]})}const oe=({eventArray:s,listTitle:a})=>e.jsxs("div",{className:"past-event",children:[e.jsxs("div",{className:"title-2",children:[e.jsxs("div",{className:"title-left",children:[a," events"]}),e.jsx(r.div,{whileHover:{scale:1.05,cursor:"pointer",borderRadius:"50%"},whileTap:{scale:.9},style:{color:"#000000"},children:e.jsx(rs,{})})]}),e.jsx("div",{className:"event-list",children:s.length===0?e.jsx("div",{className:"empty-list",children:"No events"}):s.map((o,n)=>e.jsx(It,{event:o},n))})]}),It=({event:s})=>{const[a,o]=t.useState(!1),[n,l]=t.useState(-1),[i,u]=t.useState(!1),v=()=>{u(!i)};return e.jsxs("div",{className:"event-card",children:[e.jsx("div",{className:"event-card-title",children:s.title}),e.jsx("div",{className:"event-card-description",children:s.description}),e.jsx("div",{className:"event-card-description",children:W(new Date(s.date))}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"comments",children:[e.jsxs(r.div,{whileTap:{scale:.9},className:"comment-stat",onClick:()=>{o(!a)},children:[e.jsx("div",{style:{color:"#000000",fontSize:"1.1rem"},children:e.jsx(ds,{})}),e.jsx("div",{className:"cmnt-count",children:s.comments.length})]}),a&&e.jsxs("div",{className:"comment-list",children:[s.comments.map((x,m)=>e.jsxs("div",{className:"comment-row",onMouseEnter:()=>{},children:[e.jsx("div",{className:"comment-name",children:x.name}),e.jsx("div",{className:"comment-body",children:x.body}),n===m&&e.jsx(r.div,{whileHover:{scale:1.3,color:"#F6C90E"},whileTap:{scale:.9},className:"delete-comment",children:e.jsx(Te,{})})]},m)),e.jsx(r.div,{whileHover:{scale:1.04,backgroundColor:"#1a1d21"},whileTap:{scale:.9},className:"add-comment",onClick:v,children:e.jsx(me,{})}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:i&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:v,children:e.jsx(Tt,{tag:s.tag,date:s.date})})})]})]})]})},Tt=({tag:s,date:a})=>{const[o,n]=t.useState(""),l=JSON.parse(window.localStorage.getItem("currentUser")).name,i=async u=>{u.preventDefault();const v={body:o,name:l};(await k.patch(`http://localhost:3002/addComment/${JSON.stringify(s)}/${a}`,v).catch(d=>{var g;((g=d.response)==null?void 0:g.status)===500&&p.error("Could not add comment")})).data.acknowledged&&(p.success("Comment added successfully"),setTimeout(()=>{window.location.reload(!0)},500))};return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"addEvent-wrapper",children:[e.jsx("div",{className:"title",children:"Add a comment"}),e.jsxs("form",{className:"input-form",onSubmit:i,children:[e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"comment",className:"field-label",children:"Comment"}),e.jsx("textarea",{onChange:u=>{n(u.target.value)},required:!0,type:"text",className:"main-field",style:{backgroundColor:"transparent",border:"solid 1px #0d0f10"}})]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"addEvent-button",children:"Add comment"})]})]})},Bt=()=>{const[s,a]=t.useState([]),[o,n]=t.useState(""),[l,i]=t.useState(""),[u,v]=t.useState(""),x=async m=>{m.preventDefault();const d=JSON.parse(window.localStorage.getItem("currentUser")).student_id;let g=!1;for(let j=0;j<s.length;++j)if(!Me(s[j])){g=!0;break}if(g){p.error("Tags should be all caps");return}const c={tag:s,title:o,description:l,date:u+"T00:00:00.0Z",scheduler:d,comments:[]};await k.post("http://localhost:3002/addEvent",c),p.success("Event created successfully")};return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"addEvent-wrapper",children:[e.jsx("div",{className:"title",children:"Create an event"}),e.jsxs("form",{className:"input-form",onSubmit:x,children:[e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"tag",className:"field-label",children:"Tag"}),e.jsx("input",{onChange:m=>{a(m.target.value.split(" "))},placeholder:"Space separated tags",id:"tag",required:!0,type:"text",className:"main-field",style:{backgroundColor:"transparent",border:"solid 1px #0d0f10"}})]}),e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"title",className:"field-label",children:"Title"}),e.jsx("input",{onChange:m=>{n(m.target.value)},required:!0,type:"text",className:"main-field",style:{backgroundColor:"transparent",border:"solid 1px #0d0f10"}})]}),e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"desc",className:"field-label",children:"Description"}),e.jsx("input",{onChange:m=>{i(m.target.value)},required:!0,type:"text",className:"main-field",style:{backgroundColor:"transparent",border:"solid 1px #0d0f10"}})]}),e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"date",className:"field-label",children:"Date"}),e.jsx("input",{onChange:m=>{v(m.target.value)},required:!0,type:"date",className:"main-field"})]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"addEvent-button",children:"Create event"})]})]})},Et=({com:s,colsePopUp:a})=>{const[o,n]=t.useState(0),[l,i]=t.useState(0),[u,v]=t.useState(!1),[x,m]=t.useState(""),d=JSON.parse(window.localStorage.getItem("currentUser")),g=async c=>{c.preventDefault();const j={name:d.name,student_id:d.student_id,rating:o,date:new Date().toISOString(),feedback:x},N=await k.patch(`http://localhost:3002/rateCom/${s.tag}`,j).catch(b=>{var f;((f=b.response)==null?void 0:f.status)===500&&p.error("Could not rate community")});N.data,N.status===200?p.success("Community rated successfully"):N.status===201&&p.warning("You have already rated this community"),setTimeout(()=>{a()},500)};return e.jsxs(r.div,{initial:{width:"15vw"},animate:{width:"30vw"},exit:{width:"15vw"},transition:{ease:"easeIn",duration:.2},className:"rating-holder",children:[e.jsx("div",{className:"title",children:"Your opinion matters to us"}),e.jsx("div",{className:"rating-stars",children:[...Array(5)].map((c,j)=>e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"rating",value:j+1,style:{display:"none"}}),e.jsx(ms,{style:{cursor:"pointer"},color:j+1<=(l||o)?"#f6c90e":"#ffffff",onClick:()=>{n(j+1),console.log(o)},onMouseEnter:()=>{i(j+1)},onMouseLeave:()=>{i(0)}})]},j))}),e.jsxs("div",{className:"rating-buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"show-comment",onClick:()=>{v(!u)},children:"Give a feedback"}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"show-comment",onClick:g,children:"Submit"})]}),u&&e.jsx(r.textarea,{initial:{opacity:0,width:0,height:0},animate:{opacity:1,width:"90%",height:"100%"},exit:{opacity:0,width:0,height:0},transition:{ease:"easeIn",duration:.3},className:"comment-field",placeholder:"Write your feedback here",name:"feedback",id:"feedback",cols:"30",rows:"10",onChange:c=>{m(c.target.value)}})]})};const ee=M({}),z=Q("http://localhost:3002",{transports:["websocket"]});function Ot(){const s=JSON.parse(localStorage.getItem("currentUser")),[a,o]=t.useState(!1),[n,l]=t.useState(!1),[i,u]=t.useState(""),[v,x]=t.useState(!1),[m,d]=t.useState([]),[g,c]=t.useState(""),[j,N]=t.useState([]),[b,f]=t.useState([]),w=t.useRef(0),h=q().tag,S=t.useRef(null),C=H(),y=()=>{o(!a)},T=async()=>{try{const B=await k.get(`http://localhost:3002/get_communityByTag/${h}`);w.current=B.data.admin,ee.value=B.data,u(B.data.name),l(w.current===s.student_id)}catch(B){console.log(B)}},A=async()=>{try{const B=await k.get(`http://localhost:3002/getOnlineUsers/${h}`);N(B.data.online),f(B.data.offline)}catch(B){console.log(B)}},I=async()=>{x(!0),(await k.delete(`http://localhost:3002/deleteCom/${h}`).catch(L=>{var J;((J=L.response)==null?void 0:J.status)===500&&p.error("Something went wrong")})).data.acknowledged?(x(!1),p.success("Community deleted successfully"),C("/profile/my-commnunities")):p.error("Something went wrong")},F=async()=>{x(!0);let B=!1;const O=await k.patch("http://localhost:3002/leaveCommunity",{tag:h,studentId:s.student_id}).catch(L=>{var J;((J=L.response)==null?void 0:J.status)===500&&(p.error("Something went wrong"),B=!0)});B||(O.status===200?(x(!1),s.community=s.community.filter(L=>L!==h),localStorage.setItem("currentUser",JSON.stringify(s)),p.success("Community left successfully"),C("/profile/my-commnunities")):p.error("Something went wrong"))};return t.useEffect(()=>{T(),A(),z.emit("joinComChat",{user:s,comTag:h})},[]),t.useEffect(()=>{z.on("receiveMessage",B=>{d(O=>[...O,B])})},[z]),e.jsxs(r.div,{layout:!0,className:"com-chat",children:[e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:.3},className:"chat-window",children:[e.jsxs("div",{className:"title",children:[i," Chatroom"]}),e.jsx("div",{className:"chat-holder",children:e.jsx(Hs,{initialScrollBehavior:"smooth",className:"chat-holder-scroll",followButtonClassName:"follow-button",scrollViewClassName:"scroll-view",children:m.map((B,O)=>e.jsx(Dt,{user:B.user,message:B.body},O))})}),e.jsxs("form",{className:"message-field",children:[e.jsx(r.div,{whileHover:{scale:1.1,cursor:"pointer",color:"#ee4962"},whileTap:{scale:.9},className:"audio-icon",title:"Attach audio file",children:e.jsx(us,{})}),e.jsx("textarea",{required:!0,name:"message",id:"message",cols:"30",rows:"10",placeholder:"What do you want to say today",className:"message-input",value:g,onChange:B=>{c(B.target.value)}}),e.jsx(r.div,{whileHover:{scale:1.1,cursor:"pointer",color:"#ee4962"},whileTap:{scale:.9},className:"attach-icon",title:"Attach file",onClick:()=>S.current.click(),children:e.jsx(hs,{})}),e.jsx("input",{type:"file",name:"file",id:"file",ref:S,style:{display:"none"}}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.1,cursor:"pointer"},whileTap:{scale:.9},className:"send-icon",onClick:B=>{B.preventDefault(),z.emit("sendMessage",{user:s,body:g,room:h}),c("")},children:e.jsx(ps,{style:{color:"GrayText"}})})]})]}),e.jsxs(r.div,{className:"members",children:[e.jsxs("div",{className:"onoff-list",children:[e.jsxs(r.div,{initial:{x:500,opacity:0},animate:{x:0,opacity:1},transition:{ease:"easeIn",duration:.3},className:"online",children:[e.jsx("div",{className:"title",children:"Currently Online"}),j.map((B,O)=>e.jsx(je,{user:B},O))]}),e.jsx("div",{className:"divider"}),e.jsxs(r.div,{initial:{x:-500,opacity:0},animate:{x:0,opacity:1},transition:{ease:"easeIn",duration:.3},className:"offline",children:[e.jsx("div",{className:"title",children:"Offline"}),b.map((B,O)=>e.jsx(je,{user:B},O))]})]}),e.jsxs("div",{className:"manage-buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#fff"},whileTap:{scale:.9},className:"member-mng",onClick:()=>{w.current===s.student_id?y():p.error("You are not an admin of this community")},children:"Manage Members"}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#fff"},whileTap:{scale:.9},className:"member-mng",onClick:()=>{n?I():F()},children:n?"Delete Community":"Leave Community"})]})]}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:a&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:y,children:e.jsx(Ut,{})})}),v&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(Rs,{color:"#36d7b7",height:35,width:5})})]})}const Dt=({user:s,message:a})=>{var u;const[o,n]=t.useState(!1),[l,i]=t.useState(!1);return(u=JSON.parse(localStorage.getItem("currentUser")))==null||u.student_id,e.jsxs("div",{className:"chat-row",onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},children:[e.jsx("img",{src:s.avatar,alt:"avatar",className:"sender-avatar"}),e.jsxs("div",{className:"message-body",children:[e.jsxs("div",{className:"name-date",children:[e.jsxs("div",{className:"actual-name-date",children:[e.jsx("div",{className:"name",children:s.name}),e.jsx("div",{className:"date",children:Pe(new Date("2023-10-30T15:14:44.195Z"))})]}),e.jsxs(r.div,{whileHover:{scale:1.04,cursor:"pointer",color:"#ee4962"},whileTap:{scale:.9},className:"copy-icon",onClick:()=>{navigator.clipboard.writeText(a),n(!0),setTimeout(()=>{n(!1)},500)},children:[e.jsx(xs,{}),o&&e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:e.jsx(r.div,{initial:{width:0,opacity:0,fontSize:0},animate:{width:"fit-content",opacity:1,fontSize:"0.8rem"},exit:{width:0,opacity:0,fontSize:0},transition:{duration:.2,ease:"easeIn"},className:"copy-message",children:"copied"})})]})]}),e.jsxs("div",{className:"main-text",children:[e.jsx("div",{className:"main-actual-text",children:a}),l&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"reply-icon",children:[e.jsx(gs,{})," Reply"]})]})]})]})},je=({user:s})=>e.jsx("div",{className:"online-offline",children:e.jsxs("div",{className:"image-name",children:[e.jsx("img",{src:s.avatar,alt:"avatar",className:"online-image"}),e.jsx("div",{className:"online-name",children:s.name})]})}),Ut=()=>{const s=JSON.parse(window.localStorage.getItem("currentUser")),[a,o]=t.useState([]),[n,l]=t.useState(0),i=q().tag,u=async()=>{try{const d=await k.get(`http://localhost:3002/getRequests/${i}`);o(d.data)}catch(d){console.log(d)}},v=async({confirm:d,tag:g,id:c})=>{try{await k.patch("http://localhost:3002/handleRequest",{confirm:d,tag:g,id:c}),u()}catch(j){console.log(j)}},x=async d=>{d.preventDefault();const g={messageBody:`${s.name} has invited you to join his community`,title:ee.value.name,date:new Date().toISOString(),type:"invitation",status:"unread",comTag:i,comName:ee.value.name},c=await k.patch(`http://localhost:3002/sendInvitation/${n}`,g).catch(N=>{var b;((b=N.response)==null?void 0:b.status)===500&&p.error("Something went wrong")});if(c.status===201){p.warning("Already a member of this community");return}else if(c.status===202){p.warning("User does not exists");return}c.data.acknowledged?(p.success("Invitation sent successfully"),z.emit("sendInvitation",{invitationId:Number(n),sender:s.student_id,comName:ee.value.name})):p.error("Something went wrong")};t.useEffect(()=>{u()},[]);const m=({request:d})=>e.jsxs("div",{className:"request-row",children:[e.jsxs("div",{className:"image-name",children:[e.jsx("img",{src:d.avatar,alt:"avatar",className:"image"}),e.jsx("div",{className:"name",children:d.name})]}),e.jsxs("div",{className:"buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#f6c90e",color:"#000000"},whileTap:{scale:.9},className:"confirm",style:{color:"#b6f09c"},onClick:()=>v({confirm:"yes",tag:i,id:d.id}),children:"Confirm"}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff"},whileTap:{scale:.9},className:"confirm",style:{color:"#ee4962"},onClick:()=>v({confirm:"no",tag:i,id:d.id}),children:"Decline"})]})]});return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.5,transition:{ease:"easeIn",duration:.2}},className:"manage-members",children:[e.jsxs("div",{className:"title-wrapper",children:[e.jsx("div",{className:"title",children:"Manage members of your community"}),e.jsx("div",{className:"subtitle",children:"Review requests to join your community and invite new members"})]}),e.jsxs("form",{className:"invitation-send",onSubmit:x,children:[e.jsx("div",{className:"public-icon",children:e.jsx(vs,{})}),e.jsx("input",{required:!0,type:"text",className:"invitation-field",placeholder:"Send invitation by student ID",onChange:d=>l(d.target.value)}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff"},whileTap:{scale:.9},type:"submit",className:"invitation-button",children:"Invite"})]}),e.jsx("div",{className:"request-list",children:a.length===0?e.jsx("div",{style:{fontFamily:"poppins",position:"relative",left:"30%",top:"30%",color:"gray"},children:"No requests to join this community"}):a.map(d=>e.jsx(m,{request:d},d.id))})]})};function Rt({closePopUp:s}){const[a,o]=t.useState(),[n,l]=t.useState([]),[i,u]=t.useState(),[v,x]=t.useState("Open"),m=q().tag,d=async g=>{g.preventDefault(),JSON.parse(window.localStorage.getItem("currentUser")).student_id;const j=await k.get("http://localhost:3002/get_upload_count"),N={access:v,category_name:a,date:He(),description:i,keywords:n,community:m,academic:[],student:[],misc:[],logNo:j.data+1};let b=!1;const f=await k.post("http://localhost:3002/createCategory",N).catch(h=>{var S;((S=h.response)==null?void 0:S.status)===500&&(p.error(h.response.data),b=!0)});if(b)return;if(!f.data.acknowledged){p.error("Could not create category!");return}p.success("Successfully Created Category!!"),setTimeout(()=>{s(),window.location.reload(!0)},500)};return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"cat-create-container",children:[e.jsx("div",{className:"crt-header",children:"Create a New Category"}),e.jsxs("form",{className:"create-com-form",onSubmit:d,children:[e.jsxs("div",{className:"privacy-holder",children:[e.jsx("div",{className:"privacy-header",children:"Select a privacy type for the category"}),e.jsxs("div",{className:"privacy-radio",children:[e.jsxs("div",{children:[e.jsx("input",{checked:v==="Restricted",type:"radio",id:"private",className:"privacy-radio-button",name:"privacy",value:"Restricted",onChange:g=>{x(g.target.value)}}),e.jsx("label",{htmlFor:"private",className:"radio-text",children:"Restricted"})]}),e.jsxs("div",{children:[e.jsx("input",{checked:v==="Open",type:"radio",id:"open",className:"privacy-radio-button",name:"privacy",value:"Open",onChange:g=>{x(g.target.value)}}),e.jsx("label",{htmlFor:"open",className:"radio-text",children:"Open"})]})]})]}),e.jsxs("div",{className:"create-fields",children:[e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"name",className:"filed-label",children:"Name*"}),e.jsx("input",{required:!0,id:"name",type:"text",className:"name-tag-filed name-tag-only",onChange:g=>{o(g.target.value)}})]}),e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"key",className:"filed-label",children:"Keywords*"}),e.jsx("input",{required:!0,placeholder:"Space separated words in all caps",id:"key",type:"text",className:"name-tag-filed name-tag-only",onChange:g=>{l(g.target.value.split(" "))}})]}),e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"desc",className:"filed-label",children:"Description*"}),e.jsx("textarea",{spellCheck:!0,required:!0,id:"desc",type:"textarea",className:"name-tag-filed desc-only",onChange:g=>{u(g.target.value)}})]})]}),e.jsxs("div",{className:"create-buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"create-button",onClick:()=>{s()},type:"button",children:"Cancel"}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"create-button",children:"Create"})]})]})]})}function Ft(){const[s,a]=t.useState(""),[o,n]=t.useState([]),[l,i]=t.useState(!1),[u,v]=t.useState("date"),[x,m]=t.useState(-1),[d,g]=t.useState(!1),c=q().tag,[j,N]=t.useState(0),[b,f]=t.useState(0),w=H(),h=()=>{i(!l)},S=async(C,y)=>{let T=`http://localhost:3002/get_uploads/${C}/${y}/${c}`;s.length>0&&(T+=`?key=${s.toUpperCase()}`);const A=await k.get(T),I=await k.get(`http://localhost:3002/get_communityByTag/${c}`),F=A.data,B=I.data;n(F),N(B.admin);const O=JSON.parse(window.localStorage.getItem("currentUser")).student_id;f(O)};return t.useEffect(()=>{S(u,x)},[u,x]),e.jsxs("div",{className:"com-res",children:[e.jsxs(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{ease:"easeIn",duration:.5},layout:!0,className:"search-tab",children:[e.jsx("div",{className:"res-title",children:"Resources"}),e.jsxs("div",{className:"search-objects",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(K,{})}),e.jsx("input",{disabled:!!d,type:"search",className:"search-input-holder",placeholder:"Search resources by keyword",onChange:C=>{a(C.target.value)}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",onClick:()=>{S(u,x)},children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:C=>{v(C.target.value)},children:[e.jsx("option",{value:"date",className:"sort-dropdown-item",children:"Date Created"}),e.jsx("option",{value:"resource",className:"sort-dropdown-item",children:"Available Resources"}),e.jsx("option",{value:"category_name",className:"sort-dropdown-item",children:"Name"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{m(1)},children:e.jsx(_,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{m(-1)},children:e.jsx(X,{})})]}),e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"add-community",onClick:h,children:[e.jsx(me,{}),"Add Category"]})]})]}),e.jsx(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{ease:"easeIn",duration:.5},layout:!0,className:"resource-list",children:e.jsx("div",{className:"resource-list-hor",children:o.map((C,y)=>e.jsx(Ht,{onClick:()=>{if(C.access==="Open"||b===j){const A={activeContent:o[y],comAdmin:j,userId:b,access:C.access,keywords:C.keywords,logNo:C.logNo};window.sessionStorage.setItem("catData",JSON.stringify(A)),w(`/profile/com-holder/${c}/resource/${C.category_name}/res-item`)}else p.error("Access prohibited.")},access:C.access,name:C.category_name,date:C.date,desc:C.description,academicLen:C.academic.length,studentLen:C.student.length,miscLen:C.misc.length,keywords:C.keywords,index:y,comAdmin:j,userId:b},y))})}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:l&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:h,children:e.jsx(Rt,{closePopUp:h})})})]})}const Ht=({onClick:s,access:a,name:o,date:n,desc:l,academicLen:i,studentLen:u,miscLen:v,keywords:x,index:m})=>e.jsxs("div",{className:"row-wrapper",onClick:()=>{s(m)},children:[e.jsx("div",{className:"access",style:{backgroundColor:a==="Restricted"?"#ee4962":"#1a194d"},children:a}),e.jsxs("div",{className:"category-title-date",children:[e.jsx("div",{className:"category-title",children:o}),e.jsx("div",{className:"category-date",children:W(new Date(n))})]}),e.jsx("div",{className:"short-desc",children:l}),e.jsxs("div",{className:"resource-count",children:[e.jsxs("div",{className:"academic-res",children:[e.jsx(Be,{}),i]}),e.jsxs("div",{className:"academic-res",children:[e.jsx(Ee,{}),u]}),e.jsxs("div",{className:"academic-res",children:[e.jsx(Oe,{}),v]})]}),e.jsx("div",{className:"keyword-title",children:"Keywords"}),e.jsx("div",{className:"keywords",children:x.map((d,g)=>e.jsx("div",{className:"keyword",children:d},g))})]}),Pt=()=>{const s=JSON.parse(window.sessionStorage.getItem("catData")),a=s.logNo,[o,n]=t.useState("academic"),[l,i]=t.useState([]),[u,v]=t.useState("academic"),[x,m]=t.useState(!1),d=t.useRef(null),[g,c]=t.useState(s.access),j=s.comAdmin,N=s.userId;s.keywords;const[b,f]=t.useState({}),w=q().tag,h=()=>{m(!x)},S=(A,I)=>V(new Date(A.date),new Date(I.date))*-1,C=async()=>{const I=(await k.get(`http://localhost:3002/get_upload/${a}/${w}`)).data;I.academic.sort(S),I.student.sort(S),I.misc.sort(S),f(I),i(I.academic)},y=async()=>{const A=g==="Open"?"Restricted":"Open";(await k.post("http://localhost:3002/changeAccess",{access:A,logNo:a})).data.acknowledged&&(p.success("Access changed."),c(A))},T=async()=>{const A=await k.get(`http://localhost:3002/get_bookmark_count/${N}`);(await k.post("http://localhost:3002/insertBookmark",{user:N,title:b.category_name,bookmarkDate:new Date().toISOString(),comTag:w,uploadLogNo:a,bookmarkNo:A.data}).catch(B=>{var O;((O=B.response)==null?void 0:O.status)===500&&p.error("Could not insert bookmark or already added.")})).data.acknowledged&&p.success("Bookmark added.")};return t.useEffect(()=>{C()},[]),e.jsxs("div",{className:"active-resource",children:[e.jsxs(r.div,{initial:{x:-1e3,opacity:0},animate:{x:0,opacity:1},transition:{ease:"easeIn",duration:.3},className:"res-title-wrapper",children:[e.jsxs("div",{className:"title",children:[e.jsx("div",{className:"actual-title",children:b.category_name}),e.jsx("div",{className:"subtitle",children:b.description})]}),e.jsxs("div",{className:"icons",children:[e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"bookmark",onClick:T,children:[e.jsx(js,{})," Bookmark this"]}),e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"bookmark",onClick:h,children:[e.jsx(se,{})," Upload content"]}),e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"bookmark",onClick:()=>{N==j?y():p.error("Access prohibited.")},children:[g==="Open"?e.jsx(fs,{}):e.jsx(Ns,{})," Toggle Access"]}),e.jsx("input",{ref:d,type:"file",name:"contentUpload",id:"content-up",style:{display:"none"}})]})]}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:o==="academic"?"academic-res-active":"academic-res",onClick:()=>{n("academic"),i(b.academic),v("academic")},children:[e.jsx(Be,{}),"Academic"]}),e.jsxs("div",{className:o==="student"?"academic-res-active":"academic-res",onClick:()=>{n("student"),i(b.student),v("student")},children:[e.jsx(Ee,{}),"Student Content"]}),e.jsxs("div",{className:o==="misc"?"academic-res-active":"academic-res",onClick:()=>{n("misc"),i(b.misc),v("misc")},children:[e.jsx(Oe,{}),"Miscellanious"]})]}),e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:.3},className:"main-list",children:l.map((A,I)=>e.jsx(Mt,{rowTitle:A.name,uploadTime:W(new Date(A.date)),contentLink:A.content,uploader:A.uploader,publicId:A.publicId,type:A.type,resourceType:A.resourceType,logNo:a,mainListType:u},I))}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:x&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:h,children:e.jsx(Lt,{keywords:b.keywords})})})]})},Mt=({rowTitle:s,uploadTime:a,uploader:o,contentLink:n,publicId:l,type:i,resourceType:u,logNo:v,mainListType:x})=>{const m=q().tag,[d,g]=t.useState(!1),c=async()=>{if(JSON.parse(window.localStorage.getItem("currentUser")).student_id!==Number(o)){p.error("You cannot delete this content.");return}g(!0);const N=await k.delete(`http://localhost:3002/deleteContent/${l}/${v}/${m}/${i}/${u}/${x}`);g(!1),N.data.acknowledged&&(p.success("Content deleted."),setTimeout(()=>{window.location.reload(!0)},500))};return e.jsxs("div",{className:"row-container",children:[e.jsxs("div",{className:"row-title-date",children:[e.jsx("div",{className:"title",children:s}),e.jsxs("div",{className:"upload-time",children:["Uploaded on ",a," by ID ",o]})]}),e.jsxs("div",{className:"row-buttons",children:[e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"#000000",color:"#ffffff"},whileTap:{scale:.9},className:"download-button",onClick:()=>{window.open(n,"_blank")},children:[e.jsx(ws,{})," Download"]}),e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"rgb(238, 73, 98)",color:"#ffffff"},whileTap:{scale:.9},className:"download-button",onClick:c,children:[e.jsx(Te,{})," Delete"]})]}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:d&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(Je,{iconSize:"5vw",iconWidth:"5vw"})})})]})},Lt=({keywords:s})=>{const a=t.useRef(null),[o,n]=t.useState(""),[l,i]=t.useState("academic"),[u,v]=t.useState(null),[x,m]=t.useState(!1),d=async c=>{if(c.preventDefault(),u.size>20971520){p.error("Image size should be less than 20MB");return}const j=await he(u),N=JSON.parse(window.localStorage.getItem("currentUser"));let b=!1;m(!0),await k.post(`http://localhost:3002/uploadContent/${l}/${JSON.stringify(s)}/${u.name}/${N.student_id}`,{file:j}).catch(f=>{var w,h;((w=f.response)==null?void 0:w.status)===413?p.error(f.response.statusText):((h=f.response)==null?void 0:h.status)===500&&p.error("Could not upload avatar"),b=!0}),!b&&(m(!1),n(u.name),p.success("File uploaded successfully"),setTimeout(()=>{window.location.reload(!0)},500))},g=c=>{v(c.target.files[0]),n(c.target.files[0].name)};return e.jsxs(r.form,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"upload-container",onSubmit:d,children:[e.jsxs("div",{className:"name-input",children:[e.jsx("label",{htmlFor:"content",className:"name-label",children:"Content Name"}),e.jsx("input",{placeholder:"Upload a file",value:o,required:!0,type:"text",className:"name-field",id:"content",name:"content"})]}),e.jsx("input",{ref:a,type:"file",name:"contentUpload",id:"content-up",style:{display:"none"},onChange:g}),e.jsxs("select",{required:!0,name:"contentType",id:"type",className:"select-content-type",onChange:c=>{i(c.target.value)},children:[e.jsx("option",{value:"academic",className:"type-item",children:"Academic"}),e.jsx("option",{value:"student",className:"type-item",children:"Student"}),e.jsx("option",{value:"misc",className:"type-item",children:"MISC"})]}),e.jsxs("div",{className:"buttons",children:[e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"upload-button",onClick:()=>{a.current.click()},type:"button",children:[e.jsx(se,{})," Select file"]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"upload-button",type:"submit",children:"Upload"})]}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:x&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(Je,{iconSize:"5vw",iconWidth:"5vw"})})})]})};function qe(s,a){const o={to_email:s,message:a};(()=>{Ps.send("service_3fy6krw","template_beimqbq",o,"E3-0vUQPbmVnJDhAa").then(l=>{p.success("Verification code sent successfully")},l=>{console.log(l.text)})})()}function Jt(){const s=q().email,a=t.useRef(),[o,n]=t.useState(!1),[l,i]=t.useState(""),u=H(),v=async m=>{m.preventDefault();let d=!1;if(l===a.current){const g=await k.patch("http://localhost:3002/setAuthStatus",{email:s}).catch(j=>{var N;((N=j.response)==null?void 0:N.status)===500&&(p.error("Server Error"),d=!0)});if(d)return;g.data.acknowledged&&(p.success("Account Verified Successfully"),setTimeout(()=>{u("/"),window.location.reload(!0)},1e3));return}p.error("Invalid Verification Code")},x=async()=>{let m=!1;const d=await k.get(`http://localhost:3002/getAuthStatus/${s}`).catch(c=>{var j;((j=c.response)==null?void 0:j.status)===500&&(p.error("Server Error"),m=!0)});if(m)return;if(d.data.authenticated===1)n(!0);else{const c=Math.floor(Math.random()*1e13)%1e5;a.current=c.toString(),qe(s,a.current)}};return e.jsx("div",{className:"verify-body",children:o?e.jsx("div",{className:"already-ver",children:"Your Account is already verified. Thank you!"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"v-title-wrapper",children:[e.jsx("h1",{className:"verify-title",children:"Verify You Email"}),e.jsxs("div",{className:"verify-subtitle",children:["Please provide the verification code we just sent to",e.jsxs("span",{style:{fontWeight:"bold",color:"#1ab79d"},children:[" ","  ",s]})]}),e.jsxs("div",{className:"verify-subtitle",children:["Didn't get a code  ",e.jsx(r.span,{whileHover:{textDecoration:"underline"},whileTap:{color:"#ee4962"},style:{fontWeight:"bold",color:"#1ab79d",cursor:"pointer "},onClick:()=>{x()},children:"send again"})]})]}),e.jsxs("form",{className:"verify-form",onSubmit:v,children:[e.jsx("input",{onChange:m=>{i(m.target.value)},name:"code",id:"code",type:"text",placeholder:"Verification Code"}),e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},type:"submit",className:"verify-btn",children:"Verify"})]})]})})}function qt(){const[s,a]=t.useState(""),[o,n]=t.useState("bookmarkDate"),[l,i]=t.useState(-1),u=JSON.parse(window.localStorage.getItem("currentUser")).student_id,[v,x]=t.useState([]),m=async()=>{let d=`http://localhost:3002/getBookmarks/${u}/${o}/${l}`;s.length>0&&(d+=`?title=${s}`);const g=await k.get(d).catch(c=>{var j;((j=c.response)==null?void 0:j.status)===500&&p.error("Internal server error")});x(g.data)};return t.useEffect(()=>{m()},[o,l]),e.jsxs("div",{className:"bookmark-container",children:[e.jsxs("div",{className:"search-tab",children:[e.jsx("div",{className:"res-title",children:"My Bookmarks"}),e.jsxs("div",{className:"search-objects",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(K,{})}),e.jsx("input",{type:"search",className:"search-input-holder",placeholder:"Search bookmarks by title",onChange:d=>{a(d.target.value)}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",onClick:m,children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:d=>{n(d.target.value)},children:[e.jsx("option",{value:"bookmarkDate",className:"sort-dropdown-item",children:"Date added"}),e.jsx("option",{value:"title",className:"sort-dropdown-item",children:"Title"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{i(1)},children:e.jsx(_,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{i(-1)},children:e.jsx(X,{})})]})]})]}),e.jsx("div",{className:"bookmark-list",children:v.map((d,g)=>e.jsx(Yt,{bookmark:d},g))})]})}const Yt=({bookmark:s})=>{const a=H(),o=JSON.parse(window.localStorage.getItem("currentUser")).student_id,n=s.comTag,l=async()=>{window.localStorage.setItem("profileOption","My Communities");const v=(await k.get(`http://localhost:3002/get_communityByTag/${n}`)).data.admin,m=(await k.get(`http://localhost:3002/get_uploadByTitle/${s.title}/${s.uploadDate}`)).data,d={activeContent:m,comAdmin:v,userId:o,access:m.access,keywords:m.keywords};window.sessionStorage.setItem("catData",JSON.stringify(d)),a(`/profile/com-holder/${s.comTag}/resource/${s.title}/res-item`),window.location.reload(!0)},i=async()=>{(await k.delete(`http://localhost:3002/deleteBookmark/${o}/${s.title}`)).data.acknowledged?(p.success("Bookmark deleted"),setTimeout(()=>{window.location.reload(!0)},500)):p.error("Unable to delete bookmark")};return e.jsxs("div",{className:"bookmark-item",children:[e.jsx("div",{className:"bookmark-item-icon",children:e.jsx(As,{})}),e.jsxs("div",{className:"bookmark-info",children:[e.jsx("div",{className:"bookmark-item-title",children:s.title}),e.jsx("div",{className:"bookmark-item-date",children:W(new Date(s.bookmarkDate))})]}),e.jsxs("div",{className:"bookmark-dropdown",children:[e.jsx("div",{className:"bookmark-dropdown-icon",children:e.jsx(bs,{})}),e.jsxs("div",{className:"bookmark-dropdown-content",children:[e.jsx("div",{className:"bookmark-dropdown-item",onClick:l,children:"Go to content"}),e.jsx("div",{className:"bookmark-dropdown-item",onClick:i,children:"Delete"})]})]})]})};const fe=M(!1);function Gt(){const[s,a]=t.useState(!0),[o,n]=t.useState([]),[l,i]=t.useState(""),u=async()=>{a(!0),await k.get("http://localhost:3002/loadModel").catch(x=>{var m;((m=x.response)==null?void 0:m.status)===500&&console.log("No FAQs found")}),a(!1)},v=async x=>{fe.value=!1,n(g=>[...g,{text:e.jsx(Fs,{color:"#36d7b7",size:8}),sender:"bot"}]);const m=await k.post("http://localhost:3002/getAnswer",{question:l}).catch(g=>{var c;((c=g.response)==null?void 0:c.status)===500&&console.log("No answer found")});n(g=>[...g.slice(0,g.length-1)]);const d=m.data.length>0?m.data:"Please Rephrase your question";n(g=>[...g,{text:d,sender:"bot"}]),fe.value=!0};return t.useEffect(()=>{u()},[]),e.jsxs(r.div,{initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:"0%"},exit:{opacity:0,x:"-100%"},transition:{duration:.3,ease:"easeInOut"},className:"aichat",children:[e.jsxs(r.div,{className:"upper-panel",children:[e.jsx("div",{className:"back-icon",onClick:()=>{Y.value=0},children:e.jsx(De,{})}),e.jsxs("div",{className:"bot-icon",children:[e.jsx(Ue,{}),"RHUB Support"]})]}),e.jsx("div",{className:"chat-window",children:s?e.jsxs(e.Fragment,{children:[e.jsx(G,{color:"#36d7b7",height:40,loading:!0,margin:2,radius:5}),e.jsx("div",{className:"loading-model",children:"Model is loading ..."})]}):e.jsx("div",{className:"bot-chats",children:o.map((x,m)=>e.jsx(Qt,{message:x},m))})}),e.jsxs("form",{className:"type-message",children:[e.jsx("textarea",{required:!0,type:"text",placeholder:"Type a message...",className:"message-holder",onChange:x=>{i(x.target.value)}}),e.jsx(r.button,{type:"reset",whileHover:{scale:1.3,transform:"rotate(-40deg)"},whileTap:{scale:.1},className:"send-icon",onClick:()=>{l!==""&&(n(x=>[...x,{text:l,sender:"user"}]),i(""),v())},children:e.jsx(ie,{})})]})]})}const Qt=({message:s})=>{const a=s.sender==="bot";return e.jsxs("div",{className:"message-container",style:{justifyContent:a?"flex-start":"flex-end"},children:[a&&e.jsx("div",{className:"bot-icon",children:e.jsx(Ue,{})}),e.jsx("div",{className:`message ${a?"bot":"user"}`,children:s.text})]})},$=M(!1),Ye=M([]);function Wt(){const s=()=>{$.value=!$.value,Y.value=0},a=async()=>{const n=await(await k.get("http://localhost:3002/get_faqs").catch(l=>{var i;((i=l.response)==null?void 0:i.status)===500&&console.log("No FAQs found")})).data;Ye.value=n};return t.useEffect(()=>{a()},[]),e.jsxs(r.div,{className:"chatbot",children:[e.jsx("div",{className:"chatbot-icon",onClick:s,title:"Chat with us",children:$.value?e.jsx(Cs,{}):e.jsx(ys,{})}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:$.value&&e.jsx(Kt,{})})]})}const Y=M(0),Ge=M({}),Vt=M("20vw"),zt=M("70vh"),Kt=()=>e.jsx(r.div,{initial:{opacity:0,height:0,width:0},animate:{opacity:1,height:zt,width:Vt},exit:{opacity:0,height:0,width:0},transition:{duration:.1,ease:"easeInOut"},className:"chatbot-popup",children:e.jsxs(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:[Y.value===0&&e.jsx(_t,{}),Y.value===1&&e.jsx(Xt,{faq:Ge.value}),Y.value===2&&e.jsx(Gt,{})]})}),_t=()=>e.jsxs(r.div,{initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:"0%"},exit:{opacity:0,x:"-100%"},transition:{duration:.3,ease:"easeInOut"},className:"initial-content",children:[e.jsxs("div",{className:"hello",children:["Hi ",e.jsx(Ss,{style:{color:"#fffb00"}})," ",e.jsx("br",{})," How can we help?"," "]}),e.jsxs("div",{className:"helpoptions",children:[e.jsxs(r.div,{whileHover:{scale:1.02},whileTap:{scale:.9},className:"send-us",children:[e.jsxs("div",{className:"help-title",children:["Send us a message",e.jsxs("div",{children:[e.jsx(ie,{})," "]})]}),e.jsx("div",{className:"help-sub",children:"We usually reach out within ours"})]}),e.jsxs(r.div,{whileHover:{scale:1.02},whileTap:{scale:.9},className:"send-us",onClick:()=>{Y.value=2},children:[e.jsxs("div",{className:"help-title",children:["Chat with our AI",e.jsxs("div",{children:[e.jsx(ie,{})," "]})]}),e.jsx("div",{className:"help-sub",children:"Get information on our project"})]})]}),e.jsxs("div",{className:"faq",children:[e.jsx("div",{className:"faq-title",children:"Frequently asked questions"}),e.jsx("div",{className:"faq-list",children:Ye.value.map((s,a)=>e.jsxs(r.div,{whileHover:{scale:1.02},whileTap:{scale:.9},className:"faq-rows",onClick:()=>{Ge.value=s,Y.value=1},children:[e.jsx("div",{className:"faq-question",children:s.question}),e.jsx("div",{className:"go-icon",children:e.jsx(ks,{})})]},a))})]})]}),Xt=({faq:s})=>e.jsxs(r.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:"0%"},exit:{opacity:0,x:"100%"},transition:{duration:.3,ease:"easeInOut"},className:"faq-details",children:[e.jsxs("div",{className:"expand-bar",children:[e.jsx(r.div,{whileHover:{scale:1.02},whileTap:{scale:.9},onClick:()=>{Y.value=0},id:"back-icon",children:e.jsx(De,{})}),e.jsx("div",{id:"expand-icon",onClick:()=>{},children:e.jsx(Is,{})})]}),e.jsxs("div",{className:"question-part",children:[e.jsx("div",{className:"faq-question",children:s.question}),e.jsx("div",{className:"faq-sub",children:s.subtitle})]}),e.jsxs("div",{className:"written-by",children:[e.jsx("img",{className:"logo",src:oa}),e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"name",children:s.written_by}),e.jsx("div",{className:"updated",children:s.updated_on})]})]}),e.jsx("div",{className:"faq-answer",children:s.description})]});function Zt({invitation:s,fetchNotifications:a}){const[o,n]=t.useState(s.status==="unread"),[l,i]=t.useState(!1),[u,v]=t.useState(s.responded),x=s.title,m=s.messageBody,d=s.comTag,g=Pe(new Date(s.date)),c=JSON.parse(localStorage.getItem("currentUser")),j=()=>{i(!l)},N=async()=>{(await k.patch(`http://localhost:3002/updateNotificationStatus/${c.student_id}`,s).catch(h=>{var S;((S=h.response)==null?void 0:S.status)===500&&p.error("Server Error")})).status===200?(p.success("Status Updated"),n(!1),a()):p.error("Server Error")},b=async()=>{(await k.patch(`http://localhost:3002/deleteNotification/${c.student_id}`,s).catch(h=>{var S;((S=h.response)==null?void 0:S.status)===500&&p.error("Server Error")})).status===200?(p.success("Notification Deleted"),a()):p.error("Server Error")},f=async()=>{(await k.patch(`http://localhost:3002/acceptInvitation/${c.student_id}`,s).catch(h=>{var S;((S=h.response)==null?void 0:S.status)===500&&p.error("Server Error")})).status===200?(p.success("Invitation Accepted"),v(!0),c.community.push(d),window.localStorage.setItem("currentUser",JSON.stringify(c))):p.error("Server Error")};return e.jsxs("div",{className:"invitation",children:[e.jsxs("div",{className:"inv-details",children:[e.jsxs("div",{className:"subtitle",children:["Community Invitation"," ",o&&e.jsx(r.span,{whileHover:{scale:1.5},whileTap:{scale:.9},className:"unread",children:"unread"})]}),e.jsx("div",{className:"community-name",children:x}),e.jsx("div",{className:"description",children:m}),e.jsxs("div",{className:"inv-btns",children:[e.jsx("div",{className:"com-tag",children:d}),u?e.jsx("div",{className:"responded",children:"Responded"}):e.jsx("div",{className:"inv-btns",children:e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#f6c90e",color:"#000"},whileTap:{scale:.9},className:"accept-btn",onClick:f,children:"Accept"})})]}),e.jsx("div",{className:"noti-date",children:g})]}),e.jsxs("div",{className:"image-holder",children:[e.jsx(Ts,{style:{cursor:"pointer"},onClick:j}),e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:l&&e.jsxs(r.div,{initial:{height:0,opacity:0},animate:{height:"20%",opacity:1},exit:{height:0,opacity:0},transition:{duration:.1},className:"dropdown",children:[e.jsx(r.div,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"dropdown-item",onClick:b,children:"Delete"}),e.jsx(r.div,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"dropdown-item",onClick:N,children:"Mark as read"})]})}),e.jsx(Bs,{className:"type-image"})]})]})}Q("http://localhost:3002");function $t(){const[s,a]=t.useState([]),[o,n]=t.useState(0);t.useState("all");const[l,i]=t.useState(!1),u=JSON.parse(localStorage.getItem("currentUser")),v=async()=>{i(!0);const m=(await k.get(`http://localhost:3002/getNotifications/${u.student_id}`).catch(g=>{var c;((c=g.response)==null?void 0:c.status)===500&&p.error("Server Error")})).data;a(m);const d=m.filter(g=>g.status==="unread").length;n(d),i(!1)};return t.useEffect(()=>{v()},[]),e.jsxs("div",{className:"notification",children:[e.jsxs("div",{className:"upper-part",children:[e.jsxs("div",{className:"noti-count",children:[e.jsxs("div",{className:"count-notif",children:["You have"," ",e.jsxs("span",{style:{color:"rgb(26, 183, 157)"},children:[o," new"]})," ","notification(s)"," "]}),e.jsx("div",{className:"notif-title",children:"Notifications"})]}),e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"filters",children:[e.jsx(Es,{}),"Filter"]})]}),e.jsx("div",{className:"notification-list",children:l?e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(G,{color:"#36d7b7",height:35,width:5})}):s.map((x,m)=>e.jsx(Zt,{invitation:x,fetchNotifications:v},m))})]})}const Ne=M(0),le=M(!1);function ea(){return t.useEffect(()=>{le.value=!1},[]),e.jsx(r.div,{className:"change-pass",children:e.jsx(U,{initial:!1,mode:"wait",onExitComplete:()=>null,children:le.value?e.jsx(ta,{}):e.jsx(sa,{})})})}const sa=()=>{const[s,a]=t.useState(0),o=JSON.parse(window.localStorage.getItem("currentUser")).email,n=async()=>{const i=Math.floor(Math.random()*1e13)%1e5;Ne.value=i,qe(o,i)},l=i=>{i.preventDefault(),Number(s)===Ne.value?(le.value=!0,p.success("Code verified")):p.error("Provide a valid code")};return e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"verify-body",children:[e.jsxs("div",{className:"v-title-wrapper",children:[e.jsx("h1",{className:"verify-title",children:"Send verification code"}),e.jsxs("div",{className:"verify-subtitle",children:["A confirmation email will be sent to your email address",e.jsxs("span",{style:{fontWeight:"bold",color:"#1ab79d"},children:[" ","  ",o]})]}),e.jsxs("div",{className:"verify-subtitle",children:["Click to send code  ",e.jsx(r.span,{whileHover:{textDecoration:"underline"},whileTap:{color:"#ee4962"},style:{fontWeight:"bold",color:"#1ab79d",cursor:"pointer "},onClick:()=>{n()},children:"SEND"})]})]}),e.jsxs("form",{className:"verify-form",onSubmit:l,children:[e.jsx("input",{required:!0,onChange:i=>{a(i.target.value)},name:"code",id:"code",type:"text",placeholder:"Verification Code"}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"verify-btn",children:"Verify"})]})]})},ta=()=>{const[s,a]=t.useState("password"),[o,n]=t.useState(""),[l,i]=t.useState(""),u=JSON.parse(window.localStorage.getItem("currentUser")).student_id,v=async x=>{if(x.preventDefault(),o.length<4){p.error("Password must be at least 4 characters long");return}if(o!==l){p.error("Passwords must match");return}const m={password:o},d=await k.patch(`http://localhost:3002/updatePassword/${u}`,m).catch(g=>{var c;((c=g.response)==null?void 0:c.status)===500&&p.error(g.response.data)});d.data,d.status===200?(p.success("Password changed successfully"),setTimeout(()=>{window.location.reload(!0)},500)):d.status===201?p.error("Password must be different from the previous password"):p.error("Something went wrong")};return e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"create-pass",children:[e.jsxs("div",{className:"create-title",children:[e.jsx("div",{className:"create-new-pass",children:"Create New Password"}),e.jsx("div",{className:"create-subtitle",children:"Your new password must be different from your previous password"})]}),e.jsxs("form",{className:"pass-fields",onSubmit:v,children:[e.jsxs("div",{className:"set-pass",children:[e.jsx("label",{htmlFor:"set-pass",className:"passlabel",children:"Password"}),e.jsx("input",{type:s,id:"set-pass",className:"set-pass-input",placeholder:"create new password",onChange:x=>{n(x.target.value)}}),e.jsx("div",{className:"pass-hint",children:"Must be at least 4 characters long"}),e.jsx("div",{className:"show-pass",onClick:()=>{a(s==="password"?"text":"password")},children:s!=="password"?e.jsx(ce,{}):e.jsx(re,{})})]}),e.jsxs("div",{className:"set-pass",children:[e.jsx("label",{htmlFor:"set-pass",className:"passlabel",children:"Confirm Password"}),e.jsx("input",{type:s,id:"set-pass",className:"set-pass-input",placeholder:"create new password",onChange:x=>{i(x.target.value)}}),e.jsx("div",{className:"pass-hint",children:"Passwords must match"})]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"submit-create-pass",children:"Create New Pass"})]})]})};function aa(){const[s,a]=t.useState([]),[o,n]=t.useState(!1),l=async()=>{const i=JSON.parse(window.localStorage.getItem("currentUser")),u=i.student_id,v=i.community;n(!0);const x=await k.get(`http://localhost:3002/getMyUploads/${u}/${JSON.stringify(v)}`).catch(d=>{d.response.status===500&&p.error("Error fetching uploads")});n(!1);let m=x.data;console.log(m),a(m)};return t.useEffect(()=>{l()},[]),e.jsxs("div",{className:"myup",children:[o&&e.jsx(D,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(G,{color:"#36d7b7",height:35,width:5})}),e.jsxs("div",{className:"search-tab",children:[e.jsx("div",{className:"res-title",children:"My Uploads"}),e.jsxs("div",{className:"search-objects",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(K,{})}),e.jsx("input",{type:"search",className:"search-input-holder",placeholder:"Search uploads by title",onChange:i=>{}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:i=>{},children:[e.jsx("option",{value:"bookmarkDate",className:"sort-dropdown-item",children:"Date added"}),e.jsx("option",{value:"title",className:"sort-dropdown-item",children:"Title"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{},children:e.jsx(_,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{},children:e.jsx(X,{})})]})]})]}),e.jsx("div",{className:"myup-list",children:s[0]&&s[0].map(i=>e.jsxs(e.Fragment,{children:[" ",e.jsx("div",{style:{color:"#000000",fontFamily:"Poppins",fontWeight:600},children:"Academic Materials"})," ",e.jsx(ne,{item:i})," "]}))}),e.jsx("div",{className:"myup-list",children:s[0]&&s[0].map(i=>e.jsxs(e.Fragment,{children:[" ",e.jsx("div",{style:{color:"#000000",fontFamily:"Poppins",fontWeight:600},children:"Student Materials"})," ",e.jsx(ne,{item:i})," "]}))}),e.jsx("div",{className:"myup-list",children:s[0]&&s[0].map(i=>e.jsxs(e.Fragment,{children:[" ",e.jsx("div",{style:{color:"#000000",fontFamily:"Poppins",fontWeight:600},children:"Miscellaneous Materials"})," ",e.jsx(ne,{item:i})," "]}))})]})}const ne=({item:s})=>e.jsxs("div",{className:"uploadRow",children:[e.jsxs("div",{className:"upload-item",children:[e.jsx("div",{className:"upload-item-title",children:s.name}),e.jsx("div",{className:"upload-item-date",children:W(new Date(s.date))})]}),e.jsxs("div",{className:"buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},style:{backgroundColor:"#000000"},className:"upload-item-button",onClick:()=>{window.open(s.content,"_blank")},children:"Download"}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},style:{backgroundColor:"#ee4962"},className:"upload-item-button",children:"Delete"})]})]}),oa=M("https://res.cloudinary.com/da8v9ysli/image/upload/v1697061060/msthqidxbbfavh8lpczp.svg"),na=()=>{const s={width:"98.98vw",overflow:"hidden",position:"relative"},[a,o]=t.useState({position:"relative",zIndex:4});return e.jsxs("div",{className:"bg-cover overflow-hidden bg-no-repeat",children:[e.jsx("div",{style:a,children:e.jsx(ht,{})}),e.jsx("div",{style:s,children:e.jsxs(Os,{children:[e.jsx(E,{index:!0,path:"/",element:e.jsx(ct,{})}),e.jsx(E,{path:"/allCommunities",element:e.jsx(yt,{})}),e.jsxs(E,{path:"/profile",element:e.jsx(te,{}),children:[e.jsx(E,{path:"info",element:e.jsx(At,{})}),e.jsx(E,{path:"change-pass",element:e.jsx(ea,{})}),e.jsx(E,{path:"edit",element:e.jsx(rt,{})}),e.jsx(E,{path:"bookmark",element:e.jsx(qt,{})}),e.jsx(E,{path:"my-commnunities",element:e.jsx(Ct,{})}),e.jsx(E,{path:"my-uploads",element:e.jsx(aa,{})}),e.jsx(E,{path:"notification",element:e.jsx($t,{})}),e.jsx(E,{path:"inbox",element:e.jsx(te,{})}),e.jsx(E,{path:"help",element:e.jsx(te,{})}),e.jsxs(E,{path:"com-holder",element:e.jsx(St,{}),children:[e.jsx(E,{path:":tag/dashboard",element:e.jsx(kt,{})}),e.jsx(E,{path:":tag/chat",element:e.jsx(Ot,{})}),e.jsxs(E,{path:":tag/resource",children:[e.jsx(E,{path:"list",element:e.jsx(Ft,{})}),e.jsx(E,{path:":name/res-item",element:e.jsx(Pt,{})})]})]})]}),e.jsx(E,{path:"/verify",children:e.jsx(E,{path:":email/auth",element:e.jsx(Jt,{})})})]})}),e.jsx(wt,{}),e.jsx(Wt,{}),e.jsx(ze,{position:"bottom-left",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})};Ve.createRoot(document.getElementById("root")).render(e.jsx(Qe.StrictMode,{children:e.jsx(Ds,{children:e.jsx(na,{})})}));
