import{r as t,j as e,R as qe}from"./react-ee2054f5.js";import{r as Ye,c as Ge}from"./react-dom-20ffc32d.js";import{Q as g,k as Qe}from"./react-toastify-1463c61d.js";import{a as H}from"./@preact-73db6312.js";import{a as k}from"./axios-28bc18a3.js";import{A as ie,a as le,B as Ve,b as je,c as We,d as ce,e as fe,F as Ne,f as X,I as we,g as Ae,h as be,i as ze,j as Ke,k as _e,l as Xe,m as Ze,n as $e,o as Q,H as V,p as W,q as es,r as ye,s as Ce,R as ss,t as ts,u as as,v as os,w as ns,x as re,y as is,z as ls,C as Se,D as cs,E as rs,G as ds,J as ms,K as us,L as hs,M as ps,N as ke,O as Te,V as Ie,P as xs,Q as gs,S as vs,T as js,U as fs,W as Ns,X as Be,Y as Ee,Z as oe,_ as ws,$ as As,a0 as bs,a1 as ys,a2 as Cs,a3 as Ss,a4 as ks,a5 as Ts}from"./react-icons-760c6ccf.js";import{a as F,b as Oe,O as De,d as P,e as Is,f as E}from"./react-router-26e78089.js";import{m as r,A as O}from"./framer-motion-cca84040.js";import{L as U,B as Bs}from"./react-router-dom-0c1cdf0e.js";import{l as J}from"./socket.io-client-651ff694.js";import{L as Es}from"./react-scroll-0c5bacee.js";import{C as he}from"./react-transition-group-13013688.js";import{S as Z,_ as Os,a as Ds}from"./react-spinners-0b9c193c.js";import{B as Us}from"./react-scroll-to-bottom-425d9138.js";import{e as Rs}from"./@emailjs-a704afdc.js";import"./@babel-2cccee12.js";import"./core-js-pure-6fdf7d8d.js";import"./scheduler-765c72db.js";import"./clsx-1229b3e0.js";import"./use-sync-external-store-232771d3.js";import"./@remix-run-8989dd9f.js";import"./engine.io-client-86cec14e.js";import"./engine.io-parser-b13552ae.js";import"./@socket.io-3e1df240.js";import"./socket.io-parser-44417fca.js";import"./lodash.throttle-8e7477ca.js";import"./prop-types-387d7a00.js";import"./dom-helpers-9a525042.js";import"./classnames-a743e635.js";import"./core-js-7bbb6560.js";import"./@emotion-0f7eaed6.js";import"./stylis-79144faa.js";import"./math-random-fc091eca.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function o(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(i){if(i.ep)return;i.ep=!0;const c=o(i);fetch(i.href,c)}})();const Fs="/assets/Illustration-7100943b.svg";const R=({children:s,overlayColor:a,placement:o="Centered",onOutsideClick:n,zIndex:i=100,left:c=0,right:m=0,top:p=0,bottom:j=0,relativeLayerRef:u})=>{const d=t.useRef(null),[h,l]=t.useState({opacity:0}),f=t.useMemo(()=>{const N={};if(N.zIndex=i,a&&(N.backgroundColor=a),!(u!=null&&u.current))switch(o){case"Centered":N.alignItems="center",N.justifyContent="center";break;case"Top left":N.alignItems="flex-start";break;case"Top center":N.alignItems="center";break;case"Top right":N.alignItems="flex-end";break;case"Bottom left":N.alignItems="flex-start",N.justifyContent="flex-end";break;case"Bottom center":N.alignItems="center",N.justifyContent="flex-end";break;case"Bottom right":N.alignItems="flex-end",N.justifyContent="flex-end";break}return N.opacity=1,N},[o,a,i,u==null?void 0:u.current]),w=t.useCallback(()=>{var b,y;const N=(b=u==null?void 0:u.current)==null?void 0:b.getBoundingClientRect(),v=(y=d==null?void 0:d.current)==null?void 0:y.getBoundingClientRect(),x={opacity:1};if(N&&v){const{x:S,y:C,width:T,height:B}=N,{width:I,height:D}=v;switch(x.position="absolute",o){case"Top left":x.top=C-D-p,x.left=S+c;break;case"Top right":x.top=C-D-p,x.left=S+T-I-m;break;case"Bottom left":x.top=C+B+j,x.left=S+c;break;case"Bottom right":x.top=C+B+j,x.left=S+T-I-m;break}l(x)}else x.maxWidth="90%",x.maxHeight="90%",l(x)},[c,m,p,j,o,u==null?void 0:u.current,d==null?void 0:d.current]);t.useEffect(()=>(w(),window.addEventListener("resize",w),window.addEventListener("scroll",w,!0),()=>{window.removeEventListener("resize",w),window.removeEventListener("scroll",w,!0)}),[w]);const A=t.useCallback(N=>{n&&N.target.classList.contains("portalPopupOverlay")&&n(),N.stopPropagation()},[n]);return e.jsx(Hs,{children:e.jsx("div",{className:"portalPopupOverlay",style:f,onClick:A,children:e.jsx("div",{ref:d,style:h,children:s})})})},Hs=({children:s,containerId:a="portals"})=>{let o=document.getElementById(a);return o||(o=document.createElement("div"),o.setAttribute("id",a),document.body.appendChild(o)),Ye.createPortal(s,o)},Ms="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALoAAAC6CAYAAAAZDlfxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL0SURBVHgB7d3NSlRxGMDhd7RVg/ixsysw8QK6BVcSNDtpkeVF9bWpVgNhKy+kKLqAoFUqg+48pxMT5oAHxvH8T+fjecDmgPKDhlfcvK9GAAAAAFC9QfRAPhotn16s7mVZtl/8h19tHL89jlv6tftst3i33kyDcdD2Rh7xouh82BhOjgbj8WV03L3ogZPzlc8R2cPB9Nv6UfHxIG5rOlyb155b3RhMG4+L9+Zb8bodHbcU/bB27bmKn2JdaqxHD/Rj0LPsefHvz+LjR/F8EIvQAAAAAAAAAAAAgGo0/vCiawcPGv9H89d0/x0abF69sRrdaNSobfvojia620iq+YPu4KG7DQAAAAAAAAAAAPop6XqlQwON1I15pV3TdWigkboxpzr30R0aaKRulEo76A4NNFI3AAAAAAAAAAAAaJ/S1ch8NFo+OV/5UjyuWvDXaEHjbH042RmMx5c3fV3pmu7pxepe8bIVFvw12tHY+juzNyod9CzL9mdyd6ehkbSR5/nTss+VDvogz16HBX+NVjUuXwYAAAAAAAAAAADNV7oaacFfo0uN8t+PbsFfo0ONef8QgAV/jVY3ygfdgr9GXxoAAAAAAAAAAADUy+GFhsOLsOCv0ZGGwwsNhxdhOV+jDw0AAAAAAAAAAADq5fBCw+FFWPDX6EjD4YWGw4uwnK/RhwYAAAAAAAAAAAD1cnih0fvDi8Ow4K/RrsZh2ZeVDvpgsPRuJnd3GhpJG3nE+7LPlQ762v2zT8XL97Ccr9GOxteN4eQoAAAAAAAAAAAAaL4q1itLORLQSN2Y17x/CGAxjgQ0UjfmlHbQZzkS0EjdKJV20B0JaKRuAAAAAAAAAAAA0D5JVyOr4NCgu4061bmPvhiHBt1t1Kj5gz7LoUF3G0k1f9AdGnS3AQAAAAAAAAAAQD81fr2yCg4eqm+0Tdv20Rfj4KH6Rsv0Y9Ajzq49O3iYDUyiB3ox6OvDyU4e8SSP/KODh6vG0Z/3ZG042Q4AAAAAWMhvT6xoO0VWWBsAAAAASUVORK5CYII=";const Ps="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFGSURBVHgBnZRPTsJQEMa/78EB2MmWE4imFXfiETyB7qwIqCew3MAAAnGjnsS61JioN2HrpuO8Sk2BtrR8SZO++fPLtDPzCJXnddtieEWihm0leJ5NRk/0Or0zkI8L4yu2kBC7hBbD8LgK4lSAeWRA+DKbjAdlYF6ne0uYowgcmmtjXyj4VvAANL4NKAOzOVEuJLBFmdg5Gw/9MtAkLMpdyCSDikKzYGvAItA8WCowD7oJZlVFlsJQNBkWcN7pNf9mlO1/X4ZSK1zqnj4kGwprhJCbTf+4mgdLfJa/FNPt21osFKtzawrA1pTXuIrjHp7o6uy4rlsvAov18f4WOK2WzjJ9x3V1e01TzT+Vfeegbki7z+2isDSoHuu6LQNax8Vl/1Pb1tTDl0DmKCGCtTh3ej/cY+yIbh1opSVlLxYRCR6mozt7/gUpEZpavdXhpQAAAABJRU5ErkJggg==",Ls="/assets/google-icon-68042e6e.svg",Js="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGOSURBVHgBlVTBTsJAEJ1ZK4m3+gXCF9iDehX+QL9APRgrouwn6BfYQKg1HtQ/0C8gXokHOHorX0C9kQIdZ1sq2uwqTNJtdvfNm5m3s4ugMSmlPY6nTQJ0EMEGwgEksRcEQVjEYnHhtF53BFpd3rB5OgCCiFH7/A9nMD188P2+kcCVsgyTpMtg4Ii1PGK+zsv2xrqoeJ4X5T7iV/g4kTyWfzorCzwvhHVRU1mNMwzoCZC2OfqbrlZFwgR9zsIxE/xjBBTNtVnETGt0G1US2ATEarZIfT0BOt/7BM+B335Ct355zI6PnFqExKovYwhboLTCpGbx5Egd0b3fqsAKdnZxNYJESGs+HxYB6ugont1yjREkk5uisFmZaFvGEJPkWmmiWgJEaZPHAx3MfAq0UJujjUwwM0FJSMyETUtYmSDtPiD+YKhrrNzMGkDaJK8zpL8gTED4Seq2aeyu0/bMrlhW2aHbaFSBhLqBId+FEJaw9J1QLU10svbe64U7u3vcB8iNxM/HUh98oBDnQaf18gUur6CDcUjk+wAAAABJRU5ErkJggg==",qs="/assets/welcome-448c9cce.png",Ys=({closePopUp:s})=>{const a=F(),[o,n]=t.useState(""),[i,c]=t.useState(""),[m,p]=t.useState(!1),[j,u]=t.useState("off"),d=async l=>{l.preventDefault();let f=!1;const w=await k.get(`http://localhost:3002/getStudentByEmail/${o}/${i}`).catch(N=>{var v;((v=N.response)==null?void 0:v.status)===500&&(g.error(N.response.data.error),f=!0)});if(f)return;const A=w.data;if(w.status===201){g.error("Username or Password doesn't match!");return}if(w.status===202){g.error("User is not verified!");return}window.localStorage.setItem("logInStatus",!0),window.localStorage.setItem("currentUser",JSON.stringify(A)),g.success("Successfully Logged In"),setTimeout(()=>{window.localStorage.setItem("profileOption","General"),a("/profile/info"),s(),window.location.reload(!0)},500)},h=()=>{p(!m)};return e.jsx(r.div,{className:"login",children:e.jsxs("div",{className:"secondary-wrapper",children:[e.jsxs("form",{className:"log-in-form",onSubmit:d,children:[e.jsxs("div",{className:"log-in-field",children:[e.jsxs("div",{className:"field-holder-log",children:[e.jsx("input",{required:!0,type:"email",name:"email",placeholder:"email address",className:"log-in-email-holder",onChange:l=>{n(l.target.value)}}),e.jsx("img",{className:"email-icon",alt:"Email icon",src:Ps})]}),e.jsxs("div",{className:"field-holder-log",children:[e.jsx("input",{required:!0,type:m?"text":"password",name:"password",placeholder:"password",className:"log-in-email-holder",onChange:l=>{c(l.target.value)}}),e.jsx("img",{className:"lock-icon",alt:"Lock icon",src:Js}),e.jsx("div",{className:"toggle-show",onClick:h,children:m?e.jsx(ie,{}):e.jsx(le,{})})]})]}),e.jsxs("div",{className:"remember-section",children:[e.jsxs("div",{className:"remember-checkbox",children:[e.jsx("input",{type:"checkbox",className:"checkbox-icon",name:"remember",onChange:()=>{u(j==="off"?"on":"off")}}),e.jsx("label",{htmlFor:"remember",className:"check-box-text",children:"Remember me"})]}),e.jsx("a",{href:"/",target:"_self",className:"forgot-pass",children:"Forgot Password?"})]}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.04},whileTap:{scale:.9},className:"log-in-button",children:"Log in"}),e.jsxs("div",{className:"log-in-divider",children:[e.jsx("div",{className:"divider"}),e.jsx("div",{className:"continue",children:"or continue with"}),e.jsx("div",{className:"divider"})]}),e.jsxs("div",{className:"social-buttons",children:[e.jsxs(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"social-login-button",children:[e.jsx("img",{className:"google-icon",alt:"Google icon",src:Ls}),e.jsx("div",{className:"log-in-alt",children:"Google Account"})]}),e.jsxs(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"social-login-button",children:[e.jsx("div",{className:"apple-icon",children:e.jsx(Ve,{})}),e.jsx("div",{className:"log-in-alt",children:"Github Account"})]})]})]}),e.jsx("div",{className:"welcome-back",children:e.jsx("img",{className:"welcome-back-2",alt:"Welcome back",src:qs})})]})})};const Ue=()=>(new Date().getTimezoneOffset()*60*1e3,new Date().toISOString()),q=s=>{const a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let n=a[s.getDay()]+" "+s.getDate()+" "+o[s.getMonth()]+", "+s.getFullYear();return+", "+s.getFullYear(),n},Re=s=>{const a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=new Date;return(s.getDate()===n.getDate()&&s.getMonth()===n.getMonth()&&s.getFullYear()===n.getFullYear()?"Today, ":a[s.getDay()]+" "+s.getDate()+" "+o[s.getMonth()]+", "+s.getFullYear()+", ")+s.getHours()+":"+s.getMinutes()},Fe=s=>{let a=!0;for(let o=0;o<s.length;o++)if(s[o]!==s[o].toUpperCase()){a=!1;break}return a},Y=(s,a)=>s<a?-1:s>a?1:0;function Gs({closePopUp:s}){const[a,o]=t.useState(""),[n,i]=t.useState(""),[c,m]=t.useState(""),[p,j]=t.useState(""),[u,d]=t.useState(),[h,l]=t.useState(""),f=F(),[w,A]=t.useState(!1),N=()=>{A(!w)},v=async x=>{if(x.preventDefault(),c!=p){g.error("Passwords do not match!");return}const b={name:a+" "+n,password:c,student_id:u*1,email:h,join_date:Ue(),community:[],authenticated:0,avatar:"/src/assets/default.png"};let y=!1;const S=await k.post("http://localhost:3002/insertUser",b).catch(T=>{var B;((B=T.response)==null?void 0:B.status)===500&&(g.error(T.response.data.err),y=!0)});if(y)return;if(!S.data.acknowledged){g.error("Could not create user!");return}g.success("Account created successfully!"),setTimeout(()=>{s(),f(`/verify/${h}/auth`)},1e3)};return e.jsx("div",{className:"register",children:e.jsxs("div",{className:"secondary-wrapper",children:[e.jsx("div",{className:"sign-up-form",children:e.jsxs("form",{className:"sign-up-fields",onSubmit:v,children:[e.jsxs("div",{className:"div-2",children:[e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"first-name",className:"text-wrapper100",children:"First name"}),e.jsx("input",{required:!0,type:"text",name:"first-name",className:"div-4",onChange:x=>{o(x.target.value)}})]}),e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"last-name",className:"text-wrapper100",children:"Last name"}),e.jsx("input",{required:!0,type:"text",name:"last-name",className:"div-4",onChange:x=>{i(x.target.value)}})]})]}),e.jsxs("div",{className:"div-2",children:[e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"password",className:"text-wrapper100",children:"Password"}),e.jsx("input",{required:!0,type:w?"text":"password",name:"password",className:"div-4",onChange:x=>{m(x.target.value)}}),e.jsx("div",{className:"signup-showpass",onClick:N,children:w?e.jsx(ie,{}):e.jsx(le,{})})]}),e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"check-password",className:"text-wrapper100",children:"Repeat password"}),e.jsx("input",{required:!0,type:w?"text":"password",name:"check-password",className:"div-4",onChange:x=>{j(x.target.value)}})]})]}),e.jsx("div",{className:"div-2",children:e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"studentId",className:"text-wrapper100",children:"Student ID"}),e.jsx("input",{required:!0,type:"text",name:"studentId",className:"div-4",onChange:x=>{d(x.target.value)}})]})}),e.jsx("div",{className:"div-2",children:e.jsxs("div",{className:"div-3",children:[e.jsx("label",{htmlFor:"email",className:"text-wrapper100",children:"Email"}),e.jsx("input",{required:!0,type:"email",name:"email",className:"div-4",onChange:x=>{l(x.target.value)}})]})}),e.jsxs("div",{className:"sign-up-checkbox",children:[e.jsx("input",{required:!0,type:"checkbox",className:"checkbox-sign",name:"remember"}),e.jsxs("label",{htmlFor:"remember",children:["I agree with the"," ",e.jsx(U,{style:{color:"#86c232"},children:"Terms and conditions"})]})]}),e.jsx(r.input,{type:"submit",whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#FFFFFF"},whileTap:{scale:.9},className:"create-your-acnt",value:"Create Your Account"})]})}),e.jsx("div",{className:"overlap-group",children:e.jsx("div",{className:"sing-up-today",children:e.jsx("p",{className:"sign-up-text",children:"Fill out the necessary fields to create an account right away!"})})})]})})}function He({closePopUp:s,showLogin:a,authentication:o}){const[n,i]=t.useState(a),c=()=>{i(!0)},m=()=>{i(!1)};return e.jsx(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{x:1500,transition:{ease:"easeIn",duration:.3}},className:"log-in-holder",children:e.jsxs("div",{className:"holder-2",children:[e.jsx("div",{className:"lower-holder",children:n?e.jsx(Ys,{closePopUp:s}):e.jsx(Gs,{closePopUp:s})}),e.jsxs("div",{className:"upper-holder",children:[e.jsx("div",{className:"left-divider",alt:"Left divider",src:"left-divider.svg"}),e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"sign-up-green",onClick:m,children:"Sign Up"}),e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"text-wrapper99",onClick:c,children:"Log In"})]})]})})}function Qs(){const[s,a]=t.useState(!1),[o,n]=t.useState(!0),i=F(),c=()=>{a(!0)},m=()=>{a(!1)};return t.useLayoutEffect(()=>{const p=window.localStorage.getItem("logInStatus");n(p==="false"||p===null)},[]),e.jsxs("div",{className:"section-hero",id:"hero",children:[e.jsx("div",{className:"overlap-hero-group",children:e.jsxs("div",{className:"hero-container",children:[e.jsxs("div",{className:"div-hero-content",children:[e.jsxs("div",{className:"hero-heading",children:[e.jsx("div",{className:"upper-title",children:"MIST"}),e.jsx("div",{className:"central-wrapper",children:" CENTRAL"}),e.jsx("div",{className:"lower-title",children:"RESOURCE HUB"}),e.jsx("div",{className:"subtitle",children:"Share your knowledge through"})]}),e.jsxs("div",{className:"button-wrapper",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"com-button",onClick:()=>{i("/allCommunities")},children:e.jsx("div",{className:"com-button-text",children:"Our communities"})}),o&&e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"join-button",onClick:c,children:e.jsx("div",{className:"join-button-text",children:"Join now"})})]})]}),e.jsxs("div",{className:"hero-img",children:[e.jsx("img",{className:"illustration",alt:"Illustration",src:Fs}),e.jsx("img",{className:"dot-shape",alt:"Dot shape",src:Ms})]})]})}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:s&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:m,children:e.jsx(He,{closePopUp:m,showLogin:!1})})})]})}const z=({bgColor:s,topImage:a,firstLine:o,secondLine:n,description:i,featNo:c,textColor:m})=>e.jsxs("div",{style:{backgroundColor:`${s}`},className:"div-category-card",children:[e.jsx("div",{className:"icon-bg-circle",style:{backgroundColor:`${s}`}}),e.jsx("img",{className:"div-card-icon",alt:"Div card icon",src:a}),e.jsx("div",{className:"heading-link",children:e.jsxs("div",{className:"AI-chat-assistance",children:[o,e.jsx("br",{}),n]})}),e.jsx("div",{className:"p-card-text",children:e.jsx("p",{className:"cat-desc",children:i})}),e.jsx("div",{className:"span-card-badge",style:{backgroundColor:`${s}`,color:`${m}`},children:e.jsx("div",{className:"feat-no",children:c})})]});const Vs="/assets/feat1-832156bd.svg",Ws="/assets/feat2-b5f40830.svg",zs="/assets/feat3-b09f469b.svg",Ks="/assets/feat4-ff347d86.svg";function _s(){return e.jsx("div",{className:"section-features",id:"features",children:e.jsxs("div",{className:"feature-container",children:[e.jsxs("div",{className:"feat-overlap-group",children:[e.jsx("div",{className:"feature-upper-title",children:e.jsx("div",{className:"features",children:"FEATURES"})}),e.jsxs("div",{className:"feature-heading",children:[e.jsx("div",{className:"feat-left-text",children:"Share"}),e.jsx("div",{className:"feat-green",children:"Resources"}),e.jsx("div",{className:"feat-right-text",children:"online and interact with AI"})]}),e.jsx("div",{className:"feature-subtile",children:e.jsx("div",{className:"subsub",children:"Our platform offers the following features to its users"})})]}),e.jsxs("div",{className:"feature-list",children:[e.jsx(z,{bgColor:"rgb(26,183,157,10%)",topImage:Vs,firstLine:"AI Chat",secondLine:"Assistance",description:"Get help and suggestions from your very own AI chat assistant.",featNo:"FEAT 1",textColor:"rgb(26,183,157)"}),e.jsx(z,{bgColor:"rgb(238,73,98,10%)",topImage:Ws,firstLine:"Resource Sharing",secondLine:"with peers",description:"Share different kinds of content with your community.",featNo:"FEAT 2",textColor:"rgb(238,73,98)"}),e.jsx(z,{bgColor:"rgb(68,97,228,10%)",topImage:zs,firstLine:"Interactive",secondLine:"Communities",description:"Connect with your own peer groups to share knowledge.",featNo:"FEAT 3",textColor:"rgb(68,97,228)"}),e.jsx(z,{bgColor:"rgb(248,183,32,10%)",topImage:Ks,firstLine:"Personalized",secondLine:"Profiles",description:"Customize your profile and bookmark the materials as per your need.",featNo:"FEAT 4",textColor:"rgb(248,183,32)"})]})]})})}const Xs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFnSURBVHgBxVLBbYNAELzDCL5OBaEDSAVxKojzRDwMFSSuwLgCJxVAhIBnnAoiV2BSQSiBL0hAZhBIxMHy0yed7m53Z3bm7oS49pCXCoIgMDRNe5FSmm3b5lVVbT3PyycJ4jjeoHAxLkyS5AcpA7FvkmCfl2V5h1xBjDKAUbhDgY/CG6yurutBFEWLHuw5jmNh/8SzqqrWgFNGAlh8YCEAbzwrimJ0MqXsutV13a2z2Ww+RVAAaMKGBcAjpcLGnnHMHdQsAQx4Rj77RwDwGgl2O/ayeQckXfMM8AfWOc+2becDTh0pIMk7CJ5ppWmarogq4LmAHSrLYHE/xsjR7fviZIAwRHzJzmOrmCFeolMoAXZRRG/s7lNemqa0cOyBB8RD3glUGXxm7FfIZ1D3oCKw6plvEQzwnOwser9bSD5VFqJpDtyGH0wF6yf8SfH3U5mdPynvQfglzg9r8iv3tlxxYeBfvIqrj1+BbrqqnP9JPwAAAABJRU5ErkJggg==",Zs="/assets/Img-star-4082a613.svg",$s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAYCAYAAAAYl8YPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEPSURBVHgB7VTREYIwDG09B2ADO4IjMAIj4AZsAE7ACDoCTmCdQJ0ANygb1ORMIUgp9c5P3t0jx0t4hDZUiD9ChpLW2gRCCsTYAR9Sypf4BWCSAq/WD9T3sUYle1ADC2BFUbNcGWvUYnekZaRldK8ojyjmjBQzUkzPSc+/ap1hX7thfhXF49IiU/5At4WvM3xT69EnnbGcQY46oxFQwKeYR0Kfp5h2cXpvJj5zhDABsxqIneMXNL6CLcWOovLUaODNoyF2eJmssR2GNBERYLuvfUm30HWk2XluY1zBPWa6+XCLhdZbKjy5v4Dl+T87Gu6QYWMHGHrQME37jGTANIWQA/GEcEeQBjawe1qsWBGPN4sVbGjOuQN1AAAAAElFTkSuQmCC",et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFqSURBVHgBlVPRUYNAEOUIyeQvWIHYwdkBJfgbZhhjBSYVWEJiBegwwK8dJCVoB9gB+YMPwPd0URIuzLgzx+3e2327t7coa0SiKHIdx9GdHYbh4dzHHiOYTqe7yWSy71aSJG/nPiqO4zuAjzTqun5Gll+nNE332Fyl1KZt2y2WB/3As6qqHiC5LcEsU0NfGwo5LpdLBhUIdrHf0nc2m+0IOuL0gYUErZasnWjB/kpWasVqsF8PesAMAK+oskxZJ9I0jSek7oBASFqpxjIJzpmkgOoZCQCqHx5lJMA5G5lTz7LMGxDYtr0OgsDHi2xMBMAXUgGv447OwYUraATmYup/E0A4nbmQuaYeaAyXj5nQFwg8zMU3AfvhGBy2CLbGhM3DNT7Zj45g0YFgfSHIsYXDPTFWZPVmAviKzw25cfA5wvB7VyBo9Z6RI95NJ/8TH9iT+L4qKckX5gJZ+5lO7LIs3+fzOW0PK2cvvgCtQKRAuDRztAAAAABJRU5ErkJggg==",de=({communityTag:s,communityBio:a,communityRating:o,communityName:n,resourceCount:i,memberCount:c,communityImage:m,hideShowRequest:p})=>{const[j,u]=t.useState(!1);t.useEffect(()=>{u(!p)},[]);const d=async()=>{if(window.localStorage.getItem("logInStatus")==="true"){const l=JSON.parse(localStorage.getItem("currentUser")),f={name:l.name,email:l.email,tag:s,id:l.student_id,date:new Date().toISOString(),avatar:l.avatar};let w=!1;const A=await k.post("http://localhost:3002/insertRequest",f).catch(v=>{var x;((x=v.response)==null?void 0:x.status)===500&&(w=!0,g.error("Request already sent!"))});if(w)return;if(A.status===201){g.warning("Already a member of this community!");return}A.data.acknowledged&&g.success("Request sent successfully!")}else g.error("Log in to join a community")};return e.jsx(r.div,{animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},layout:!0,className:"scroll-item",children:e.jsxs("div",{className:"com-card",children:[e.jsxs("div",{className:"com-card-overlap-group",children:[e.jsx("div",{className:"com-img",children:e.jsx("img",{className:"course-jpg",src:m})}),j&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"request-now",onClick:d,children:[e.jsx("img",{className:"res-img",alt:"Res img",src:$s}),e.jsx("div",{className:"req-wrapper",children:e.jsx("div",{className:"req-text-wrapper",children:"Join"})})]})]}),e.jsxs("div",{className:"com-card-desc",children:[e.jsx("div",{className:"com-tag",children:e.jsxs("div",{className:"com-tag-div",children:["#",s]})}),e.jsx("div",{className:"com-bio",children:e.jsx("p",{className:"com-bio-p",children:a})}),e.jsxs("div",{className:"rating-wrapper",children:[Array(o).fill(null).map((h,l)=>e.jsx("img",{className:"rating-stars",alt:"Rating stars",src:Zs},l)),e.jsxs("div",{className:"rating-text-wrapper",children:["(",o,".0/5 Rating)"]})]}),e.jsx("div",{className:"card-com-name",children:e.jsx("div",{className:"card-com-name-text",children:n})}),e.jsxs("div",{className:"com-stats",children:[e.jsxs("div",{className:"res-count",children:[e.jsx("img",{className:"res-img-1",alt:"Res img",src:et}),e.jsxs("div",{className:"res-text",children:[i," Resources"]}),e.jsx("div",{className:"card-divider",children:e.jsx("div",{className:"stats-divider",children:"|"})})]}),e.jsxs("div",{className:"res-count-2",children:[e.jsx("img",{className:"res-img",alt:"Res img",src:Xs}),e.jsxs("div",{className:"res-text",children:[c," Members"]})]})]})]})]})})};const st="/assets/arrow-623c6f5c.svg",tt=()=>{const[s,a]=t.useState([]),o=F();return t.useEffect(()=>{k.get("http://localhost:3002/get_top_communities").then(n=>{const i=n.data;a(i)}).catch(n=>{console.log(n)})},[]),e.jsx("div",{className:"com-scroll",id:"communities",children:e.jsxs("div",{className:"scroll-container",children:[e.jsx("div",{className:"com-section-subtitle",children:e.jsx("div",{className:"popular-courses",children:"POPULAR COMMUNITIES"})}),e.jsx("div",{className:"com-section-title",children:e.jsx("p",{className:"pick-community",children:"Pick A Community To Get Started"})}),e.jsx("div",{className:"scroll-list",children:s.map((n,i)=>e.jsx(de,{className:"scroll-item-instance",communityTag:n.tag,communityBio:n.description,communityRating:n.rating,communityName:n.name,resourceCount:n.resource,memberCount:n.members,communityImage:`${n.com_image}`},i))}),e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"discover-more",onClick:()=>{o("/allCommunities"),window.scrollTo(0,0)},children:[e.jsx("div",{className:"browse-more",children:"Browse more communities"}),e.jsx("img",{className:"arrow-icon",alt:"Arrow icon",src:st})]})]})})};const at=()=>{const s=[{statNumber:385,description:"Total Members",bgColor:"#1ab79d1a",statNumberColor:"#1AB79D"},{statNumber:15,description:"Total Communities",bgColor:"#EE49621A",statNumberColor:"#EE4962"},{statNumber:1125,description:"Total Downloads",bgColor:"#8F57FF1A",statNumberColor:"#8F57FF"},{statNumber:564,description:"Total Uploads",bgColor:"#F8B7201A",statNumberColor:"#F8B720"}];return e.jsxs("div",{className:"section-stats",id:"stats",children:[e.jsx("div",{className:"stats-container",children:e.jsx("div",{className:"stat-list",children:s.map((a,o)=>e.jsx(ot,{bgColor:a.bgColor,statNumberColor:a.statNumberColor,statNumber:a.statNumber,description:a.description,className:"list-item-instance"},o))})}),e.jsx("div",{className:"stats-divider-right"}),e.jsx("div",{className:"thanks-for-support",children:"Thank You For All your Support"}),e.jsx("div",{className:"stats-divider-left"})]})},ot=({bgColor:s,statNumberColor:a,statNumber:o,description:n})=>e.jsx("div",{className:"stat-list-item",children:e.jsxs("div",{className:"div-stats-card",style:{backgroundColor:s},children:[e.jsx("div",{className:"stat-number",children:e.jsx("div",{className:"stat-number-text",style:{color:a},children:o})}),e.jsx("div",{className:"stat-desc",children:e.jsx("div",{className:"student-enrolled",children:n})})]})});function nt(){return Oe().pathname,e.jsxs("div",{className:" overflow-hidden bg-cover container",children:[e.jsx(Qs,{}),e.jsx(_s,{}),e.jsx(tt,{}),e.jsx(at,{})]})}const ee=()=>{const[s,a]=t.useState();t.useEffect(()=>{const n=localStorage.getItem("profileOption");a(n)},[]);const o=()=>{const n=({MenuIcon:i,menutext:c,linkTo:m})=>e.jsxs(U,{className:s===c?"menu-item-active":"menu-item",to:m,onClick:()=>{a(c),window.localStorage.setItem("profileOption",c)},children:[e.jsx("div",{className:"menu-icon",children:e.jsx(i,{})}),e.jsx("div",{className:"menu-text",children:c})]});return e.jsxs("div",{className:"menu-wrapper",children:[e.jsx(n,{MenuIcon:je,menutext:"General",linkTo:"/profile/info"}),e.jsx(n,{MenuIcon:We,menutext:"Change Password",linkTo:"/profile/change-pass"}),e.jsx(n,{MenuIcon:ce,menutext:"Edit Profile",linkTo:"/profile/edit"}),e.jsx(n,{MenuIcon:fe,menutext:"Bookmarks",linkTo:"/profile/bookmark"}),e.jsx(n,{MenuIcon:Ne,menutext:"My Communities",linkTo:"/profile/my-commnunities"}),e.jsx(n,{MenuIcon:X,menutext:"My Uploads",linkTo:"/profile/my-uploads"}),e.jsx(n,{MenuIcon:we,menutext:"Notifications",linkTo:"/profile/notification"}),e.jsx(n,{MenuIcon:Ae,menutext:"Inbox",linkTo:"/profile/inbox"}),e.jsx(n,{MenuIcon:be,menutext:"Help and Privacy Policy",linkTo:"/profile/help"})]})};return e.jsxs("div",{className:"profile-container",children:[e.jsx("div",{className:"menu-holder",children:e.jsx(o,{})}),e.jsx("div",{className:" content-container ",children:e.jsx(De,{})})]})};const me=s=>{const a=new FileReader;return new Promise((o,n)=>{a.readAsDataURL(s),a.onload=()=>{o(a.result)},a.onerror=i=>{n(i)}})},it=()=>{const[s,a]=t.useState(),[o,n]=t.useState(),[i,c]=t.useState(),[m,p]=t.useState(),[j,u]=t.useState(),[d,h]=t.useState(),[l,f]=t.useState(),w=t.useRef(null),A=async v=>{v.preventDefault();const x={name:s,department:i,bio:j,batch:m*1,email:o,phone:l,avatar:d},b=JSON.parse(window.localStorage.getItem("currentUser"));if(!(await k.patch(`http://localhost:3002/updateUser/${b.student_id}`,x)).data.acknowledged){g.error("Could not update user!");return}b.name=s,b.department=i,b.bio=j,b.batch=m,b.email=o,b.phone=l,window.localStorage.setItem("currentUser",JSON.stringify(b)),g.success("Profile updated successfully.")},N=async v=>{const x=v.target.files[0];if(x.size>2097152){g.error("Image size should be less than 2MB");return}const b=await me(x);let y=!1;const S=await k.post("http://localhost:3002/uploadAvatar",{image:b}).catch(T=>{var B,I;((B=T.response)==null?void 0:B.status)===413?g.error(T.response.statusText):((I=T.response)==null?void 0:I.status)===500&&g.error("Could not upload avatar"),y=!0});if(y)return;const C=S.data;h(C.secure_url),g.success("Avatar updated successfully. Click SAVE to proceed.")};return t.useEffect(()=>{const v=JSON.parse(window.localStorage.getItem("currentUser"));a(v.name),c(v.department),u(v.bio),p(v.batch),n(v.email),f(v.phone),h(v.avatar)},[]),e.jsxs("div",{className:"edit-container",children:[e.jsx("div",{className:"title-container",children:e.jsx("div",{className:"edit-title",children:"Edit Profile"})}),e.jsxs("div",{className:"shobkichu",children:[e.jsxs("form",{className:"form-container",onSubmit:A,children:[e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"name",children:"Name"}),e.jsx("input",{onChange:v=>{a(v.target.value)},className:"edit-input",type:"text",name:"name",value:s})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"email",children:"Email"}),e.jsx("input",{onChange:v=>{n(v.target.value)},className:"edit-input",type:"email",name:"email",value:o})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"department",children:"Department"}),e.jsx("input",{onChange:v=>{c(v.target.value)},className:"edit-input",type:"text",name:"department",value:i})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"batch",children:"Batch"}),e.jsx("input",{onChange:v=>{p(v.target.value)},className:"edit-input",type:"text",name:"batch",value:m,placeholder:"e.g. 2020"})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"bio",children:"Bio"}),e.jsx("input",{onChange:v=>{u(v.target.value)},className:"edit-input",type:"text",name:"bio",value:j})]}),e.jsxs("div",{className:"edit-input-holder",children:[e.jsx("label",{className:"edit-input-label",htmlFor:"phone",children:"Phone"}),e.jsx("input",{onChange:v=>{f(v.target.value)},className:"edit-input",type:"text",name:"phone",value:l})]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"save-edit",children:"Save"})]}),e.jsxs("div",{className:"profile-pic-container",children:[e.jsx("img",{src:d,alt:"avatar",className:"prof-avatar"}),e.jsx(r.div,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"edit-pic-icon",onClick:()=>{w.current.click()},children:e.jsx(ce,{})}),e.jsx("input",{onChange:N,ref:w,type:"file",accept:"image/*",name:"avatarUpload",id:"avatar-up",style:{display:"none"}})]})]})]})};function lt(){const s=F(),[a,o]=t.useState("menu"),[n,i]=t.useState(null),[c,m]=t.useState(J("http://localhost:3002")),p=t.useRef(null),j=JSON.parse(localStorage.getItem("currentUser")),u=()=>{o("menu")},d=()=>{window.localStorage.setItem("logInStatus",!1),window.localStorage.removeItem("currentUser"),c.emit("logOut",j.student_id),g.success("Logged Out Successfully"),setTimeout(()=>{s("/"),window.location.reload(!0)},1e3)},h=A=>{const N=A.offsetHeight;i(N)};function l({DropIcon:A,dropText:N,goToMenu:v,RightIcon:x,linkTo:b}){return e.jsxs("li",{className:"dropdownItem",onClick:()=>{v&&(b?(s(v),window.localStorage.setItem("profileOption",N),window.scrollTo(0,0)):o(v))},children:[e.jsx(A,{}),e.jsxs("div",{children:[" ",N," "]}),x&&e.jsx(x,{})]})}const f=()=>e.jsxs("ul",{children:[e.jsx(l,{DropIcon:ze,dropText:"My Profile",goToMenu:"prof",RightIcon:Ke}),e.jsx("div",{onClick:d,children:e.jsx(l,{DropIcon:_e,dropText:"Logout"})})]}),w=()=>e.jsxs("ul",{children:[e.jsx(r.div,{onClick:u,whileHover:{cursor:"pointer",color:"#ee4962"},children:e.jsx(Xe,{})}),e.jsx(l,{DropIcon:je,dropText:"General",linkTo:!0,goToMenu:"/profile/info"}),e.jsx(l,{DropIcon:ce,dropText:"Edit Profile",linkTo:!0,goToMenu:"/profile/edit"}),e.jsx(l,{DropIcon:fe,dropText:"Bookmarks",linkTo:!0,goToMenu:"/profile/bookmark"}),e.jsx(l,{DropIcon:Ne,dropText:"My Communities",linkTo:!0,goToMenu:"/profile/my-commnunities"}),e.jsx(l,{DropIcon:X,dropText:"My Uploads",linkTo:!0,goToMenu:"/profile/my-uploads"}),e.jsx(l,{DropIcon:we,dropText:"Notifications",linkTo:!0,goToMenu:"/profile/notification"}),e.jsx(l,{DropIcon:Ae,dropText:"Inbox",linkTo:!0,goToMenu:"/profile/inbox"}),e.jsx(l,{DropIcon:Ze,dropText:"Change Password",linkTo:!0,goToMenu:"/profile/change-pass"}),e.jsx(l,{DropIcon:be,dropText:"Help",linkTo:!0,goToMenu:"/profile/help"})]});return t.useEffect(()=>{var A;o("menu"),i((A=p.current)==null?void 0:A.firstChild.offsetHeight),m(J("http://localhost:3002"))},[]),e.jsxs("div",{className:"dropdown-container",style:{height:n},ref:p,children:[e.jsx(he,{in:a==="menu",unmountOnExit:!0,timeout:500,classNames:"option-primary",onEnter:h,children:e.jsx("div",{className:"option",children:e.jsx(f,{})})}),e.jsx(he,{in:a==="prof",unmountOnExit:!0,timeout:500,classNames:"option-secondary",onEnter:h,children:e.jsx("div",{className:"option",children:e.jsx(w,{})})})]})}const ct="/assets/logo-black-45250fb4.svg",rt=[{name:"Home",route:"hero"},{name:"Features",route:"features"},{name:"Communities",route:"communities"},{name:"Stats",route:"stats"},{name:"About",route:"about"}],pe=J("http://localhost:3002",{transports:["websocket"]}),dt=()=>{const[s,a]=t.useState(!1),o=t.useRef(!1),[n,i]=t.useState(!1),[c,m]=t.useState(""),j=Oe().pathname==="/",u=t.useCallback(()=>{a(!0)}),d=t.useCallback(()=>{a(!1)}),h=()=>{i(!n)},l=()=>{if(o.current){const f=JSON.parse(window.localStorage.getItem("currentUser"));m(f.avatar)}};return t.useLayoutEffect(()=>{const f=window.localStorage.getItem("logInStatus");o.current=f==="true",l()},[]),t.useEffect(()=>{pe.on("sendInvitationNotification",f=>{g.success(f),console.log(f)})},[pe]),e.jsxs("div",{className:"navbar",children:[e.jsxs("div",{className:"navbar-frame",children:[e.jsx(U,{to:"/",children:e.jsx("img",{alt:"logo",src:ct,className:"navbar-logo"})}),e.jsx("div",{className:"navbar-buttons",children:rt.map((f,w)=>e.jsx(Es,{disabled:!j,className:"navbar-label-wrapper",to:f.route,spy:!0,smooth:!0,offset:-130,duration:500,activeClass:"avtive-navbar-link",children:f.name},w))})]}),e.jsx("div",{className:"login-wrapper",children:o.current?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:c,alt:"avatar",onClick:h,className:"profile-avatar"}),e.jsx("div",{className:`dropdown-menu ${n?"active":"inactive"}`,children:n&&e.jsx(lt,{})})]}):e.jsx(r.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"log-in-button",onClick:u,children:"Log in"})}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:s&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:d,children:e.jsx(He,{closePopUp:d,showLogin:!0,authentication:o.current})})})]})};const mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVFSURBVHgBtVhLSCtXGD5nEvNUE5Vca7TqwkWxrtRWrqgIUnp1JViLD5AK4lJau2+14LKLirt25epWrCulvVRRRLwIPja3Czc+qiiCWo0m5j39/slMbjLO5KG5H3xkPDmPb/7X+SNnT4QoihwfFtAE5oFGkCtfg2EwBAZBP+dcZE8Az3I+CTPgww7aslzvA+8hNJLFGiZkOpEsBjrw+EIWmO3L0Qu9uLq6KpStnzuBstVc8iHPQnFxMb2ca3V11ZjJ/LRvAnEUX0WggeUW5Or/4PJQqkkpD4U4estilntxBPKe2e12BxcXF6N6k3TN3Nvba8hAXCE4AjaDH8skeMB34BvwT/BUZ71hdHS06Pz8/HJiYiLKsgA/PDx0woJlOvwc/F3MHK/Bz/T229vbc7IsEpbjbUwpxH0D3orZ4195rea+c3NzVE/T5gQn1x4fHxfpbDQmZg69lxjT2ps8xmLhlCRSbVZ+f39vrKystGiIp/j6haXGCfgV+IlMN/iFas5P4KfqhS6Xy9LZ2Zl4Gz0SyNvb24XBwUEz08Y8Sy+uB9xksSRR4FHNo2I/qV5st9t5d3c3GUYQEwp5XCDijp+enhrKy8tN7DFesfcZqodfWXK2vgS/Br/UmNssf5+EtrY2Y21trYDamByLpBjWI/PaLi4uSjViJJOM7RGTszwdXqvPOTg4KCUNcomTwBWBAAm04Fnrnv2bacSNChR7mwnW+yPNfAqJpsQBr9cr5ufne/Hoh44wdUCSi2WT0vOjIJWRTtxT8ChkKA5lDcLk5KSkQxFjKCsrMyODrR6PRysGz5g2fpaZCqms6VYPwFbUP1JrRnd0WEkSHo1G+d3dneDz+bQ20ruqMkGzzvg/6oHLy0v6SKqFgvwHR3JwmFjY39/XcvE79nTohceJekA+WygtLVU0cBKotOLS4MbGhtadOMe08T2LuZ+YaKmXCeOvdNb+pR7Y3d2VziZjNTQ0SHqSxCCL2NramkFnsxOWO9Bej16azoYXpeednR1REUg1kP6gFBeXl5fzEAtabv6W5Q7faQ0uLS0ZqdTAxfEfWJKLoVzEXciQxSwQCIhTU1Nad/Fblj5jMwHtsakeRFkx42x6FOFiyWDEuIuNRiM1jBFMiszOzlpSbP4ckT/orZ+enrZZLBZJA3ufF7EYxD0soqulL6NWqzVyfX3Nx8bGbClE0g3wlmUOmktdzW9aX46MjNjJe6iBYafTGampqYl31zzh04hfXFZY0IY4KESwWldWVq6amppS/Y6lzKWGgErJjyz5qqPWjNr9N0zDpQq2trYMra2tJaFQ6IHFOh8qxH4WK9RiokCyJrnWChaYTKZ8h8NhnJ+fv0SXEWYfAOvr68aenh4XkpJuD29BQYEHl4UPSRtCXkhnJpYUXl1dLdzc3EiFOxKJGHCrmPH71V5fX++vqqrK6kdNOlC1GB4ediG0RLPZ7Acf4DnKktDR0VE8DhPLCZcFU8NKlpSsGAwGLSUlJcLCwsJ5rixJ4vr6+j7CfxmiOOMBZ9xhmLoYcjNZMy4wnsXUoMmDIZl+LJQWYCPW0dFROTQ05GTPxMDAgKOrq8uNpoTOCtAZiPcA4p/OjKAXVHRISCrIcl9Iok3IJjPcTZlsw1vayJJ4zsNGkf7+/uuZmZk7liHQqQvj4+MOJJ0DFYL2D8qkhCDL+RBefrhWSgwwqilQhoB70HB2dpaH+CB3KyItJBL10hgOhw0oR2JdXZ23sbHxAa4PtLS0hCoqKqKKINzpeUgC8/b2thW/e+1Yw+WDE8U9IBF9t7e3StZGE8UR/gePAZBtFH/mugAAAABJRU5ErkJggg==",ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKdSURBVHgBzVdRbhMxFHybTUMJaRAUwQ/lGykHoSdIL0APgDgA4gA9AblA6AEKFwDx314A+lUUEG1T2hKyzCzPiWtsr7ckUkcaObKdnbH9/GxnkoiiKDIUq2ALXAGbYGaawQn4C7wEz7MsK1K+m1V1gHCOog3eSelv4Qw8hZHfch0DOuI1Ff4fnKqRItmAjnodzGUx4CyMfLORecS5vvcWKG6b+AYTE7uy4YjnSxIX/eZ91fjXgK75Iqc9ZGJdtUo0rcY1iYt3wU1wQ+LYBw/AQwmb6IAnMwM6LbFofw1uSz28AV8F2jrQPGNQmhnoSLU4P7gLfgaPA305S0/A5zI3HDLB3HKSwQnj4FGgE6f7EzgEX0g12L+v/beVTwOGp+ARxW9FPtjTcuBp66rYM/Cx1jFGXqrwW6vOB2qvcglaUm3gi1Pviwku0Y7+3pP5qGNB26oyYHDsEafge63rS/Wa+7BCA3X2/YYKDR2hD+APbduRcJC6yLkOdU44syS7nrZ3Wm5KOhoNqYe7WsbO+tTR/3VQ8TEXe1r6Rrml5b6kY8oY4CnVTPwDR8fg41pzG9pbra9th5KOMhNeJhjoynxqTfDRxJbVx029XanGxBhoBzqY0TD4Plr1FBpoPePC3vcGZv8fSBgXjIELCcdBbM2ZnBj5Q/EHnskLsZg4b+JEmvJkEv9p6K75QIVjh1FP0mLiJ++JZQ7Q4/ihhLHo45g44nE8S0IwwbVsR/7ANe3JPBmFwBH7YsLGGOJlu22A8fBAlnslI7jtv5pr+iwTMhZQjLTDMsVH9hvhSirWe/t3WY6J8tvu2+DmPUwcI1WBmYKx8O5X52nmmOAs8Mp+W9JBMeaW8bUfpx4j5nnOOySfb7lcfZ5TiM9zZtbk5/kfAHfNPBPugpQAAAAASUVORK5CYII=",ht="/assets/Social Icons (1)-47f9ad4e.svg",pt="/assets/Social Icons-f1b92ca3.svg",xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADgSURBVHgBpVTbEYIwELwP/6WElGAJlEAHpgQ6kBLsQEuwg9ABWgElYAfx0I0uDJFHdmYnuZDb7E4yiCTCe3+QrdDmXHlWdv6D5WJoPlFzQNt/3800Gx2OSqvs50/lQ7lXBhd1rDlTlkpHp9ZYy+Dq7QRjvriZ9gWRSnkLsb72KXeHTWbCKYsYzC9jN1cSc8oiJoLaRm8Lp1jK3qIeiGCvG8SKAQJ3/0M1OrBHKUtBEcqJNSNrgBgN1Q3Xa4QKOMgplpUtwI06vKv1sUioondWy1bgrXVJsSZcGUmF//PfeQEdbqZrU4KlDAAAAABJRU5ErkJggg==",gt="/assets/logo-white-f563c81e.png",vt="/assets/linkedin-da7f2e25.svg";function jt(){const s=F(),[a,o]=t.useState(),n=i=>{i.preventDefault(),s(`/verify/${a}/auth`),o("")};return e.jsxs("div",{className:"section-footer",id:"about",children:[e.jsx("div",{className:"div-footer-top",children:e.jsxs("div",{className:"footer-container",children:[e.jsxs("div",{className:"div-footer-brand",children:[e.jsx("img",{className:"brand-logo",alt:"Brand logo",src:gt}),e.jsx("div",{className:"brand-description",children:"MIST Central Resource Hub gives you the unique opportunity to share your knowledge with your peers and be updated on everything happening on campus."}),e.jsx("div",{className:"footer-brand-info",children:"Address: Mirput Cantonment, Dhaka-1216"}),e.jsx("div",{className:"footer-brand-info",children:"Phone: +88015-58075365"}),e.jsx("div",{className:"footer-brand-info",children:"Email: mistdecoders@gmail.com"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("div",{className:"online-title",children:"Online Platform"}),e.jsx(U,{className:"online-title-item",children:"About"}),e.jsx(U,{to:"/allCommunities",className:"online-title-item",children:"Communities"}),e.jsx(U,{className:"online-title-item",children:"Developers"}),e.jsx(U,{className:"online-title-item",children:"Events"}),e.jsx(U,{className:"online-title-item",children:"Developer Profile"}),e.jsx(U,{className:"online-title-item",children:"View Guide"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("div",{className:"online-title",children:"Links"}),e.jsx(U,{className:"online-title-item",children:"Contact Us"}),e.jsx(U,{className:"online-title-item",children:"Gallery"}),e.jsx(U,{className:"online-title-item",children:"News & Articles"}),e.jsx(U,{className:"online-title-item",children:"FAQ's"}),e.jsx(U,{className:"online-title-item",children:"Thesis Gallery"}),e.jsx(U,{className:"online-title-item",children:"Coming Soon"})]}),e.jsxs("div",{className:"contact-us",children:[e.jsx("div",{className:"online-title",children:"Verification"}),e.jsx("div",{className:"brand-description",children:"Enter your email address to verify your account if you haven't already"}),e.jsxs("form",{className:"sub-form",onSubmit:n,children:[e.jsx("input",{required:!0,type:"email",placeholder:"your email address",onChange:i=>o(i.target.value),className:"sub-input",value:a}),e.jsxs(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"sub-button",type:"submit",children:[e.jsx("div",{className:"suscribe",children:"Verify"}),e.jsx("img",{className:"sub-arrow",alt:"Arrow",src:xt})]})]}),e.jsxs("div",{className:"social-links",children:[e.jsx("img",{src:mt,alt:"facebook"}),e.jsx("img",{src:ut,alt:"facebook"}),e.jsx("img",{src:vt,alt:"facebook"}),e.jsx("img",{src:ht,alt:"facebook"}),e.jsx("img",{src:pt,alt:"facebook"})]})]})]})}),e.jsx("div",{className:"div-footer-bottom",children:e.jsxs("div",{className:"p-copyright",children:[e.jsx("div",{className:"copyright-2",children:"Copyright 2023 All Rights Reserved by"}),e.jsx(U,{to:"/",className:"link-codewithsadee",children:"RHUB@MIST"})]})})]})}const se=J("http://localhost:3002",{transports:["websocket"]});function ft(){const[s,a]=t.useState(),[o,n]=t.useState(),[i,c]=t.useState(),[m,p]=t.useState(),[j,u]=t.useState(1),[d,h]=t.useState(34),[l,f]=t.useState([]),[w,A]=t.useState(),[N,v]=t.useState(new Date),x=F(),b=JSON.parse(localStorage.getItem("currentUser"));t.useEffect(()=>{const C=JSON.parse(window.localStorage.getItem("currentUser"));a(C.name),n(C.student_id),c(C.department),p(C.bio),u(C.batch),f(C.email),A(C.phone),v(new Date(C.join_date))},[]),t.useEffect(()=>{se.emit("addOnlineUser",{student_id:b.student_id}),se.on("sendInvitationNotification",C=>{g.success(C),console.log(C)})},[se]);const y=({title:C,desc:T})=>e.jsxs("div",{className:"details-row",children:[e.jsxs("div",{className:"details-title",children:[C," :"]}),e.jsx("div",{className:"details-desc",children:T})]}),S=()=>{window.localStorage.setItem("profileOption","My Uploads"),x("/profile/my-uploads"),window.location.reload(!0)};return e.jsxs("div",{className:"general-info",children:[e.jsx("div",{className:"prof-username",children:s}),e.jsxs("div",{className:"bio-wrapper",children:[e.jsx("div",{className:"bio-text",children:"Bio"}),e.jsx("p",{className:"bio-text-2",children:m})]}),e.jsxs("div",{className:"member-since-wrapper",children:[e.jsx("div",{className:"join-date",children:q(N)}),e.jsx("div",{className:"join-date-2",children:"Member since"}),e.jsx("p",{className:"join-date-3",children:"You have joined RHUB on"})]}),e.jsxs("div",{className:"details-wrapper",children:[e.jsx(y,{title:"Name",desc:s}),e.jsx(y,{title:"Email",desc:l}),e.jsx(y,{title:"Student ID",desc:o}),e.jsx(y,{title:"Department",desc:i}),e.jsx(y,{title:"Batch",desc:j}),e.jsx(y,{title:"Phone",desc:w})]}),e.jsxs("div",{className:"up-count-wrapper",children:[e.jsx("div",{className:"upload-1",children:"My Uploads"}),e.jsx("div",{className:"upload-content",children:d}),e.jsx("div",{className:"last-on-nov",children:"Last on  Nov. 2021"}),e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"see-all-uploads",onClick:S,children:e.jsx("div",{className:"upload-1",children:"See all uploads"})})]})]})}function Nt({closePopUp:s}){const[a,o]=t.useState(),[n,i]=t.useState(),[c,m]=t.useState(),[p,j]=t.useState("open"),[u,d]=t.useState(0),h=async l=>{l.preventDefault();const f=JSON.parse(window.localStorage.getItem("currentUser")),w=f.student_id;if(!Fe(n)){g.error("Tag must be in all caps");return}const A={name:a,tag:n,description:c,privacy:p,members:1,resource:0,rating:0,admin:w,com_image:"/src/assets/default-com.jpg",imagePublicId:""};let N=!1;const v=await k.post("http://localhost:3002/insertCommunity",A).catch(y=>{var S;((S=y.response)==null?void 0:S.status)===500&&(g.error(y.response.data.err),N=!0)});if(N)return;if(!v.data.acknowledged){g.error("Could not create community!");return}g.success("Successfully Created Community!!");const b={userId:w,tag:n};N=!1,await k.patch("http://localhost:3002/addComToUser",b).catch(y=>{var S;((S=y.response)==null?void 0:S.status)===500&&(g.error(y.response.data.err),N=!0)}),f.community.push(n),window.localStorage.setItem("currentUser",JSON.stringify(f)),!N&&setTimeout(()=>{s(),window.location.reload(!0)},500)};return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"com-create-container",children:[e.jsx("div",{className:"crt-header",children:"Create a New Community"}),e.jsxs("form",{className:"create-com-form",onSubmit:h,children:[e.jsxs("div",{className:"privacy-holder",children:[e.jsx("div",{className:"privacy-header",children:"Select a privacy type for your community"}),e.jsxs("div",{className:"privacy-radio",children:[e.jsxs("div",{children:[e.jsx("input",{checked:p==="private",type:"radio",id:"private",className:"privacy-radio-button",name:"privacy",value:"private",onChange:l=>{j(l.target.value)}}),e.jsx("label",{htmlFor:"private",className:"radio-text",children:"Private"})]}),e.jsxs("div",{children:[e.jsx("input",{checked:p==="open",type:"radio",id:"open",className:"privacy-radio-button",name:"privacy",value:"open",onChange:l=>{j(l.target.value)}}),e.jsx("label",{htmlFor:"open",className:"radio-text",children:"Open"})]})]})]}),e.jsxs("div",{className:"create-fields",children:[e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"name",className:"filed-label",children:"Name*"}),e.jsx("input",{required:!0,id:"name",type:"text",className:"name-tag-filed name-tag-only",onChange:l=>{o(l.target.value)}})]}),e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"tag",className:"filed-label",children:"Tag*"}),e.jsx("input",{required:!0,id:"tag",type:"text",placeholder:"ALL CAPS and no spaces",className:"name-tag-filed name-tag-only",onChange:l=>{i(l.target.value)}})]}),e.jsxs("div",{className:"create-field-2",children:[e.jsxs("label",{htmlFor:"desc",className:"filed-label",children:[e.jsx("div",{className:"ashol",children:"Description*"}),e.jsxs("div",{className:"word-count",children:[u,"/60"]})]}),e.jsx("textarea",{spellCheck:!0,maxLength:60,rows:2,required:!0,id:"desc",type:"textarea",className:"name-tag-filed desc-only",onChange:l=>{m(l.target.value),d(l.target.value.length)}})]})]}),e.jsxs("div",{className:"create-buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"create-button",onClick:()=>{s()},type:"button",children:"Cancel"}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"create-button",children:"Create"})]})]})]})}function Me({iconWidth:s,iconSize:a}){const o={width:s,fontSize:a};return e.jsx("div",{className:"loading-icon",style:o,children:e.jsx($e,{})})}function wt(){const[s,a]=t.useState([]),[o,n]=t.useState(!1),[i,c]=t.useState("rating"),[m,p]=t.useState(-1),[j,u]=t.useState(""),[d,h]=t.useState(1),[l,f]=t.useState(0),[w,A]=t.useState(!1),N=()=>{if(window.localStorage.getItem("logInStatus")==="false"&&!o){g.error("Please login to create a community");return}n(!o)},v=async(x,b)=>{let y=`http://localhost:3002/get_all_communities/${x}/${b}/${l}`;j.length>0&&(y+=`?tag=${j}`),A(!0);const C=(await k.get(y)).data,T=C.total,B=Math.ceil(T/8);h(B),A(!1),a(C.communities)};return t.useEffect(()=>{v(i,m)},[i,m,l]),e.jsxs(r.div,{layout:!0,className:"community-container",children:[e.jsx("div",{className:"community-header",children:"Our Communities"}),e.jsxs("div",{className:"search-bar",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(Q,{})}),e.jsx("input",{type:"search",className:"search-input-holder",placeholder:"Search communities by tag",onChange:x=>{u(x.target.value)}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",onClick:()=>{v(i,m)},children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:x=>{c(x.target.value)},children:[e.jsx("option",{value:"rating",className:"sort-dropdown-item",children:"Rating"}),e.jsx("option",{value:"members",className:"sort-dropdown-item",children:"Member Count"}),e.jsx("option",{value:"resource",className:"sort-dropdown-item",children:"Available Resources"}),e.jsx("option",{value:"name",className:"sort-dropdown-item",children:"Name"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{p(1)},children:e.jsx(V,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{p(-1)},children:e.jsx(W,{})})]}),e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"add-community",onClick:N,children:[e.jsx(es,{}),"Create a Community"]})]}),e.jsx(r.div,{animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},layout:!0,className:"cards-holder",children:w?e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(Z,{color:"#36d7b7",height:35,width:5})}):s.length!==0?e.jsx(O,{mode:"wait",children:s.map((x,b)=>e.jsx(de,{communityTag:x.tag,communityBio:x.description,communityRating:x.rating,communityName:x.name,resourceCount:x.resource,memberCount:x.members,communityImage:`${x.com_image}`},b))}):e.jsx("div",{style:{fontWeight:"600",fontFamily:"Poppins",position:"absolute",left:"40%"},children:"No communities found"})}),e.jsxs("div",{className:"select-page",children:[l>0&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{f(l-1),setTimeout(()=>{window.scrollTo(0,0)},300)},className:"prev-button",children:[e.jsx(ye,{})," Previous"]}),Array(d).fill(null).map((x,b)=>e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{f(b),setTimeout(()=>{window.scrollTo(0,0)},300)},className:"page-button",style:{backgroundColor:l===b?"#ee4962":"transparent",color:l===b?"#ffffff":"#000000"},children:b+1},b)),l<d-1&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{f(l+1),setTimeout(()=>{window.scrollTo(0,0)},300)},className:"prev-button",children:["Next ",e.jsx(Ce,{})]})]}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:o&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:N,children:e.jsx(Nt,{closePopUp:N})})})]})}function At(){const[s,a]=t.useState([]),[o,n]=t.useState("rating"),[i,c]=t.useState(-1),[m,p]=t.useState(""),[j,u]=t.useState(1),[d,h]=t.useState(0),[l,f]=t.useState(!1),w=F(),A=async(v,x)=>{const b=JSON.parse(window.localStorage.getItem("currentUser")).community;let y=`http://localhost:3002/get_my_communities/${v}/${x}/${JSON.stringify(b)}/${d}`;m.length>0&&(y+=`?tag=${m}`),f(!0);const C=(await k.get(y)).data,T=C.pop().total,B=Math.ceil(T/3);u(B),a(C),f(!1)},N=v=>{g.success("Redirecting to selected community..."),window.localStorage.setItem("comActiveMenu","dashboard"),setTimeout(()=>{w(`/profile/com-holder/${v}/dashboard`)},500)};return t.useEffect(()=>{A(o,i)},[o,i,d]),e.jsxs("div",{className:"my-community-container",children:[e.jsx("div",{className:"community-header",children:"My Communities"}),e.jsxs("div",{className:"search-bar",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(Q,{})}),e.jsx("input",{type:"search",className:"search-input-holder",placeholder:"Search communities by tag",onChange:v=>{p(v.target.value)}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",onClick:()=>{A(o,i)},children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:v=>{n(v.target.value)},children:[e.jsx("option",{value:"rating",className:"sort-dropdown-item",children:"Rating"}),e.jsx("option",{value:"members",className:"sort-dropdown-item",children:"Member Count"}),e.jsx("option",{value:"resource",className:"sort-dropdown-item",children:"Available Resources"}),e.jsx("option",{value:"name",className:"sort-dropdown-item",children:"Name"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{c(1)},children:e.jsx(V,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{c(-1)},children:e.jsx(W,{})})]})]}),e.jsx("div",{className:"cards-holder",children:l?e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(Z,{color:"#36d7b7",height:35,width:5})}):s.length===0?e.jsx("div",{style:{fontWeight:"600",fontFamily:"Poppins",position:"absolute",left:"40%"},children:"No communities found"}):s.map((v,x)=>e.jsx(r.div,{whileHover:{scale:1.04,cursor:"pointer"},whileTap:{scale:.9},title:`Go to ${v.name}.`,onClick:()=>{N(v.tag)},children:e.jsx(de,{communityTag:v.tag,communityBio:v.description,communityRating:v.rating,communityName:v.name,resourceCount:v.resource,memberCount:v.members,communityImage:`${v.com_image}`,hideShowRequest:!0})},x))}),e.jsxs("div",{className:"select-page",children:[d>0&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{h(d-1)},className:"prev-button",children:[e.jsx(ye,{})," Previous"]}),Array(j).fill(null).map((v,x)=>e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{h(x)},className:"page-button",style:{backgroundColor:d===x?"#ee4962":"transparent"},children:x+1},x)),d<j-1&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff",border:"none"},whileTap:{scale:.9},onClick:()=>{h(d+1)},className:"prev-button",children:["Next ",e.jsx(Ce,{})]})]})]})}function bt(){const[s,a]=t.useState(!1),[o,n]=t.useState("dashboard"),i=F(),c=P().tag,m=(p,j)=>{n(p),window.localStorage.setItem("comActiveMenu",p),i(j)};return t.useEffect(()=>{const p=window.localStorage.getItem("comActiveMenu");n(p)},[]),e.jsxs("div",{className:"com-holder",children:[e.jsx("div",{className:"com-menu",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:e.jsx("div",{className:"com-menu-icon",children:s?e.jsxs("div",{className:"com-menu-item",children:[e.jsx(ss,{}),e.jsx("div",{title:"Dashoard",onClick:()=>{m("dashboard",`/profile/com-holder/${c}/dashboard`)},className:o==="dashboard"?"com-menu-item-icon-active":"com-menu-item-icon",children:e.jsx(ts,{})}),e.jsx("div",{title:"Chat",onClick:()=>{m("chat",`/profile/com-holder/${c}/chat`)},className:o==="chat"?"com-menu-item-icon-active":"com-menu-item-icon",children:e.jsx(as,{})}),e.jsx("div",{title:"Resources",onClick:()=>{m("resource",`/profile/com-holder/${c}/resource/list`)},className:o==="resource"?"com-menu-item-icon-active":"com-menu-item-icon",children:e.jsx(os,{})})]}):e.jsx(ns,{})})}),e.jsx("div",{className:"inner-holder",children:e.jsx(De,{})})]})}const M=H({});function yt(){const s=P(),[a,o]=t.useState([]),[n,i]=t.useState([]),[c,m]=t.useState([]),[p,j]=t.useState(!1),[u,d]=t.useState(!1),h=t.useRef(null),l=()=>{j(!p)},f=(N,v)=>Y(new Date(N.date),new Date(v.date))*-1,w=async()=>{let N=!1;const v=await k.get(`http://localhost:3002/get_communityByTag/${s.tag}`).catch(S=>{var C;((C=S.response)==null?void 0:C.status)===500&&(g.error("Could not load data"),N=!0)});if(N)return;const x=v.data;M.value=x,N=!1;const b=await k.get(`http://localhost:3002/getEvents/${s.tag}`).catch(S=>{var C;((C=S.response)==null?void 0:C.status)===500&&(g.error("Could not load data"),N=!0)});if(N)return;const y=b.data;y.sort(f),o([]),i([]),m([]),y.forEach(S=>{Y(new Date(S.date),new Date)===-1?o(C=>[...C,S]):Y(new Date(S.date),new Date)===0?i(C=>[...C,S]):Y(new Date(S.date),new Date)===1&&m(C=>[...C,S])})},A=async N=>{const v=N.target.files[0];if(v.size>2097152){g.error("Image size should be less than 2MB");return}const x=await me(v);let b=!1;const y=await k.post("http://localhost:3002/uploadComImage",{image:x,tag:M.value.tag}).catch(S=>{var C,T;((C=S.response)==null?void 0:C.status)===413?g.error(S.response.statusText):((T=S.response)==null?void 0:T.status)===500&&g.error("Could not upload avatar"),b=!0});b||(y.data,g.success("Image updated successfully."))};return t.useEffect(()=>{w()},[]),e.jsxs("div",{className:"dashboard-wrapper",children:[e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:.3},className:"upper-part",children:[e.jsxs("div",{className:"title",children:[e.jsxs("div",{className:"com-name",children:[M.value.name," Dashboard "]}),e.jsx("div",{className:"com-desc",children:M.value.description}),e.jsxs("div",{className:"com-desc",children:[e.jsx("b",{children:"Admin:"})," ",M.value.admin]})]}),e.jsxs("div",{className:"com-logo",children:[e.jsx(r.img,{whileHover:{scale:1.1},whileTap:{scale:.5},src:M.value.com_image,alt:"com image",className:"com-image",onClick:()=>{h.current.click()}}),e.jsx("input",{onChange:A,ref:h,type:"file",accept:"image/*",name:"avatarUpload",id:"avatar-up",style:{display:"none"}}),e.jsxs("div",{className:"small-stats",children:[e.jsx("div",{className:"small-name",children:M.value.name}),e.jsxs("div",{className:"member-count",children:[M.value.members," members"]}),e.jsx(r.div,{style:{color:"#000000"},whileHover:{scale:1.05,color:"#ee4962"},whileTap:{scale:.9},className:"rate-us",onClick:()=>{d(!u)},children:"rate community"}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:u&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:()=>{d(!1)},children:e.jsx(Tt,{com:M.value,colsePopUp:()=>{d(!u)}})})})]})]})]}),e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:.3},className:"lower-part",children:[e.jsx(te,{eventArray:a,listTitle:"Past"}),e.jsx(te,{eventArray:n,listTitle:"Ongoing"}),e.jsx(te,{eventArray:c,listTitle:"Upcoming"}),e.jsx(r.div,{whileHover:{scale:1.05},whileTap:{scale:.9},className:"add-event",onClick:l,children:e.jsx(re,{})})]}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:p&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:l,children:e.jsx(kt,{})})})]})}const te=({eventArray:s,listTitle:a})=>e.jsxs("div",{className:"past-event",children:[e.jsxs("div",{className:"title-2",children:[e.jsxs("div",{className:"title-left",children:[a," events"]}),e.jsx(r.div,{whileHover:{scale:1.05,cursor:"pointer",borderRadius:"50%"},whileTap:{scale:.9},style:{color:"#000000"},children:e.jsx(is,{})})]}),e.jsx("div",{className:"event-list",children:s.length===0?e.jsx("div",{className:"empty-list",children:"No events"}):s.map((o,n)=>e.jsx(Ct,{event:o},n))})]}),Ct=({event:s})=>{const[a,o]=t.useState(!1),[n,i]=t.useState(-1),[c,m]=t.useState(!1),p=()=>{m(!c)};return e.jsxs("div",{className:"event-card",children:[e.jsx("div",{className:"event-card-title",children:s.title}),e.jsx("div",{className:"event-card-description",children:s.description}),e.jsx("div",{className:"event-card-description",children:q(new Date(s.date))}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"comments",children:[e.jsxs(r.div,{whileTap:{scale:.9},className:"comment-stat",onClick:()=>{o(!a)},children:[e.jsx("div",{style:{color:"#000000",fontSize:"1.1rem"},children:e.jsx(ls,{})}),e.jsx("div",{className:"cmnt-count",children:s.comments.length})]}),a&&e.jsxs("div",{className:"comment-list",children:[s.comments.map((j,u)=>e.jsxs("div",{className:"comment-row",onMouseEnter:()=>{},children:[e.jsx("div",{className:"comment-name",children:j.name}),e.jsx("div",{className:"comment-body",children:j.body}),n===u&&e.jsx(r.div,{whileHover:{scale:1.3,color:"#F6C90E"},whileTap:{scale:.9},className:"delete-comment",children:e.jsx(Se,{})})]},u)),e.jsx(r.div,{whileHover:{scale:1.04,backgroundColor:"#1a1d21"},whileTap:{scale:.9},className:"add-comment",onClick:p,children:e.jsx(re,{})}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:c&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:p,children:e.jsx(St,{tag:s.tag,date:s.date})})})]})]})]})},St=({tag:s,date:a})=>{const[o,n]=t.useState(""),i=JSON.parse(window.localStorage.getItem("currentUser")).name,c=async m=>{m.preventDefault();const p={body:o,name:i};(await k.patch(`http://localhost:3002/addComment/${JSON.stringify(s)}/${a}`,p).catch(d=>{var h;((h=d.response)==null?void 0:h.status)===500&&g.error("Could not add comment")})).data.acknowledged&&(g.success("Comment added successfully"),setTimeout(()=>{window.location.reload(!0)},500))};return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"addEvent-wrapper",children:[e.jsx("div",{className:"title",children:"Add a comment"}),e.jsxs("form",{className:"input-form",onSubmit:c,children:[e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"comment",className:"field-label",children:"Comment"}),e.jsx("textarea",{onChange:m=>{n(m.target.value)},required:!0,type:"text",className:"main-field",style:{backgroundColor:"transparent",border:"solid 1px #0d0f10"}})]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"addEvent-button",children:"Add comment"})]})]})},kt=()=>{const[s,a]=t.useState([]),[o,n]=t.useState(""),[i,c]=t.useState(""),[m,p]=t.useState(""),j=async u=>{u.preventDefault();const d=JSON.parse(window.localStorage.getItem("currentUser")).student_id;let h=!1;for(let f=0;f<s.length;++f)if(!Fe(s[f])){h=!0;break}if(h){g.error("Tags should be all caps");return}const l={tag:s,title:o,description:i,date:m+"T00:00:00.0Z",scheduler:d,comments:[]};await k.post("http://localhost:3002/addEvent",l),g.success("Event created successfully")};return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"addEvent-wrapper",children:[e.jsx("div",{className:"title",children:"Create an event"}),e.jsxs("form",{className:"input-form",onSubmit:j,children:[e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"tag",className:"field-label",children:"Tag"}),e.jsx("input",{onChange:u=>{a(u.target.value.split(" "))},placeholder:"Space separated tags",id:"tag",required:!0,type:"text",className:"main-field",style:{backgroundColor:"transparent",border:"solid 1px #0d0f10"}})]}),e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"title",className:"field-label",children:"Title"}),e.jsx("input",{onChange:u=>{n(u.target.value)},required:!0,type:"text",className:"main-field",style:{backgroundColor:"transparent",border:"solid 1px #0d0f10"}})]}),e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"desc",className:"field-label",children:"Description"}),e.jsx("input",{onChange:u=>{c(u.target.value)},required:!0,type:"text",className:"main-field",style:{backgroundColor:"transparent",border:"solid 1px #0d0f10"}})]}),e.jsxs("div",{className:"field-container",children:[e.jsx("label",{htmlFor:"date",className:"field-label",children:"Date"}),e.jsx("input",{onChange:u=>{p(u.target.value)},required:!0,type:"date",className:"main-field"})]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"addEvent-button",children:"Create event"})]})]})},Tt=({com:s,colsePopUp:a})=>{const[o,n]=t.useState(0),[i,c]=t.useState(0),[m,p]=t.useState(!1),[j,u]=t.useState(""),d=JSON.parse(window.localStorage.getItem("currentUser")),h=async l=>{l.preventDefault();const f={name:d.name,student_id:d.student_id,rating:o,date:new Date().toISOString(),feedback:j},w=await k.patch(`http://localhost:3002/rateCom/${s.tag}`,f).catch(A=>{var N;((N=A.response)==null?void 0:N.status)===500&&g.error("Could not rate community")});w.data,w.status===200?g.success("Community rated successfully"):w.status===201&&g.warning("You have already rated this community"),setTimeout(()=>{a()},500)};return e.jsxs(r.div,{initial:{width:"15vw"},animate:{width:"30vw"},exit:{width:"15vw"},transition:{ease:"easeIn",duration:.2},className:"rating-holder",children:[e.jsx("div",{className:"title",children:"Your opinion matters to us"}),e.jsx("div",{className:"rating-stars",children:[...Array(5)].map((l,f)=>e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"rating",value:f+1,style:{display:"none"}}),e.jsx(cs,{style:{cursor:"pointer"},color:f+1<=(i||o)?"#f6c90e":"#ffffff",onClick:()=>{n(f+1),console.log(o)},onMouseEnter:()=>{c(f+1)},onMouseLeave:()=>{c(0)}})]},f))}),e.jsxs("div",{className:"rating-buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"show-comment",onClick:()=>{p(!m)},children:"Give a feedback"}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"show-comment",onClick:h,children:"Submit"})]}),m&&e.jsx(r.textarea,{initial:{opacity:0,width:0,height:0},animate:{opacity:1,width:"90%",height:"100%"},exit:{opacity:0,width:0,height:0},transition:{ease:"easeIn",duration:.3},className:"comment-field",placeholder:"Write your feedback here",name:"feedback",id:"feedback",cols:"30",rows:"10",onChange:l=>{u(l.target.value)}})]})};const _=H({}),G=J("http://localhost:3002",{transports:["websocket"]});function It(){const s=JSON.parse(localStorage.getItem("currentUser")),[a,o]=t.useState(!1),[n,i]=t.useState(!1),[c,m]=t.useState(""),[p,j]=t.useState(!1),[u,d]=t.useState([]),[h,l]=t.useState(""),[f,w]=t.useState([]),[A,N]=t.useState([]),v=t.useRef(0),x=P().tag,b=t.useRef(null),y=F(),S=()=>{o(!a)},C=async()=>{try{const I=await k.get(`http://localhost:3002/get_communityByTag/${x}`);v.current=I.data.admin,_.value=I.data,m(I.data.name),i(v.current===s.student_id)}catch(I){console.log(I)}},T=async()=>{try{const I=await k.get(`http://localhost:3002/getOnlineUsers/${x}`);w(I.data.online),N(I.data.offline)}catch(I){console.log(I)}},B=async()=>{j(!0),(await k.delete(`http://localhost:3002/deleteCom/${x}/${n?"admin":"member"}/${s.student_id}`).catch($=>{var ue;((ue=$.response)==null?void 0:ue.status)===500&&g.error("Something went wrong")})).data.acknowledged?(j(!1),g.success("Community deleted successfully"),y("/profile/my-commnunities")):g.error("Something went wrong")};return t.useEffect(()=>{C(),T(),G.emit("joinComChat",{user:s,comTag:x})},[]),t.useEffect(()=>{G.on("receiveMessage",I=>{d(D=>[...D,I])})},[G]),e.jsxs(r.div,{layout:!0,className:"com-chat",children:[e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:.3},className:"chat-window",children:[e.jsxs("div",{className:"title",children:[c," Chatroom"]}),e.jsx("div",{className:"chat-holder",children:e.jsx(Us,{initialScrollBehavior:"smooth",className:"chat-holder-scroll",followButtonClassName:"follow-button",scrollViewClassName:"scroll-view",children:u.map((I,D)=>e.jsx(Bt,{user:I.user,message:I.body},D))})}),e.jsxs("form",{className:"message-field",children:[e.jsx(r.div,{whileHover:{scale:1.1,cursor:"pointer",color:"#ee4962"},whileTap:{scale:.9},className:"audio-icon",title:"Attach audio file",children:e.jsx(rs,{})}),e.jsx("textarea",{required:!0,name:"message",id:"message",cols:"30",rows:"10",placeholder:"What do you want to say today",className:"message-input",value:h,onChange:I=>{l(I.target.value)}}),e.jsx(r.div,{whileHover:{scale:1.1,cursor:"pointer",color:"#ee4962"},whileTap:{scale:.9},className:"attach-icon",title:"Attach file",onClick:()=>b.current.click(),children:e.jsx(ds,{})}),e.jsx("input",{type:"file",name:"file",id:"file",ref:b,style:{display:"none"}}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.1,cursor:"pointer"},whileTap:{scale:.9},className:"send-icon",onClick:I=>{I.preventDefault(),G.emit("sendMessage",{user:s,body:h,room:x}),l("")},children:e.jsx(ms,{style:{color:"GrayText"}})})]})]}),e.jsxs(r.div,{className:"members",children:[e.jsxs("div",{className:"onoff-list",children:[e.jsxs(r.div,{initial:{x:500,opacity:0},animate:{x:0,opacity:1},transition:{ease:"easeIn",duration:.3},className:"online",children:[e.jsx("div",{className:"title",children:"Currently Online"}),f.map((I,D)=>e.jsx(xe,{user:I},D))]}),e.jsx("div",{className:"divider"}),e.jsxs(r.div,{initial:{x:-500,opacity:0},animate:{x:0,opacity:1},transition:{ease:"easeIn",duration:.3},className:"offline",children:[e.jsx("div",{className:"title",children:"Offline"}),A.map((I,D)=>e.jsx(xe,{user:I},D))]})]}),e.jsxs("div",{className:"manage-buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#fff"},whileTap:{scale:.9},className:"member-mng",onClick:()=>{v.current===s.student_id?S():g.error("You are not an admin of this community")},children:"Manage Members"}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#fff"},whileTap:{scale:.9},className:"member-mng",onClick:B,children:n?"Delete Community":"Leave Community"})]})]}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:a&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:S,children:e.jsx(Et,{})})}),p&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(Os,{color:"#36d7b7",height:35,width:5})})]})}const Bt=({user:s,message:a})=>{var m;const[o,n]=t.useState(!1),[i,c]=t.useState(!1);return(m=JSON.parse(localStorage.getItem("currentUser")))==null||m.student_id,e.jsxs("div",{className:"chat-row",onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},children:[e.jsx("img",{src:s.avatar,alt:"avatar",className:"sender-avatar"}),e.jsxs("div",{className:"message-body",children:[e.jsxs("div",{className:"name-date",children:[e.jsxs("div",{className:"actual-name-date",children:[e.jsx("div",{className:"name",children:s.name}),e.jsx("div",{className:"date",children:Re(new Date("2023-10-30T15:14:44.195Z"))})]}),e.jsxs(r.div,{whileHover:{scale:1.04,cursor:"pointer",color:"#ee4962"},whileTap:{scale:.9},className:"copy-icon",onClick:()=>{navigator.clipboard.writeText(a),n(!0),setTimeout(()=>{n(!1)},500)},children:[e.jsx(us,{}),o&&e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:e.jsx(r.div,{initial:{width:0,opacity:0,fontSize:0},animate:{width:"fit-content",opacity:1,fontSize:"0.8rem"},exit:{width:0,opacity:0,fontSize:0},transition:{duration:.2,ease:"easeIn"},className:"copy-message",children:"copied"})})]})]}),e.jsxs("div",{className:"main-text",children:[e.jsx("div",{className:"main-actual-text",children:a}),i&&e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"reply-icon",children:[e.jsx(hs,{})," Reply"]})]})]})]})},xe=({user:s})=>e.jsx("div",{className:"online-offline",children:e.jsxs("div",{className:"image-name",children:[e.jsx("img",{src:s.avatar,alt:"avatar",className:"online-image"}),e.jsx("div",{className:"online-name",children:s.name})]})}),Et=()=>{const s=JSON.parse(window.localStorage.getItem("currentUser")),[a,o]=t.useState([]),[n,i]=t.useState(0),c=P().tag,m=async()=>{try{const d=await k.get(`http://localhost:3002/getRequests/${c}`);o(d.data)}catch(d){console.log(d)}},p=async({confirm:d,tag:h,id:l})=>{try{await k.patch("http://localhost:3002/handleRequest",{confirm:d,tag:h,id:l}),m()}catch(f){console.log(f)}},j=async d=>{d.preventDefault();const h={messageBody:`${s.name} has invited you to join his community`,title:_.value.name,date:new Date().toISOString(),type:"invitation",status:"unread",comTag:c,comName:_.value.name},l=await k.patch(`http://localhost:3002/sendInvitation/${n}`,h).catch(w=>{var A;((A=w.response)==null?void 0:A.status)===500&&g.error("Something went wrong")});if(l.status===201){g.warning("Already a member of this community");return}else if(l.status===202){g.warning("User does not exists");return}l.data.acknowledged?(g.success("Invitation sent successfully"),G.emit("sendInvitation",{invitationId:Number(n),sender:s.student_id,comName:_.value.name})):g.error("Something went wrong")};t.useEffect(()=>{m()},[]);const u=({request:d})=>e.jsxs("div",{className:"request-row",children:[e.jsxs("div",{className:"image-name",children:[e.jsx("img",{src:d.avatar,alt:"avatar",className:"image"}),e.jsx("div",{className:"name",children:d.name})]}),e.jsxs("div",{className:"buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#f6c90e",color:"#000000"},whileTap:{scale:.9},className:"confirm",style:{color:"#b6f09c"},onClick:()=>p({confirm:"yes",tag:c,id:d.id}),children:"Confirm"}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff"},whileTap:{scale:.9},className:"confirm",style:{color:"#ee4962"},onClick:()=>p({confirm:"no",tag:c,id:d.id}),children:"Decline"})]})]});return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.5,transition:{ease:"easeIn",duration:.2}},className:"manage-members",children:[e.jsxs("div",{className:"title-wrapper",children:[e.jsx("div",{className:"title",children:"Manage members of your community"}),e.jsx("div",{className:"subtitle",children:"Review requests to join your community and invite new members"})]}),e.jsxs("form",{className:"invitation-send",onSubmit:j,children:[e.jsx("div",{className:"public-icon",children:e.jsx(ps,{})}),e.jsx("input",{required:!0,type:"text",className:"invitation-field",placeholder:"Send invitation by student ID",onChange:d=>i(d.target.value)}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962",color:"#ffffff"},whileTap:{scale:.9},type:"submit",className:"invitation-button",children:"Invite"})]}),e.jsx("div",{className:"request-list",children:a.length===0?e.jsx("div",{style:{fontFamily:"poppins",position:"relative",left:"30%",top:"30%",color:"gray"},children:"No requests to join this community"}):a.map(d=>e.jsx(u,{request:d},d.id))})]})};function Ot({closePopUp:s}){const[a,o]=t.useState(),[n,i]=t.useState([]),[c,m]=t.useState(),[p,j]=t.useState("Open"),u=P().tag,d=async h=>{h.preventDefault(),JSON.parse(window.localStorage.getItem("currentUser")).student_id;const f={access:p,category_name:a,date:Ue(),description:c,keywords:n,community:u,academic:[],student:[],misc:[]};let w=!1;const A=await k.post("http://localhost:3002/createCategory",f).catch(v=>{var x;((x=v.response)==null?void 0:x.status)===500&&(g.error(v.response.data),w=!0)});if(w)return;if(!A.data.acknowledged){g.error("Could not create category!");return}g.success("Successfully Created Category!!"),setTimeout(()=>{s(),window.location.reload(!0)},500)};return e.jsxs(r.div,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"cat-create-container",children:[e.jsx("div",{className:"crt-header",children:"Create a New Category"}),e.jsxs("form",{className:"create-com-form",onSubmit:d,children:[e.jsxs("div",{className:"privacy-holder",children:[e.jsx("div",{className:"privacy-header",children:"Select a privacy type for the category"}),e.jsxs("div",{className:"privacy-radio",children:[e.jsxs("div",{children:[e.jsx("input",{checked:p==="Restricted",type:"radio",id:"private",className:"privacy-radio-button",name:"privacy",value:"Restricted",onChange:h=>{j(h.target.value)}}),e.jsx("label",{htmlFor:"private",className:"radio-text",children:"Restricted"})]}),e.jsxs("div",{children:[e.jsx("input",{checked:p==="Open",type:"radio",id:"open",className:"privacy-radio-button",name:"privacy",value:"Open",onChange:h=>{j(h.target.value)}}),e.jsx("label",{htmlFor:"open",className:"radio-text",children:"Open"})]})]})]}),e.jsxs("div",{className:"create-fields",children:[e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"name",className:"filed-label",children:"Name*"}),e.jsx("input",{required:!0,id:"name",type:"text",className:"name-tag-filed name-tag-only",onChange:h=>{o(h.target.value)}})]}),e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"key",className:"filed-label",children:"Keywords*"}),e.jsx("input",{required:!0,placeholder:"Space separated words in all caps",id:"key",type:"text",className:"name-tag-filed name-tag-only",onChange:h=>{i(h.target.value.split(" "))}})]}),e.jsxs("div",{className:"create-field-2",children:[e.jsx("label",{htmlFor:"desc",className:"filed-label",children:"Description*"}),e.jsx("textarea",{spellCheck:!0,required:!0,id:"desc",type:"textarea",className:"name-tag-filed desc-only",onChange:h=>{m(h.target.value)}})]})]}),e.jsxs("div",{className:"create-buttons",children:[e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"create-button",onClick:()=>{s()},type:"button",children:"Cancel"}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"create-button",children:"Create"})]})]})]})}function Dt(){const[s,a]=t.useState(""),[o,n]=t.useState([]),[i,c]=t.useState(!1),[m,p]=t.useState("date"),[j,u]=t.useState(-1),[d,h]=t.useState(!1),l=P().tag,[f,w]=t.useState(0),[A,N]=t.useState(0),v=F(),x=()=>{c(!i),ekh},b=async(y,S)=>{let C=`http://localhost:3002/get_uploads/${y}/${S}/${l}`;s.length>0&&(C+=`?key=${s.toUpperCase()}`);const T=await k.get(C),B=await k.get(`http://localhost:3002/get_communityByTag/${l}`),I=T.data,D=B.data;n(I),w(D.admin);const $=JSON.parse(window.localStorage.getItem("currentUser")).student_id;N($)};return t.useEffect(()=>{b(m,j)},[m,j]),e.jsxs("div",{className:"com-res",children:[e.jsxs(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{ease:"easeIn",duration:.5},layout:!0,className:"search-tab",children:[e.jsx("div",{className:"res-title",children:"Resources"}),e.jsxs("div",{className:"search-objects",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(Q,{})}),e.jsx("input",{disabled:!!d,type:"search",className:"search-input-holder",placeholder:"Search resources by keyword",onChange:y=>{a(y.target.value)}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",onClick:()=>{b(m,j)},children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:y=>{p(y.target.value)},children:[e.jsx("option",{value:"date",className:"sort-dropdown-item",children:"Date Created"}),e.jsx("option",{value:"resource",className:"sort-dropdown-item",children:"Available Resources"}),e.jsx("option",{value:"category_name",className:"sort-dropdown-item",children:"Name"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{u(1)},children:e.jsx(V,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{u(-1)},children:e.jsx(W,{})})]}),e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"add-community",onClick:x,children:[e.jsx(re,{}),"Add Category"]})]})]}),e.jsx(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{ease:"easeIn",duration:.5},layout:!0,className:"resource-list",children:e.jsx("div",{className:"resource-list-hor",children:o.map((y,S)=>e.jsx(Ut,{onClick:()=>{if(y.access==="Open"||A==f){const T={activeContent:o[S],comAdmin:f,userId:A,access:y.access,keywords:y.keywords};window.sessionStorage.setItem("catData",JSON.stringify(T)),v(`/profile/com-holder/${l}/resource/${y.category_name}/res-item`)}else g.error("Access prohibited.")},access:y.access,name:y.category_name,date:y.date,desc:y.description,academicLen:y.academic.length,studentLen:y.student.length,miscLen:y.misc.length,keywords:y.keywords,index:S,comAdmin:f,userId:A},S))})}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:i&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:x,children:e.jsx(Ot,{closePopUp:x})})})]})}const Ut=({onClick:s,access:a,name:o,date:n,desc:i,academicLen:c,studentLen:m,miscLen:p,keywords:j,index:u})=>e.jsxs("div",{className:"row-wrapper",onClick:()=>{s(u)},children:[e.jsx("div",{className:"access",style:{backgroundColor:a==="Restricted"?"#ee4962":"#1a194d"},children:a}),e.jsxs("div",{className:"category-title-date",children:[e.jsx("div",{className:"category-title",children:o}),e.jsx("div",{className:"category-date",children:q(new Date(n))})]}),e.jsx("div",{className:"short-desc",children:i}),e.jsxs("div",{className:"resource-count",children:[e.jsxs("div",{className:"academic-res",children:[e.jsx(ke,{}),c]}),e.jsxs("div",{className:"academic-res",children:[e.jsx(Te,{}),m]}),e.jsxs("div",{className:"academic-res",children:[e.jsx(Ie,{}),p]})]}),e.jsx("div",{className:"keyword-title",children:"Keywords"}),e.jsx("div",{className:"keywords",children:j.map((d,h)=>e.jsx("div",{className:"keyword",children:d},h))})]}),Rt=()=>{const s=JSON.parse(window.sessionStorage.getItem("catData")),[a,o]=t.useState("academic"),[n,i]=t.useState([]),[c,m]=t.useState("academic"),[p,j]=t.useState(!1),u=t.useRef(null),[d,h]=t.useState(s.access),l=s.comAdmin,f=s.userId,w=s.keywords,[A,N]=t.useState({}),v=P().tag,x=()=>{j(!p)},b=(T,B)=>Y(new Date(T.date),new Date(B.date))*-1,y=async()=>{const B=(await k.get(`http://localhost:3002/get_upload/${JSON.stringify(w)}/${v}`)).data;B.academic.sort(b),B.student.sort(b),B.misc.sort(b),N(B),i(B.academic)},S=async()=>{const T=d==="Open"?"Restricted":"Open";(await k.post("http://localhost:3002/changeAccess",{access:T,keywords:w})).data.acknowledged&&(g.success("Access changed."),h(T))},C=async()=>{(await k.post("http://localhost:3002/insertBookmark",{user:f,uploadDate:A.date,title:A.category_name,bookmarkDate:new Date().toISOString(),comTag:v}).catch(I=>{var D;((D=I.response)==null?void 0:D.status)===500&&g.error("Could not insert bookmark or already added.")})).data.acknowledged&&g.success("Bookmark added.")};return t.useEffect(()=>{y()},[]),e.jsxs("div",{className:"active-resource",children:[e.jsxs(r.div,{initial:{x:-1e3,opacity:0},animate:{x:0,opacity:1},transition:{ease:"easeIn",duration:.3},className:"res-title-wrapper",children:[e.jsxs("div",{className:"title",children:[e.jsx("div",{className:"actual-title",children:A.category_name}),e.jsx("div",{className:"subtitle",children:A.description})]}),e.jsxs("div",{className:"icons",children:[e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"bookmark",onClick:C,children:[e.jsx(xs,{})," Bookmark this"]}),e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"bookmark",onClick:x,children:[e.jsx(X,{})," Upload content"]}),e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"bookmark",onClick:()=>{f==l?S():g.error("Access prohibited.")},children:[d==="Open"?e.jsx(gs,{}):e.jsx(vs,{})," Toggle Access"]}),e.jsx("input",{ref:u,type:"file",name:"contentUpload",id:"content-up",style:{display:"none"}})]})]}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:a==="academic"?"academic-res-active":"academic-res",onClick:()=>{o("academic"),i(A.academic),m("academic")},children:[e.jsx(ke,{}),"Academic"]}),e.jsxs("div",{className:a==="student"?"academic-res-active":"academic-res",onClick:()=>{o("student"),i(A.student),m("student")},children:[e.jsx(Te,{}),"Student Content"]}),e.jsxs("div",{className:a==="misc"?"academic-res-active":"academic-res",onClick:()=>{o("misc"),i(A.misc),m("misc")},children:[e.jsx(Ie,{}),"Miscellanious"]})]}),e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:.3},className:"main-list",children:n.map((T,B)=>e.jsx(Ft,{rowTitle:T.name,uploadTime:q(new Date(T.date)),contentLink:T.content,uploader:T.uploader,publicId:T.publicId,type:T.type,resourceType:T.resourceType,time:A.date,mainListType:c},B))}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:p&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",onOutsideClick:x,children:e.jsx(Ht,{keywords:A.keywords})})})]})},Ft=({rowTitle:s,uploadTime:a,uploader:o,contentLink:n,publicId:i,type:c,resourceType:m,time:p,mainListType:j})=>{const u=P().tag,[d,h]=t.useState(!1),l=async()=>{if(JSON.parse(window.localStorage.getItem("currentUser")).student_id!==Number(o)){g.error("You cannot delete this content.");return}h(!0);const w=await k.delete(`http://localhost:3002/deleteContent/${i}/${p}/${u}/${c}/${m}/${j}`);h(!1),w.data.acknowledged&&(g.success("Content deleted."),setTimeout(()=>{window.location.reload(!0)},500))};return e.jsxs("div",{className:"row-container",children:[e.jsxs("div",{className:"row-title-date",children:[e.jsx("div",{className:"title",children:s}),e.jsxs("div",{className:"upload-time",children:["Uploaded on ",a," by ID ",o]})]}),e.jsxs("div",{className:"row-buttons",children:[e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"#000000",color:"#ffffff"},whileTap:{scale:.9},className:"download-button",onClick:()=>{window.open(n,"_blank")},children:[e.jsx(js,{})," Download"]}),e.jsxs(r.button,{whileHover:{scale:1.05,backgroundColor:"rgb(238, 73, 98)",color:"#ffffff"},whileTap:{scale:.9},className:"download-button",onClick:l,children:[e.jsx(Se,{})," Delete"]})]}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:d&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(Me,{iconSize:"5vw",iconWidth:"5vw"})})})]})},Ht=({keywords:s})=>{const a=t.useRef(null),[o,n]=t.useState(""),[i,c]=t.useState("academic"),[m,p]=t.useState(null),[j,u]=t.useState(!1),d=async l=>{if(l.preventDefault(),m.size>20971520){g.error("Image size should be less than 20MB");return}const f=await me(m),w=JSON.parse(window.localStorage.getItem("currentUser"));let A=!1;u(!0),await k.post(`http://localhost:3002/uploadContent/${i}/${JSON.stringify(s)}/${m.name}/${w.student_id}`,{file:f}).catch(N=>{var v,x;((v=N.response)==null?void 0:v.status)===413?g.error(N.response.statusText):((x=N.response)==null?void 0:x.status)===500&&g.error("Could not upload avatar"),A=!0}),!A&&(u(!1),n(m.name),g.success("File uploaded successfully"),setTimeout(()=>{window.location.reload(!0)},500))},h=l=>{p(l.target.files[0]),n(l.target.files[0].name)};return e.jsxs(r.form,{initial:{scale:.8},animate:{scale:1},transition:{ease:"easeIn",duration:.3},exit:{scale:.8,transition:{ease:"easeIn",duration:.3}},className:"upload-container",onSubmit:d,children:[e.jsxs("div",{className:"name-input",children:[e.jsx("label",{htmlFor:"content",className:"name-label",children:"Content Name"}),e.jsx("input",{placeholder:"Upload a file",value:o,required:!0,type:"text",className:"name-field",id:"content",name:"content"})]}),e.jsx("input",{ref:a,type:"file",name:"contentUpload",id:"content-up",style:{display:"none"},onChange:h}),e.jsxs("select",{required:!0,name:"contentType",id:"type",className:"select-content-type",onChange:l=>{c(l.target.value)},children:[e.jsx("option",{value:"academic",className:"type-item",children:"Academic"}),e.jsx("option",{value:"student",className:"type-item",children:"Student"}),e.jsx("option",{value:"misc",className:"type-item",children:"MISC"})]}),e.jsxs("div",{className:"buttons",children:[e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"upload-button",onClick:()=>{a.current.click()},type:"button",children:[e.jsx(X,{})," Select file"]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"upload-button",type:"submit",children:"Upload"})]}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:j&&e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(Me,{iconSize:"5vw",iconWidth:"5vw"})})})]})};function Pe(s,a){const o={to_email:s,message:a};(()=>{Rs.send("service_3fy6krw","template_beimqbq",o,"E3-0vUQPbmVnJDhAa").then(i=>{g.success("Verification code sent successfully")},i=>{console.log(i.text)})})()}function Mt(){const s=P().email,a=t.useRef(),[o,n]=t.useState(!1),[i,c]=t.useState(""),m=F(),p=async u=>{u.preventDefault();let d=!1;if(i===a.current){const h=await k.patch("http://localhost:3002/setAuthStatus",{email:s}).catch(f=>{var w;((w=f.response)==null?void 0:w.status)===500&&(g.error("Server Error"),d=!0)});if(d)return;h.data.acknowledged&&(g.success("Account Verified Successfully"),setTimeout(()=>{m("/"),window.location.reload(!0)},1e3));return}g.error("Invalid Verification Code")},j=async()=>{let u=!1;const d=await k.get(`http://localhost:3002/getAuthStatus/${s}`).catch(l=>{var f;((f=l.response)==null?void 0:f.status)===500&&(g.error("Server Error"),u=!0)});if(u)return;if(d.data.authenticated===1)n(!0);else{const l=Math.floor(Math.random()*1e13)%1e5;a.current=l.toString(),Pe(s,a.current)}};return e.jsx("div",{className:"verify-body",children:o?e.jsx("div",{className:"already-ver",children:"Your Account is already verified. Thank you!"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"v-title-wrapper",children:[e.jsx("h1",{className:"verify-title",children:"Verify You Email"}),e.jsxs("div",{className:"verify-subtitle",children:["Please provide the verification code we just sent to",e.jsxs("span",{style:{fontWeight:"bold",color:"#1ab79d"},children:[" ","  ",s]})]}),e.jsxs("div",{className:"verify-subtitle",children:["Didn't get a code  ",e.jsx(r.span,{whileHover:{textDecoration:"underline"},whileTap:{color:"#ee4962"},style:{fontWeight:"bold",color:"#1ab79d",cursor:"pointer "},onClick:()=>{j()},children:"send again"})]})]}),e.jsxs("form",{className:"verify-form",onSubmit:p,children:[e.jsx("input",{onChange:u=>{c(u.target.value)},name:"code",id:"code",type:"text",placeholder:"Verification Code"}),e.jsx(r.button,{whileHover:{scale:1.04},whileTap:{scale:.9},type:"submit",className:"verify-btn",children:"Verify"})]})]})})}function Pt(){const[s,a]=t.useState(""),[o,n]=t.useState("bookmarkDate"),[i,c]=t.useState(-1),m=JSON.parse(window.localStorage.getItem("currentUser")).student_id,[p,j]=t.useState([]),u=async()=>{let d=`http://localhost:3002/getBookmarks/${m}/${o}/${i}`;s.length>0&&(d+=`?title=${s}`);const h=await k.get(d).catch(l=>{var f;((f=l.response)==null?void 0:f.status)===500&&g.error("Internal server error")});j(h.data)};return t.useEffect(()=>{u()},[o,i]),e.jsxs("div",{className:"bookmark-container",children:[e.jsxs("div",{className:"search-tab",children:[e.jsx("div",{className:"res-title",children:"My Bookmarks"}),e.jsxs("div",{className:"search-objects",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(Q,{})}),e.jsx("input",{type:"search",className:"search-input-holder",placeholder:"Search bookmarks by title",onChange:d=>{a(d.target.value)}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",onClick:u,children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:d=>{n(d.target.value)},children:[e.jsx("option",{value:"bookmarkDate",className:"sort-dropdown-item",children:"Date added"}),e.jsx("option",{value:"title",className:"sort-dropdown-item",children:"Title"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{c(1)},children:e.jsx(V,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{c(-1)},children:e.jsx(W,{})})]})]})]}),e.jsx("div",{className:"bookmark-list",children:p.map((d,h)=>e.jsx(Lt,{bookmark:d},h))})]})}const Lt=({bookmark:s})=>{const a=F(),o=JSON.parse(window.localStorage.getItem("currentUser")).student_id,n=s.comTag,i=async()=>{window.localStorage.setItem("profileOption","My Communities");const p=(await k.get(`http://localhost:3002/get_communityByTag/${n}`)).data.admin,u=(await k.get(`http://localhost:3002/get_uploadByTitle/${s.title}/${s.uploadDate}`)).data,d={activeContent:u,comAdmin:p,userId:o,access:u.access,keywords:u.keywords};window.sessionStorage.setItem("catData",JSON.stringify(d)),a(`/profile/com-holder/${s.comTag}/resource/${s.title}/res-item`),window.location.reload(!0)},c=async()=>{(await k.delete(`http://localhost:3002/deleteBookmark/${o}/${s.title}`)).data.acknowledged?(g.success("Bookmark deleted"),setTimeout(()=>{window.location.reload(!0)},500)):g.error("Unable to delete bookmark")};return e.jsxs("div",{className:"bookmark-item",children:[e.jsx("div",{className:"bookmark-item-icon",children:e.jsx(fs,{})}),e.jsxs("div",{className:"bookmark-info",children:[e.jsx("div",{className:"bookmark-item-title",children:s.title}),e.jsx("div",{className:"bookmark-item-date",children:q(new Date(s.bookmarkDate))})]}),e.jsxs("div",{className:"bookmark-dropdown",children:[e.jsx("div",{className:"bookmark-dropdown-icon",children:e.jsx(Ns,{})}),e.jsxs("div",{className:"bookmark-dropdown-content",children:[e.jsx("div",{className:"bookmark-dropdown-item",onClick:i,children:"Go to content"}),e.jsx("div",{className:"bookmark-dropdown-item",onClick:c,children:"Delete"})]})]})]})};const ge=H(!1);function Jt(){const[s,a]=t.useState(!0),[o,n]=t.useState([]),[i,c]=t.useState(""),m=async()=>{a(!0),await k.get("http://localhost:3002/loadModel").catch(j=>{var u;((u=j.response)==null?void 0:u.status)===500&&console.log("No FAQs found")}),a(!1)},p=async j=>{ge.value=!1,n(h=>[...h,{text:e.jsx(Ds,{color:"#36d7b7",size:8}),sender:"bot"}]);const u=await k.post("http://localhost:3002/getAnswer",{question:i}).catch(h=>{var l;((l=h.response)==null?void 0:l.status)===500&&console.log("No answer found")});n(h=>[...h.slice(0,h.length-1)]);const d=u.data.length>0?u.data:"Please Rephrase your question";n(h=>[...h,{text:d,sender:"bot"}]),ge.value=!0};return t.useEffect(()=>{m()},[]),e.jsxs(r.div,{initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:"0%"},exit:{opacity:0,x:"-100%"},transition:{duration:.3,ease:"easeInOut"},className:"aichat",children:[e.jsxs(r.div,{className:"upper-panel",children:[e.jsx("div",{className:"back-icon",onClick:()=>{L.value=0},children:e.jsx(Be,{})}),e.jsxs("div",{className:"bot-icon",children:[e.jsx(Ee,{}),"RHUB Support"]})]}),e.jsx("div",{className:"chat-window",children:s?e.jsxs(e.Fragment,{children:[e.jsx(Z,{color:"#36d7b7",height:40,loading:!0,margin:2,radius:5}),e.jsx("div",{className:"loading-model",children:"Model is loading ..."})]}):e.jsx("div",{className:"bot-chats",children:o.map((j,u)=>e.jsx(qt,{message:j},u))})}),e.jsxs("form",{className:"type-message",children:[e.jsx("textarea",{required:!0,type:"text",placeholder:"Type a message...",className:"message-holder",onChange:j=>{c(j.target.value)}}),e.jsx(r.button,{type:"reset",whileHover:{scale:1.3,transform:"rotate(-40deg)"},whileTap:{scale:.1},className:"send-icon",onClick:()=>{i!==""&&(n(j=>[...j,{text:i,sender:"user"}]),c(""),p())},children:e.jsx(oe,{})})]})]})}const qt=({message:s})=>{const a=s.sender==="bot";return e.jsxs("div",{className:"message-container",style:{justifyContent:a?"flex-start":"flex-end"},children:[a&&e.jsx("div",{className:"bot-icon",children:e.jsx(Ee,{})}),e.jsx("div",{className:`message ${a?"bot":"user"}`,children:s.text})]})},K=H(!1),Le=H([]);function Yt(){const s=()=>{K.value=!K.value,L.value=0},a=async()=>{const n=await(await k.get("http://localhost:3002/get_faqs").catch(i=>{var c;((c=i.response)==null?void 0:c.status)===500&&console.log("No FAQs found")})).data;Le.value=n};return t.useEffect(()=>{a()},[]),e.jsxs(r.div,{className:"chatbot",children:[e.jsx("div",{className:"chatbot-icon",onClick:s,title:"Chat with us",children:K.value?e.jsx(As,{}):e.jsx(ws,{})}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:K.value&&e.jsx(Vt,{})})]})}const L=H(0),Je=H({}),Gt=H("20vw"),Qt=H("70vh"),Vt=()=>e.jsx(r.div,{initial:{opacity:0,height:0,width:0},animate:{opacity:1,height:Qt,width:Gt},exit:{opacity:0,height:0,width:0},transition:{duration:.1,ease:"easeInOut"},className:"chatbot-popup",children:e.jsxs(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:[L.value===0&&e.jsx(Wt,{}),L.value===1&&e.jsx(zt,{faq:Je.value}),L.value===2&&e.jsx(Jt,{})]})}),Wt=()=>e.jsxs(r.div,{initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:"0%"},exit:{opacity:0,x:"-100%"},transition:{duration:.3,ease:"easeInOut"},className:"initial-content",children:[e.jsxs("div",{className:"hello",children:["Hi ",e.jsx(bs,{style:{color:"#fffb00"}})," ",e.jsx("br",{})," How can we help?"," "]}),e.jsxs("div",{className:"helpoptions",children:[e.jsxs(r.div,{whileHover:{scale:1.02},whileTap:{scale:.9},className:"send-us",children:[e.jsxs("div",{className:"help-title",children:["Send us a message",e.jsxs("div",{children:[e.jsx(oe,{})," "]})]}),e.jsx("div",{className:"help-sub",children:"We usually reach out within ours"})]}),e.jsxs(r.div,{whileHover:{scale:1.02},whileTap:{scale:.9},className:"send-us",onClick:()=>{L.value=2},children:[e.jsxs("div",{className:"help-title",children:["Chat with our AI",e.jsxs("div",{children:[e.jsx(oe,{})," "]})]}),e.jsx("div",{className:"help-sub",children:"Get information on our project"})]})]}),e.jsxs("div",{className:"faq",children:[e.jsx("div",{className:"faq-title",children:"Frequently asked questions"}),e.jsx("div",{className:"faq-list",children:Le.value.map((s,a)=>e.jsxs(r.div,{whileHover:{scale:1.02},whileTap:{scale:.9},className:"faq-rows",onClick:()=>{Je.value=s,L.value=1},children:[e.jsx("div",{className:"faq-question",children:s.question}),e.jsx("div",{className:"go-icon",children:e.jsx(ys,{})})]},a))})]})]}),zt=({faq:s})=>e.jsxs(r.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:"0%"},exit:{opacity:0,x:"100%"},transition:{duration:.3,ease:"easeInOut"},className:"faq-details",children:[e.jsxs("div",{className:"expand-bar",children:[e.jsx(r.div,{whileHover:{scale:1.02},whileTap:{scale:.9},onClick:()=>{L.value=0},id:"back-icon",children:e.jsx(Be,{})}),e.jsx("div",{id:"expand-icon",onClick:()=>{},children:e.jsx(Cs,{})})]}),e.jsxs("div",{className:"question-part",children:[e.jsx("div",{className:"faq-question",children:s.question}),e.jsx("div",{className:"faq-sub",children:s.subtitle})]}),e.jsxs("div",{className:"written-by",children:[e.jsx("img",{className:"logo",src:sa}),e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"name",children:s.written_by}),e.jsx("div",{className:"updated",children:s.updated_on})]})]}),e.jsx("div",{className:"faq-answer",children:s.description})]});function Kt({invitation:s,fetchNotifications:a}){const[o,n]=t.useState(s.status==="unread"),[i,c]=t.useState(!1),[m,p]=t.useState(s.responded),j=s.title,u=s.messageBody,d=s.comTag,h=Re(new Date(s.date)),l=JSON.parse(localStorage.getItem("currentUser")),f=()=>{c(!i)},w=async()=>{(await k.patch(`http://localhost:3002/updateNotificationStatus/${l.student_id}`,s).catch(x=>{var b;((b=x.response)==null?void 0:b.status)===500&&g.error("Server Error")})).status===200?(g.success("Status Updated"),n(!1),a()):g.error("Server Error")},A=async()=>{(await k.patch(`http://localhost:3002/deleteNotification/${l.student_id}`,s).catch(x=>{var b;((b=x.response)==null?void 0:b.status)===500&&g.error("Server Error")})).status===200?(g.success("Notification Deleted"),a()):g.error("Server Error")},N=async()=>{(await k.patch(`http://localhost:3002/acceptInvitation/${l.student_id}`,s).catch(x=>{var b;((b=x.response)==null?void 0:b.status)===500&&g.error("Server Error")})).status===200?(g.success("Invitation Accepted"),p(!0),l.community.push(d),window.localStorage.setItem("currentUser",JSON.stringify(l))):g.error("Server Error")};return e.jsxs("div",{className:"invitation",children:[e.jsxs("div",{className:"inv-details",children:[e.jsxs("div",{className:"subtitle",children:["Community Invitation"," ",o&&e.jsx(r.span,{whileHover:{scale:1.5},whileTap:{scale:.9},className:"unread",children:"unread"})]}),e.jsx("div",{className:"community-name",children:j}),e.jsx("div",{className:"description",children:u}),e.jsxs("div",{className:"inv-btns",children:[e.jsx("div",{className:"com-tag",children:d}),m?e.jsx("div",{className:"responded",children:"Responded"}):e.jsx("div",{className:"inv-btns",children:e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#f6c90e",color:"#000"},whileTap:{scale:.9},className:"accept-btn",onClick:N,children:"Accept"})})]}),e.jsx("div",{className:"noti-date",children:h})]}),e.jsxs("div",{className:"image-holder",children:[e.jsx(Ss,{style:{cursor:"pointer"},onClick:f}),e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:i&&e.jsxs(r.div,{initial:{height:0,opacity:0},animate:{height:"20%",opacity:1},exit:{height:0,opacity:0},transition:{duration:.1},className:"dropdown",children:[e.jsx(r.div,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"dropdown-item",onClick:A,children:"Delete"}),e.jsx(r.div,{whileHover:{scale:1.04},whileTap:{scale:.9},className:"dropdown-item",onClick:w,children:"Mark as read"})]})}),e.jsx(ks,{className:"type-image"})]})]})}J("http://localhost:3002");function _t(){const[s,a]=t.useState([]),[o,n]=t.useState(0);t.useState("all");const[i,c]=t.useState(!1),m=JSON.parse(localStorage.getItem("currentUser")),p=async()=>{c(!0);const u=(await k.get(`http://localhost:3002/getNotifications/${m.student_id}`).catch(h=>{var l;((l=h.response)==null?void 0:l.status)===500&&g.error("Server Error")})).data;a(u);const d=u.filter(h=>h.status==="unread").length;n(d),c(!1)};return t.useEffect(()=>{p()},[]),e.jsxs("div",{className:"notification",children:[e.jsxs("div",{className:"upper-part",children:[e.jsxs("div",{className:"noti-count",children:[e.jsxs("div",{className:"count-notif",children:["You have"," ",e.jsxs("span",{style:{color:"rgb(26, 183, 157)"},children:[o," new"]})," ","notification(s)"," "]}),e.jsx("div",{className:"notif-title",children:"Notifications"})]}),e.jsxs(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"filters",children:[e.jsx(Ts,{}),"Filter"]})]}),e.jsx("div",{className:"notification-list",children:i?e.jsx(R,{overlayColor:"rgba(0,0,0, 0.5)",placement:"Centered",children:e.jsx(Z,{color:"#36d7b7",height:35,width:5})}):s.map((j,u)=>e.jsx(Kt,{invitation:j,fetchNotifications:p},u))})]})}const ve=H(0),ne=H(!1);function Xt(){return t.useEffect(()=>{ne.value=!1},[]),e.jsx(r.div,{className:"change-pass",children:e.jsx(O,{initial:!1,mode:"wait",onExitComplete:()=>null,children:ne.value?e.jsx($t,{}):e.jsx(Zt,{})})})}const Zt=()=>{const[s,a]=t.useState(0),o=JSON.parse(window.localStorage.getItem("currentUser")).email,n=async()=>{const c=Math.floor(Math.random()*1e13)%1e5;ve.value=c,Pe(o,c)},i=c=>{c.preventDefault(),Number(s)===ve.value?(ne.value=!0,g.success("Code verified")):g.error("Provide a valid code")};return e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"verify-body",children:[e.jsxs("div",{className:"v-title-wrapper",children:[e.jsx("h1",{className:"verify-title",children:"Send verification code"}),e.jsxs("div",{className:"verify-subtitle",children:["A confirmation email will be sent to your email address",e.jsxs("span",{style:{fontWeight:"bold",color:"#1ab79d"},children:[" ","  ",o]})]}),e.jsxs("div",{className:"verify-subtitle",children:["Click to send code  ",e.jsx(r.span,{whileHover:{textDecoration:"underline"},whileTap:{color:"#ee4962"},style:{fontWeight:"bold",color:"#1ab79d",cursor:"pointer "},onClick:()=>{n()},children:"SEND"})]})]}),e.jsxs("form",{className:"verify-form",onSubmit:i,children:[e.jsx("input",{required:!0,onChange:c=>{a(c.target.value)},name:"code",id:"code",type:"text",placeholder:"Verification Code"}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"verify-btn",children:"Verify"})]})]})},$t=()=>{const[s,a]=t.useState("password"),[o,n]=t.useState(""),[i,c]=t.useState(""),m=JSON.parse(window.localStorage.getItem("currentUser")).student_id,p=async j=>{if(j.preventDefault(),o.length<4){g.error("Password must be at least 4 characters long");return}if(o!==i){g.error("Passwords must match");return}const u={password:o},d=await k.patch(`http://localhost:3002/updatePassword/${m}`,u).catch(h=>{var l;((l=h.response)==null?void 0:l.status)===500&&g.error(h.response.data)});d.data,d.status===200?(g.success("Password changed successfully"),setTimeout(()=>{window.location.reload(!0)},500)):d.status===201?g.error("Password must be different from the previous password"):g.error("Something went wrong")};return e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"create-pass",children:[e.jsxs("div",{className:"create-title",children:[e.jsx("div",{className:"create-new-pass",children:"Create New Password"}),e.jsx("div",{className:"create-subtitle",children:"Your new password must be different from your previous password"})]}),e.jsxs("form",{className:"pass-fields",onSubmit:p,children:[e.jsxs("div",{className:"set-pass",children:[e.jsx("label",{htmlFor:"set-pass",className:"passlabel",children:"Password"}),e.jsx("input",{type:s,id:"set-pass",className:"set-pass-input",placeholder:"create new password",onChange:j=>{n(j.target.value)}}),e.jsx("div",{className:"pass-hint",children:"Must be at least 4 characters long"}),e.jsx("div",{className:"show-pass",onClick:()=>{a(s==="password"?"text":"password")},children:s!=="password"?e.jsx(ie,{}):e.jsx(le,{})})]}),e.jsxs("div",{className:"set-pass",children:[e.jsx("label",{htmlFor:"set-pass",className:"passlabel",children:"Confirm Password"}),e.jsx("input",{type:s,id:"set-pass",className:"set-pass-input",placeholder:"create new password",onChange:j=>{c(j.target.value)}}),e.jsx("div",{className:"pass-hint",children:"Passwords must match"})]}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},type:"submit",className:"submit-create-pass",children:"Create New Pass"})]})]})};function ea(){const[s,a]=t.useState([]),[o,n]=t.useState([]),[i,c]=t.useState([]),m=async()=>{const p=JSON.parse(window.localStorage.getItem("currentUser")),j=p.student_id,u=p.community;let h=(await k.get(`http://localhost:3002/getMyUploads/${j}/${JSON.stringify(u)}`)).data,l=[],f=[],w=[];h[0]!==null&&(l=h[0].sort((A,N)=>A.date-N.date)),h[1]!==null&&(f=h[1].sort((A,N)=>A.date-N.date)),h[2]!==null&&(w=h[2].sort((A,N)=>A.date-N.date)),a(l),n(f),c(w)};return t.useEffect(()=>{m()},[]),e.jsxs("div",{className:"myup",children:[e.jsxs("div",{className:"search-tab",children:[e.jsx("div",{className:"res-title",children:"My Uploads"}),e.jsxs("div",{className:"search-objects",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("div",{className:"search-icon",children:e.jsx(Q,{})}),e.jsx("input",{type:"search",className:"search-input-holder",placeholder:"Search uploads by title",onChange:p=>{setSearchQuery(p.target.value)}}),e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"search-community-button",children:"Search"})]}),e.jsxs("div",{className:"sort-by",children:[e.jsx("div",{className:"sort-by-text",children:"Sort by"}),e.jsxs("select",{name:"sort",id:"sort",className:"sort-dropdown",onChange:p=>{setSortOption(p.target.value)},children:[e.jsx("option",{value:"bookmarkDate",className:"sort-dropdown-item",children:"Date added"}),e.jsx("option",{value:"title",className:"sort-dropdown-item",children:"Title"})]})]}),e.jsxs("div",{className:"show-as",children:[e.jsx("div",{className:"show-as-block",onClick:()=>{setSortOrder(1)},children:e.jsx(V,{})}),e.jsx("div",{className:"show-as-block",onClick:()=>{setSortOrder(-1)},children:e.jsx(W,{})})]})]})]}),e.jsx("div",{className:"myup-list",children:s.map(p=>e.jsx(ae,{item:p}))}),e.jsx("div",{className:"myup-list",children:o.map(p=>e.jsx(ae,{item:p}))}),e.jsx("div",{className:"myup-list",children:i.map(p=>e.jsx(ae,{item:p}))})]})}const ae=({item:s})=>e.jsxs("div",{className:"uploadRow",children:[e.jsxs("div",{className:"upload-item",children:[e.jsx("div",{className:"upload-item-title",children:s.name}),e.jsx("div",{className:"upload-item-desc",children:s.resourceType}),e.jsx("div",{className:"upload-item-date",children:q(new Date(s.date))})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("div",{className:"upload-item-button",children:e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"upload-item-button",children:"Download"})}),e.jsx("div",{className:"upload-item-button",children:e.jsx(r.button,{whileHover:{scale:1.04,backgroundColor:"#ee4962"},whileTap:{scale:.9},className:"upload-item-button",children:"Delete"})})]})]}),sa=H("https://res.cloudinary.com/da8v9ysli/image/upload/v1697061060/msthqidxbbfavh8lpczp.svg"),ta=()=>{const s={width:"98.98vw",overflow:"hidden",position:"relative"},[a,o]=t.useState({position:"relative",zIndex:4});return e.jsxs("div",{className:"bg-cover overflow-hidden bg-no-repeat",children:[e.jsx("div",{style:a,children:e.jsx(dt,{})}),e.jsx("div",{style:s,children:e.jsxs(Is,{children:[e.jsx(E,{index:!0,path:"/",element:e.jsx(nt,{})}),e.jsx(E,{path:"/allCommunities",element:e.jsx(wt,{})}),e.jsxs(E,{path:"/profile",element:e.jsx(ee,{}),children:[e.jsx(E,{path:"info",element:e.jsx(ft,{})}),e.jsx(E,{path:"change-pass",element:e.jsx(Xt,{})}),e.jsx(E,{path:"edit",element:e.jsx(it,{})}),e.jsx(E,{path:"bookmark",element:e.jsx(Pt,{})}),e.jsx(E,{path:"my-commnunities",element:e.jsx(At,{})}),e.jsx(E,{path:"my-uploads",element:e.jsx(ea,{})}),e.jsx(E,{path:"notification",element:e.jsx(_t,{})}),e.jsx(E,{path:"inbox",element:e.jsx(ee,{})}),e.jsx(E,{path:"help",element:e.jsx(ee,{})}),e.jsxs(E,{path:"com-holder",element:e.jsx(bt,{}),children:[e.jsx(E,{path:":tag/dashboard",element:e.jsx(yt,{})}),e.jsx(E,{path:":tag/chat",element:e.jsx(It,{})}),e.jsxs(E,{path:":tag/resource",children:[e.jsx(E,{path:"list",element:e.jsx(Dt,{})}),e.jsx(E,{path:":name/res-item",element:e.jsx(Rt,{})})]})]})]}),e.jsx(E,{path:"/verify",children:e.jsx(E,{path:":email/auth",element:e.jsx(Mt,{})})})]})}),e.jsx(jt,{}),e.jsx(Yt,{}),e.jsx(Qe,{position:"bottom-left",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})};Ge.createRoot(document.getElementById("root")).render(e.jsx(qe.StrictMode,{children:e.jsx(Bs,{children:e.jsx(ta,{})})}));
